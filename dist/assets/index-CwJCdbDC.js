(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Av(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),s}var Rp={exports:{}},Do={},Op={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=Symbol.for("react.element"),Tv=Symbol.for("react.portal"),Dv=Symbol.for("react.fragment"),Rv=Symbol.for("react.strict_mode"),Ov=Symbol.for("react.profiler"),Iv=Symbol.for("react.provider"),Lv=Symbol.for("react.context"),Fv=Symbol.for("react.forward_ref"),Mv=Symbol.for("react.suspense"),$v=Symbol.for("react.memo"),Uv=Symbol.for("react.lazy"),Mh=Symbol.iterator;function Vv(e){return e===null||typeof e!="object"?null:(e=Mh&&e[Mh]||e["@@iterator"],typeof e=="function"?e:null)}var Ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lp=Object.assign,Fp={};function _n(e,t,s){this.props=e,this.context=t,this.refs=Fp,this.updater=s||Ip}_n.prototype.isReactComponent={};_n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mp(){}Mp.prototype=_n.prototype;function Vd(e,t,s){this.props=e,this.context=t,this.refs=Fp,this.updater=s||Ip}var zd=Vd.prototype=new Mp;zd.constructor=Vd;Lp(zd,_n.prototype);zd.isPureReactComponent=!0;var $h=Array.isArray,$p=Object.prototype.hasOwnProperty,Bd={current:null},Up={key:!0,ref:!0,__self:!0,__source:!0};function Vp(e,t,s){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)$p.call(t,r)&&!Up.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:qi,type:e,key:a,ref:o,props:i,_owner:Bd.current}}function zv(e,t){return{$$typeof:qi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qd(e){return typeof e=="object"&&e!==null&&e.$$typeof===qi}function Bv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Uh=/\/+/g;function cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bv(""+e.key):t.toString(36)}function Ra(e,t,s,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qi:case Tv:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+cl(o,0):r,$h(i)?(s="",e!=null&&(s=e.replace(Uh,"$&/")+"/"),Ra(i,t,s,"",function(d){return d})):i!=null&&(qd(i)&&(i=zv(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",$h(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+cl(a,l);o+=Ra(a,t,s,c,i)}else if(c=Vv(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+cl(a,l++),o+=Ra(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function oa(e,t,s){if(e==null)return e;var r=[],i=0;return Ra(e,r,"","",function(a){return t.call(s,a,i++)}),r}function qv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Oa={transition:null},Wv={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Oa,ReactCurrentOwner:Bd};function zp(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:oa,forEach:function(e,t,s){oa(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return oa(e,function(){t++}),t},toArray:function(e){return oa(e,function(t){return t})||[]},only:function(e){if(!qd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=_n;Y.Fragment=Dv;Y.Profiler=Ov;Y.PureComponent=Vd;Y.StrictMode=Rv;Y.Suspense=Mv;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wv;Y.act=zp;Y.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Lp({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Bd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$p.call(t,c)&&!Up.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:qi,type:e.type,key:i,ref:a,props:r,_owner:o}};Y.createContext=function(e){return e={$$typeof:Lv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Iv,_context:e},e.Consumer=e};Y.createElement=Vp;Y.createFactory=function(e){var t=Vp.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:Fv,render:e}};Y.isValidElement=qd;Y.lazy=function(e){return{$$typeof:Uv,_payload:{_status:-1,_result:e},_init:qv}};Y.memo=function(e,t){return{$$typeof:$v,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=Oa.transition;Oa.transition={};try{e()}finally{Oa.transition=t}};Y.unstable_act=zp;Y.useCallback=function(e,t){return Ge.current.useCallback(e,t)};Y.useContext=function(e){return Ge.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};Y.useEffect=function(e,t){return Ge.current.useEffect(e,t)};Y.useId=function(){return Ge.current.useId()};Y.useImperativeHandle=function(e,t,s){return Ge.current.useImperativeHandle(e,t,s)};Y.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return Ge.current.useMemo(e,t)};Y.useReducer=function(e,t,s){return Ge.current.useReducer(e,t,s)};Y.useRef=function(e){return Ge.current.useRef(e)};Y.useState=function(e){return Ge.current.useState(e)};Y.useSyncExternalStore=function(e,t,s){return Ge.current.useSyncExternalStore(e,t,s)};Y.useTransition=function(){return Ge.current.useTransition()};Y.version="18.3.1";Op.exports=Y;var w=Op.exports;const Hv=Av(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv=w,Gv=Symbol.for("react.element"),Yv=Symbol.for("react.fragment"),Qv=Object.prototype.hasOwnProperty,Jv=Kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xv={key:!0,ref:!0,__self:!0,__source:!0};function Bp(e,t,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Qv.call(t,r)&&!Xv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Gv,type:e,key:a,ref:o,props:i,_owner:Jv.current}}Do.Fragment=Yv;Do.jsx=Bp;Do.jsxs=Bp;Rp.exports=Do;var n=Rp.exports,qp={exports:{}},lt={},Wp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,F){var I=E.length;E.push(F);e:for(;0<I;){var V=I-1>>>1,W=E[V];if(0<i(W,F))E[V]=F,E[I]=W,I=V;else break e}}function s(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var F=E[0],I=E.pop();if(I!==F){E[0]=I;e:for(var V=0,W=E.length,xe=W>>>1;V<xe;){var fe=2*(V+1)-1,T=E[fe],U=fe+1,re=E[U];if(0>i(T,I))U<W&&0>i(re,T)?(E[V]=re,E[U]=I,V=U):(E[V]=T,E[fe]=I,V=fe);else if(U<W&&0>i(re,I))E[V]=re,E[U]=I,V=U;else break e}}return F}function i(E,F){var I=E.sortIndex-F.sortIndex;return I!==0?I:E.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,p=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var F=s(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=E)r(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=s(d)}}function b(E){if(v=!1,x(E),!p)if(s(c)!==null)p=!0,ee(N);else{var F=s(d);F!==null&&K(b,F.startTime-E)}}function N(E,F){p=!1,v&&(v=!1,g(j),j=-1),f=!0;var I=m;try{for(x(F),h=s(c);h!==null&&(!(h.expirationTime>F)||E&&!P());){var V=h.callback;if(typeof V=="function"){h.callback=null,m=h.priorityLevel;var W=V(h.expirationTime<=F);F=e.unstable_now(),typeof W=="function"?h.callback=W:h===s(c)&&r(c),x(F)}else r(c);h=s(c)}if(h!==null)var xe=!0;else{var fe=s(d);fe!==null&&K(b,fe.startTime-F),xe=!1}return xe}finally{h=null,m=I,f=!1}}var S=!1,C=null,j=-1,k=5,A=-1;function P(){return!(e.unstable_now()-A<k)}function M(){if(C!==null){var E=e.unstable_now();A=E;var F=!0;try{F=C(!0,E)}finally{F?B():(S=!1,C=null)}}else S=!1}var B;if(typeof y=="function")B=function(){y(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,J=O.port2;O.port1.onmessage=M,B=function(){J.postMessage(null)}}else B=function(){_(M,0)};function ee(E){C=E,S||(S=!0,B())}function K(E,F){j=_(function(){E(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,ee(N))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(E){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var I=m;m=F;try{return E()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,F){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var I=m;m=E;try{return F()}finally{m=I}},e.unstable_scheduleCallback=function(E,F,I){var V=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?V+I:V):I=V,E){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=I+W,E={id:u++,callback:F,priorityLevel:E,startTime:I,expirationTime:W,sortIndex:-1},I>V?(E.sortIndex=I,t(d,E),s(c)===null&&E===s(d)&&(v?(g(j),j=-1):v=!0,K(b,I-V))):(E.sortIndex=W,t(c,E),p||f||(p=!0,ee(N))),E},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(E){var F=m;return function(){var I=m;m=F;try{return E.apply(this,arguments)}finally{m=I}}}})(Hp);Wp.exports=Hp;var Zv=Wp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=w,ot=Zv;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kp=new Set,vi={};function Tr(e,t){fn(e,t),fn(e+"Capture",t)}function fn(e,t){for(vi[e]=t,e=0;e<t.length;e++)Kp.add(t[e])}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=Object.prototype.hasOwnProperty,tw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vh={},zh={};function sw(e){return cc.call(zh,e)?!0:cc.call(Vh,e)?!1:tw.test(e)?zh[e]=!0:(Vh[e]=!0,!1)}function rw(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nw(e,t,s,r){if(t===null||typeof t>"u"||rw(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,s,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wd=/[\-:]([a-z])/g;function Hd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wd,Hd);Oe[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wd,Hd);Oe[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wd,Hd);Oe[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kd(e,t,s,r){var i=Oe.hasOwnProperty(t)?Oe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nw(t,s,i,r)&&(s=null),r||i===null?sw(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,r=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var xs=ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,la=Symbol.for("react.element"),zr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),Gd=Symbol.for("react.strict_mode"),dc=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),Yp=Symbol.for("react.context"),Yd=Symbol.for("react.forward_ref"),uc=Symbol.for("react.suspense"),hc=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),Qp=Symbol.for("react.offscreen"),Bh=Symbol.iterator;function Ln(e){return e===null||typeof e!="object"?null:(e=Bh&&e[Bh]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,dl;function Yn(e){if(dl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);dl=t&&t[1]||""}return`
`+dl+e}var ul=!1;function hl(e,t){if(!e||ul)return"";ul=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ul=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Yn(e):""}function iw(e){switch(e.tag){case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 2:case 15:return e=hl(e.type,!1),e;case 11:return e=hl(e.type.render,!1),e;case 1:return e=hl(e.type,!0),e;default:return""}}function mc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case zr:return"Portal";case dc:return"Profiler";case Gd:return"StrictMode";case uc:return"Suspense";case hc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yp:return(e.displayName||"Context")+".Consumer";case Gp:return(e._context.displayName||"Context")+".Provider";case Yd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qd:return t=e.displayName||null,t!==null?t:mc(e.type)||"Memo";case _s:t=e._payload,e=e._init;try{return mc(e(t))}catch{}}return null}function aw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mc(t);case 8:return t===Gd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ow(e){var t=Jp(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ca(e){e._valueTracker||(e._valueTracker=ow(e))}function Xp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Jp(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fc(e,t){var s=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function qh(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Bs(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zp(e,t){t=t.checked,t!=null&&Kd(e,"checked",t,!1)}function pc(e,t){Zp(e,t);var s=Bs(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gc(e,t.type,s):t.hasOwnProperty("defaultValue")&&gc(e,t.type,Bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wh(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function gc(e,t,s){(t!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Qn=Array.isArray;function an(e,t,s,r){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Bs(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hh(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(L(92));if(Qn(s)){if(1<s.length)throw Error(L(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Bs(s)}}function eg(e,t){var s=Bs(t.value),r=Bs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Kh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var da,sg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=da.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lw=["Webkit","ms","Moz","O"];Object.keys(ti).forEach(function(e){lw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ti[t]=ti[e]})});function rg(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ti.hasOwnProperty(e)&&ti[e]?(""+t).trim():t+"px"}function ng(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=rg(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,i):e[s]=i}}var cw=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vc(e,t){if(t){if(cw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function wc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=null;function Jd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jc=null,on=null,ln=null;function Gh(e){if(e=Ki(e)){if(typeof jc!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Fo(t),jc(e.stateNode,e.type,t))}}function ig(e){on?ln?ln.push(e):ln=[e]:on=e}function ag(){if(on){var e=on,t=ln;if(ln=on=null,Gh(e),t)for(e=0;e<t.length;e++)Gh(t[e])}}function og(e,t){return e(t)}function lg(){}var ml=!1;function cg(e,t,s){if(ml)return e(t,s);ml=!0;try{return og(e,t,s)}finally{ml=!1,(on!==null||ln!==null)&&(lg(),ag())}}function bi(e,t){var s=e.stateNode;if(s===null)return null;var r=Fo(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(L(231,t,typeof s));return s}var Nc=!1;if(ds)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Nc=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Nc=!1}function dw(e,t,s,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var si=!1,Za=null,eo=!1,_c=null,uw={onError:function(e){si=!0,Za=e}};function hw(e,t,s,r,i,a,o,l,c){si=!1,Za=null,dw.apply(uw,arguments)}function mw(e,t,s,r,i,a,o,l,c){if(hw.apply(this,arguments),si){if(si){var d=Za;si=!1,Za=null}else throw Error(L(198));eo||(eo=!0,_c=d)}}function Dr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function dg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yh(e){if(Dr(e)!==e)throw Error(L(188))}function fw(e){var t=e.alternate;if(!t){if(t=Dr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var s=e,r=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Yh(i),e;if(a===r)return Yh(i),t;a=a.sibling}throw Error(L(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error(L(189))}}if(s.alternate!==r)throw Error(L(190))}if(s.tag!==3)throw Error(L(188));return s.stateNode.current===s?e:t}function ug(e){return e=fw(e),e!==null?hg(e):null}function hg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hg(e);if(t!==null)return t;e=e.sibling}return null}var mg=ot.unstable_scheduleCallback,Qh=ot.unstable_cancelCallback,pw=ot.unstable_shouldYield,gw=ot.unstable_requestPaint,ve=ot.unstable_now,xw=ot.unstable_getCurrentPriorityLevel,Xd=ot.unstable_ImmediatePriority,fg=ot.unstable_UserBlockingPriority,to=ot.unstable_NormalPriority,yw=ot.unstable_LowPriority,pg=ot.unstable_IdlePriority,Ro=null,Kt=null;function vw(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ro,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:jw,ww=Math.log,bw=Math.LN2;function jw(e){return e>>>=0,e===0?32:31-(ww(e)/bw|0)|0}var ua=64,ha=4194304;function Jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function so(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=Jn(l):(a&=o,a!==0&&(r=Jn(a)))}else o=s&~i,o!==0?r=Jn(o):a!==0&&(r=Jn(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Dt(t),i=1<<s,r|=e[s],t&=~i;return r}function Nw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _w(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Dt(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=Nw(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gg(){var e=ua;return ua<<=1,!(ua&4194240)&&(ua=64),e}function fl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Wi(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=s}function kw(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Dt(s),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,s&=~a}}function Zd(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Dt(s),i=1<<r;i&t|e[r]&t&&(e[r]|=t),s&=~i}}var Z=0;function xg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yg,eu,vg,wg,bg,Sc=!1,ma=[],Ds=null,Rs=null,Os=null,ji=new Map,Ni=new Map,Ss=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jh(e,t){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(t.pointerId)}}function Mn(e,t,s,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ki(t),t!==null&&eu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Cw(e,t,s,r,i){switch(t){case"focusin":return Ds=Mn(Ds,e,t,s,r,i),!0;case"dragenter":return Rs=Mn(Rs,e,t,s,r,i),!0;case"mouseover":return Os=Mn(Os,e,t,s,r,i),!0;case"pointerover":var a=i.pointerId;return ji.set(a,Mn(ji.get(a)||null,e,t,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ni.set(a,Mn(Ni.get(a)||null,e,t,s,r,i)),!0}return!1}function jg(e){var t=hr(e.target);if(t!==null){var s=Dr(t);if(s!==null){if(t=s.tag,t===13){if(t=dg(s),t!==null){e.blockedOn=t,bg(e.priority,function(){vg(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ia(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);bc=r,s.target.dispatchEvent(r),bc=null}else return t=Ki(s),t!==null&&eu(t),e.blockedOn=s,!1;t.shift()}return!0}function Xh(e,t,s){Ia(e)&&s.delete(t)}function Ew(){Sc=!1,Ds!==null&&Ia(Ds)&&(Ds=null),Rs!==null&&Ia(Rs)&&(Rs=null),Os!==null&&Ia(Os)&&(Os=null),ji.forEach(Xh),Ni.forEach(Xh)}function $n(e,t){e.blockedOn===t&&(e.blockedOn=null,Sc||(Sc=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Ew)))}function _i(e){function t(i){return $n(i,e)}if(0<ma.length){$n(ma[0],e);for(var s=1;s<ma.length;s++){var r=ma[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Ds!==null&&$n(Ds,e),Rs!==null&&$n(Rs,e),Os!==null&&$n(Os,e),ji.forEach(t),Ni.forEach(t),s=0;s<Ss.length;s++)r=Ss[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ss.length&&(s=Ss[0],s.blockedOn===null);)jg(s),s.blockedOn===null&&Ss.shift()}var cn=xs.ReactCurrentBatchConfig,ro=!0;function Aw(e,t,s,r){var i=Z,a=cn.transition;cn.transition=null;try{Z=1,tu(e,t,s,r)}finally{Z=i,cn.transition=a}}function Pw(e,t,s,r){var i=Z,a=cn.transition;cn.transition=null;try{Z=4,tu(e,t,s,r)}finally{Z=i,cn.transition=a}}function tu(e,t,s,r){if(ro){var i=Cc(e,t,s,r);if(i===null)_l(e,t,r,no,s),Jh(e,r);else if(Cw(i,e,t,s,r))r.stopPropagation();else if(Jh(e,r),t&4&&-1<Sw.indexOf(e)){for(;i!==null;){var a=Ki(i);if(a!==null&&yg(a),a=Cc(e,t,s,r),a===null&&_l(e,t,r,no,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else _l(e,t,r,null,s)}}var no=null;function Cc(e,t,s,r){if(no=null,e=Jd(r),e=hr(e),e!==null)if(t=Dr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=dg(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return no=e,null}function Ng(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xw()){case Xd:return 1;case fg:return 4;case to:case yw:return 16;case pg:return 536870912;default:return 16}default:return 16}}var As=null,su=null,La=null;function _g(){if(La)return La;var e,t=su,s=t.length,r,i="value"in As?As.value:As.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===i[a-r];r++);return La=i.slice(e,1<r?1-r:void 0)}function Fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fa(){return!0}function Zh(){return!1}function ct(e){function t(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fa:Zh,this.isPropagationStopped=Zh,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=ct(kn),Hi=me({},kn,{view:0,detail:0}),Tw=ct(Hi),pl,gl,Un,Oo=me({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(pl=e.screenX-Un.screenX,gl=e.screenY-Un.screenY):gl=pl=0,Un=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),em=ct(Oo),Dw=me({},Oo,{dataTransfer:0}),Rw=ct(Dw),Ow=me({},Hi,{relatedTarget:0}),xl=ct(Ow),Iw=me({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lw=ct(Iw),Fw=me({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mw=ct(Fw),$w=me({},kn,{data:0}),tm=ct($w),Uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zw[e])?!!t[e]:!1}function nu(){return Bw}var qw=me({},Hi,{key:function(e){if(e.key){var t=Uw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(e){return e.type==="keypress"?Fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ww=ct(qw),Hw=me({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=ct(Hw),Kw=me({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),Gw=ct(Kw),Yw=me({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qw=ct(Yw),Jw=me({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xw=ct(Jw),Zw=[9,13,27,32],iu=ds&&"CompositionEvent"in window,ri=null;ds&&"documentMode"in document&&(ri=document.documentMode);var eb=ds&&"TextEvent"in window&&!ri,kg=ds&&(!iu||ri&&8<ri&&11>=ri),rm=" ",nm=!1;function Sg(e,t){switch(e){case"keyup":return Zw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function tb(e,t){switch(e){case"compositionend":return Cg(t);case"keypress":return t.which!==32?null:(nm=!0,rm);case"textInput":return e=t.data,e===rm&&nm?null:e;default:return null}}function sb(e,t){if(qr)return e==="compositionend"||!iu&&Sg(e,t)?(e=_g(),La=su=As=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kg&&t.locale!=="ko"?null:t.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rb[e.type]:t==="textarea"}function Eg(e,t,s,r){ig(r),t=io(t,"onChange"),0<t.length&&(s=new ru("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var ni=null,ki=null;function nb(e){$g(e,0)}function Io(e){var t=Kr(e);if(Xp(t))return e}function ib(e,t){if(e==="change")return t}var Ag=!1;if(ds){var yl;if(ds){var vl="oninput"in document;if(!vl){var am=document.createElement("div");am.setAttribute("oninput","return;"),vl=typeof am.oninput=="function"}yl=vl}else yl=!1;Ag=yl&&(!document.documentMode||9<document.documentMode)}function om(){ni&&(ni.detachEvent("onpropertychange",Pg),ki=ni=null)}function Pg(e){if(e.propertyName==="value"&&Io(ki)){var t=[];Eg(t,ki,e,Jd(e)),cg(nb,t)}}function ab(e,t,s){e==="focusin"?(om(),ni=t,ki=s,ni.attachEvent("onpropertychange",Pg)):e==="focusout"&&om()}function ob(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Io(ki)}function lb(e,t){if(e==="click")return Io(t)}function cb(e,t){if(e==="input"||e==="change")return Io(t)}function db(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:db;function Si(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!cc.call(t,i)||!It(e[i],t[i]))return!1}return!0}function lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cm(e,t){var s=lm(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lm(s)}}function Tg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dg(){for(var e=window,t=Xa();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Xa(e.document)}return t}function au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ub(e){var t=Dg(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Tg(s.ownerDocument.documentElement,s)){if(r!==null&&au(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cm(s,a);var o=cm(s,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hb=ds&&"documentMode"in document&&11>=document.documentMode,Wr=null,Ec=null,ii=null,Ac=!1;function dm(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ac||Wr==null||Wr!==Xa(r)||(r=Wr,"selectionStart"in r&&au(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ii&&Si(ii,r)||(ii=r,r=io(Ec,"onSelect"),0<r.length&&(t=new ru("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Wr)))}function pa(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Hr={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionend:pa("Transition","TransitionEnd")},wl={},Rg={};ds&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Lo(e){if(wl[e])return wl[e];if(!Hr[e])return e;var t=Hr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Rg)return wl[e]=t[s];return e}var Og=Lo("animationend"),Ig=Lo("animationiteration"),Lg=Lo("animationstart"),Fg=Lo("transitionend"),Mg=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){Mg.set(e,t),Tr(t,[e])}for(var bl=0;bl<um.length;bl++){var jl=um[bl],mb=jl.toLowerCase(),fb=jl[0].toUpperCase()+jl.slice(1);Ks(mb,"on"+fb)}Ks(Og,"onAnimationEnd");Ks(Ig,"onAnimationIteration");Ks(Lg,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(Fg,"onTransitionEnd");fn("onMouseEnter",["mouseout","mouseover"]);fn("onMouseLeave",["mouseout","mouseover"]);fn("onPointerEnter",["pointerout","pointerover"]);fn("onPointerLeave",["pointerout","pointerover"]);Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xn));function hm(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,mw(r,t,void 0,e),e.currentTarget=null}function $g(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;hm(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;hm(i,l,d),a=c}}}if(eo)throw e=_c,eo=!1,_c=null,e}function ne(e,t){var s=t[Oc];s===void 0&&(s=t[Oc]=new Set);var r=e+"__bubble";s.has(r)||(Ug(t,e,2,!1),s.add(r))}function Nl(e,t,s){var r=0;t&&(r|=4),Ug(s,e,r,t)}var ga="_reactListening"+Math.random().toString(36).slice(2);function Ci(e){if(!e[ga]){e[ga]=!0,Kp.forEach(function(s){s!=="selectionchange"&&(pb.has(s)||Nl(s,!1,e),Nl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ga]||(t[ga]=!0,Nl("selectionchange",!1,t))}}function Ug(e,t,s,r){switch(Ng(t)){case 1:var i=Aw;break;case 4:i=Pw;break;default:i=tu}s=i.bind(null,t,s,e),i=void 0,!Nc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function _l(e,t,s,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=hr(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}cg(function(){var d=a,u=Jd(s),h=[];e:{var m=Mg.get(e);if(m!==void 0){var f=ru,p=e;switch(e){case"keypress":if(Fa(s)===0)break e;case"keydown":case"keyup":f=Ww;break;case"focusin":p="focus",f=xl;break;case"focusout":p="blur",f=xl;break;case"beforeblur":case"afterblur":f=xl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Rw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Gw;break;case Og:case Ig:case Lg:f=Lw;break;case Fg:f=Qw;break;case"scroll":f=Tw;break;case"wheel":f=Xw;break;case"copy":case"cut":case"paste":f=Mw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=sm}var v=(t&4)!==0,_=!v&&e==="scroll",g=v?m!==null?m+"Capture":null:m;v=[];for(var y=d,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=bi(y,g),b!=null&&v.push(Ei(y,b,x)))),_)break;y=y.return}0<v.length&&(m=new f(m,p,null,s,u),h.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&s!==bc&&(p=s.relatedTarget||s.fromElement)&&(hr(p)||p[us]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(p=s.relatedTarget||s.toElement,f=d,p=p?hr(p):null,p!==null&&(_=Dr(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=d),f!==p)){if(v=em,b="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=sm,b="onPointerLeave",g="onPointerEnter",y="pointer"),_=f==null?m:Kr(f),x=p==null?m:Kr(p),m=new v(b,y+"leave",f,s,u),m.target=_,m.relatedTarget=x,b=null,hr(u)===d&&(v=new v(g,y+"enter",p,s,u),v.target=x,v.relatedTarget=_,b=v),_=b,f&&p)t:{for(v=f,g=p,y=0,x=v;x;x=Or(x))y++;for(x=0,b=g;b;b=Or(b))x++;for(;0<y-x;)v=Or(v),y--;for(;0<x-y;)g=Or(g),x--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Or(v),g=Or(g)}v=null}else v=null;f!==null&&mm(h,m,f,v,!1),p!==null&&_!==null&&mm(h,_,p,v,!0)}}e:{if(m=d?Kr(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var N=ib;else if(im(m))if(Ag)N=cb;else{N=ob;var S=ab}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=lb);if(N&&(N=N(e,d))){Eg(h,N,s,u);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&gc(m,"number",m.value)}switch(S=d?Kr(d):window,e){case"focusin":(im(S)||S.contentEditable==="true")&&(Wr=S,Ec=d,ii=null);break;case"focusout":ii=Ec=Wr=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,dm(h,s,u);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":dm(h,s,u)}var C;if(iu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else qr?Sg(e,s)&&(j="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(j="onCompositionStart");j&&(kg&&s.locale!=="ko"&&(qr||j!=="onCompositionStart"?j==="onCompositionEnd"&&qr&&(C=_g()):(As=u,su="value"in As?As.value:As.textContent,qr=!0)),S=io(d,j),0<S.length&&(j=new tm(j,e,null,s,u),h.push({event:j,listeners:S}),C?j.data=C:(C=Cg(s),C!==null&&(j.data=C)))),(C=eb?tb(e,s):sb(e,s))&&(d=io(d,"onBeforeInput"),0<d.length&&(u=new tm("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=C))}$g(h,t)})}function Ei(e,t,s){return{instance:e,listener:t,currentTarget:s}}function io(e,t){for(var s=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=bi(e,s),a!=null&&r.unshift(Ei(e,a,i)),a=bi(e,t),a!=null&&r.push(Ei(e,a,i))),e=e.return}return r}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mm(e,t,s,r,i){for(var a=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=bi(s,a),c!=null&&o.unshift(Ei(s,c,l))):i||(c=bi(s,a),c!=null&&o.push(Ei(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var gb=/\r\n?/g,xb=/\u0000|\uFFFD/g;function fm(e){return(typeof e=="string"?e:""+e).replace(gb,`
`).replace(xb,"")}function xa(e,t,s){if(t=fm(t),fm(e)!==t&&s)throw Error(L(425))}function ao(){}var Pc=null,Tc=null;function Dc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(e){return pm.resolve(null).then(e).catch(wb)}:Rc;function wb(e){setTimeout(function(){throw e})}function kl(e,t){var s=t,r=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){e.removeChild(i),_i(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);_i(t)}function Is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Sn,Ai="__reactProps$"+Sn,us="__reactContainer$"+Sn,Oc="__reactEvents$"+Sn,bb="__reactListeners$"+Sn,jb="__reactHandles$"+Sn;function hr(e){var t=e[Wt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[us]||s[Wt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=gm(e);e!==null;){if(s=e[Wt])return s;e=gm(e)}return t}e=s,s=e.parentNode}return null}function Ki(e){return e=e[Wt]||e[us],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Fo(e){return e[Ai]||null}var Ic=[],Gr=-1;function Gs(e){return{current:e}}function ie(e){0>Gr||(e.current=Ic[Gr],Ic[Gr]=null,Gr--)}function se(e,t){Gr++,Ic[Gr]=e.current,e.current=t}var qs={},Ue=Gs(qs),et=Gs(!1),_r=qs;function pn(e,t){var s=e.type.contextTypes;if(!s)return qs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tt(e){return e=e.childContextTypes,e!=null}function oo(){ie(et),ie(Ue)}function xm(e,t,s){if(Ue.current!==qs)throw Error(L(168));se(Ue,t),se(et,s)}function Vg(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(L(108,aw(e)||"Unknown",i));return me({},s,r)}function lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qs,_r=Ue.current,se(Ue,e),se(et,et.current),!0}function ym(e,t,s){var r=e.stateNode;if(!r)throw Error(L(169));s?(e=Vg(e,t,_r),r.__reactInternalMemoizedMergedChildContext=e,ie(et),ie(Ue),se(Ue,e)):ie(et),se(et,s)}var ns=null,Mo=!1,Sl=!1;function zg(e){ns===null?ns=[e]:ns.push(e)}function Nb(e){Mo=!0,zg(e)}function Ys(){if(!Sl&&ns!==null){Sl=!0;var e=0,t=Z;try{var s=ns;for(Z=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}ns=null,Mo=!1}catch(i){throw ns!==null&&(ns=ns.slice(e+1)),mg(Xd,Ys),i}finally{Z=t,Sl=!1}}return null}var Yr=[],Qr=0,co=null,uo=0,ft=[],pt=0,kr=null,as=1,os="";function ar(e,t){Yr[Qr++]=uo,Yr[Qr++]=co,co=e,uo=t}function Bg(e,t,s){ft[pt++]=as,ft[pt++]=os,ft[pt++]=kr,kr=e;var r=as;e=os;var i=32-Dt(r)-1;r&=~(1<<i),s+=1;var a=32-Dt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,as=1<<32-Dt(t)+i|s<<i|r,os=a+e}else as=1<<a|s<<i|r,os=e}function ou(e){e.return!==null&&(ar(e,1),Bg(e,1,0))}function lu(e){for(;e===co;)co=Yr[--Qr],Yr[Qr]=null,uo=Yr[--Qr],Yr[Qr]=null;for(;e===kr;)kr=ft[--pt],ft[pt]=null,os=ft[--pt],ft[pt]=null,as=ft[--pt],ft[pt]=null}var at=null,it=null,oe=!1,Tt=null;function qg(e,t){var s=xt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function vm(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,it=Is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=kr!==null?{id:as,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=xt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,at=e,it=null,!0):!1;default:return!1}}function Lc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fc(e){if(oe){var t=it;if(t){var s=t;if(!vm(e,t)){if(Lc(e))throw Error(L(418));t=Is(s.nextSibling);var r=at;t&&vm(e,t)?qg(r,s):(e.flags=e.flags&-4097|2,oe=!1,at=e)}}else{if(Lc(e))throw Error(L(418));e.flags=e.flags&-4097|2,oe=!1,at=e}}}function wm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function ya(e){if(e!==at)return!1;if(!oe)return wm(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dc(e.type,e.memoizedProps)),t&&(t=it)){if(Lc(e))throw Wg(),Error(L(418));for(;t;)qg(e,t),t=Is(t.nextSibling)}if(wm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){it=Is(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}it=null}}else it=at?Is(e.stateNode.nextSibling):null;return!0}function Wg(){for(var e=it;e;)e=Is(e.nextSibling)}function gn(){it=at=null,oe=!1}function cu(e){Tt===null?Tt=[e]:Tt.push(e)}var _b=xs.ReactCurrentBatchConfig;function Vn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(L(309));var r=s.stateNode}if(!r)throw Error(L(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(L(284));if(!s._owner)throw Error(L(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bm(e){var t=e._init;return t(e._payload)}function Hg(e){function t(g,y){if(e){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function s(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=$s(g,y),g.index=0,g.sibling=null,g}function a(g,y,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,x,b){return y===null||y.tag!==6?(y=Rl(x,g.mode,b),y.return=g,y):(y=i(y,x),y.return=g,y)}function c(g,y,x,b){var N=x.type;return N===Br?u(g,y,x.props.children,b,x.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_s&&bm(N)===y.type)?(b=i(y,x.props),b.ref=Vn(g,y,x),b.return=g,b):(b=qa(x.type,x.key,x.props,null,g.mode,b),b.ref=Vn(g,y,x),b.return=g,b)}function d(g,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Ol(x,g.mode,b),y.return=g,y):(y=i(y,x.children||[]),y.return=g,y)}function u(g,y,x,b,N){return y===null||y.tag!==7?(y=yr(x,g.mode,b,N),y.return=g,y):(y=i(y,x),y.return=g,y)}function h(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rl(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case la:return x=qa(y.type,y.key,y.props,null,g.mode,x),x.ref=Vn(g,null,y),x.return=g,x;case zr:return y=Ol(y,g.mode,x),y.return=g,y;case _s:var b=y._init;return h(g,b(y._payload),x)}if(Qn(y)||Ln(y))return y=yr(y,g.mode,x,null),y.return=g,y;va(g,y)}return null}function m(g,y,x,b){var N=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(g,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case la:return x.key===N?c(g,y,x,b):null;case zr:return x.key===N?d(g,y,x,b):null;case _s:return N=x._init,m(g,y,N(x._payload),b)}if(Qn(x)||Ln(x))return N!==null?null:u(g,y,x,b,null);va(g,x)}return null}function f(g,y,x,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,l(y,g,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case la:return g=g.get(b.key===null?x:b.key)||null,c(y,g,b,N);case zr:return g=g.get(b.key===null?x:b.key)||null,d(y,g,b,N);case _s:var S=b._init;return f(g,y,x,S(b._payload),N)}if(Qn(b)||Ln(b))return g=g.get(x)||null,u(y,g,b,N,null);va(y,b)}return null}function p(g,y,x,b){for(var N=null,S=null,C=y,j=y=0,k=null;C!==null&&j<x.length;j++){C.index>j?(k=C,C=null):k=C.sibling;var A=m(g,C,x[j],b);if(A===null){C===null&&(C=k);break}e&&C&&A.alternate===null&&t(g,C),y=a(A,y,j),S===null?N=A:S.sibling=A,S=A,C=k}if(j===x.length)return s(g,C),oe&&ar(g,j),N;if(C===null){for(;j<x.length;j++)C=h(g,x[j],b),C!==null&&(y=a(C,y,j),S===null?N=C:S.sibling=C,S=C);return oe&&ar(g,j),N}for(C=r(g,C);j<x.length;j++)k=f(C,g,j,x[j],b),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?j:k.key),y=a(k,y,j),S===null?N=k:S.sibling=k,S=k);return e&&C.forEach(function(P){return t(g,P)}),oe&&ar(g,j),N}function v(g,y,x,b){var N=Ln(x);if(typeof N!="function")throw Error(L(150));if(x=N.call(x),x==null)throw Error(L(151));for(var S=N=null,C=y,j=y=0,k=null,A=x.next();C!==null&&!A.done;j++,A=x.next()){C.index>j?(k=C,C=null):k=C.sibling;var P=m(g,C,A.value,b);if(P===null){C===null&&(C=k);break}e&&C&&P.alternate===null&&t(g,C),y=a(P,y,j),S===null?N=P:S.sibling=P,S=P,C=k}if(A.done)return s(g,C),oe&&ar(g,j),N;if(C===null){for(;!A.done;j++,A=x.next())A=h(g,A.value,b),A!==null&&(y=a(A,y,j),S===null?N=A:S.sibling=A,S=A);return oe&&ar(g,j),N}for(C=r(g,C);!A.done;j++,A=x.next())A=f(C,g,j,A.value,b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?j:A.key),y=a(A,y,j),S===null?N=A:S.sibling=A,S=A);return e&&C.forEach(function(M){return t(g,M)}),oe&&ar(g,j),N}function _(g,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Br&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case la:e:{for(var N=x.key,S=y;S!==null;){if(S.key===N){if(N=x.type,N===Br){if(S.tag===7){s(g,S.sibling),y=i(S,x.props.children),y.return=g,g=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_s&&bm(N)===S.type){s(g,S.sibling),y=i(S,x.props),y.ref=Vn(g,S,x),y.return=g,g=y;break e}s(g,S);break}else t(g,S);S=S.sibling}x.type===Br?(y=yr(x.props.children,g.mode,b,x.key),y.return=g,g=y):(b=qa(x.type,x.key,x.props,null,g.mode,b),b.ref=Vn(g,y,x),b.return=g,g=b)}return o(g);case zr:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){s(g,y.sibling),y=i(y,x.children||[]),y.return=g,g=y;break e}else{s(g,y);break}else t(g,y);y=y.sibling}y=Ol(x,g.mode,b),y.return=g,g=y}return o(g);case _s:return S=x._init,_(g,y,S(x._payload),b)}if(Qn(x))return p(g,y,x,b);if(Ln(x))return v(g,y,x,b);va(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(s(g,y.sibling),y=i(y,x),y.return=g,g=y):(s(g,y),y=Rl(x,g.mode,b),y.return=g,g=y),o(g)):s(g,y)}return _}var xn=Hg(!0),Kg=Hg(!1),ho=Gs(null),mo=null,Jr=null,du=null;function uu(){du=Jr=mo=null}function hu(e){var t=ho.current;ie(ho),e._currentValue=t}function Mc(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function dn(e,t){mo=e,du=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(du!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(mo===null)throw Error(L(308));Jr=e,mo.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var mr=null;function mu(e){mr===null?mr=[e]:mr.push(e)}function Gg(e,t,s,r){var i=t.interleaved;return i===null?(s.next=s,mu(t)):(s.next=i.next,i.next=s),t.interleaved=s,hs(e,r)}function hs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ks=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,hs(e,s)}return i=r.interleaved,i===null?(t.next=t,mu(r)):(t.next=i.next,i.next=t),r.interleaved=t,hs(e,s)}function Ma(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Zd(e,s)}}function jm(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function fo(e,t,s,r){var i=e.updateQueue;ks=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(m=t,f=s,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(f,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,m=typeof p=="function"?p.call(f,h,m):p,m==null)break e;h=me({},h,m);break e;case 2:ks=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Cr|=o,e.lanes=o,e.memoizedState=h}}function Nm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var Gi={},Gt=Gs(Gi),Pi=Gs(Gi),Ti=Gs(Gi);function fr(e){if(e===Gi)throw Error(L(174));return e}function pu(e,t){switch(se(Ti,t),se(Pi,e),se(Gt,Gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yc(t,e)}ie(Gt),se(Gt,t)}function yn(){ie(Gt),ie(Pi),ie(Ti)}function Qg(e){fr(Ti.current);var t=fr(Gt.current),s=yc(t,e.type);t!==s&&(se(Pi,e),se(Gt,s))}function gu(e){Pi.current===e&&(ie(Gt),ie(Pi))}var de=Gs(0);function po(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cl=[];function xu(){for(var e=0;e<Cl.length;e++)Cl[e]._workInProgressVersionPrimary=null;Cl.length=0}var $a=xs.ReactCurrentDispatcher,El=xs.ReactCurrentBatchConfig,Sr=0,he=null,Ce=null,Ae=null,go=!1,ai=!1,Di=0,kb=0;function Le(){throw Error(L(321))}function yu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!It(e[s],t[s]))return!1;return!0}function vu(e,t,s,r,i,a){if(Sr=a,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=e===null||e.memoizedState===null?Ab:Pb,e=s(r,i),ai){a=0;do{if(ai=!1,Di=0,25<=a)throw Error(L(301));a+=1,Ae=Ce=null,t.updateQueue=null,$a.current=Tb,e=s(r,i)}while(ai)}if($a.current=xo,t=Ce!==null&&Ce.next!==null,Sr=0,Ae=Ce=he=null,go=!1,t)throw Error(L(300));return e}function wu(){var e=Di!==0;return Di=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?he.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function jt(){if(Ce===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ae===null?he.memoizedState:Ae.next;if(t!==null)Ae=t,Ce=e;else{if(e===null)throw Error(L(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ae===null?he.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ri(e,t){return typeof t=="function"?t(e):t}function Al(e){var t=jt(),s=t.queue;if(s===null)throw Error(L(311));s.lastRenderedReducer=e;var r=Ce,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Sr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,he.lanes|=u,Cr|=u}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,It(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){i=e;do a=i.lane,he.lanes|=a,Cr|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Pl(e){var t=jt(),s=t.queue;if(s===null)throw Error(L(311));s.lastRenderedReducer=e;var r=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);It(a,t.memoizedState)||(Xe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function Jg(){}function Xg(e,t){var s=he,r=jt(),i=t(),a=!It(r.memoizedState,i);if(a&&(r.memoizedState=i,Xe=!0),r=r.queue,bu(tx.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||Ae!==null&&Ae.memoizedState.tag&1){if(s.flags|=2048,Oi(9,ex.bind(null,s,r,i,t),void 0,null),Pe===null)throw Error(L(349));Sr&30||Zg(s,t,i)}return i}function Zg(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function ex(e,t,s,r){t.value=s,t.getSnapshot=r,sx(t)&&rx(e)}function tx(e,t,s){return s(function(){sx(t)&&rx(e)})}function sx(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!It(e,s)}catch{return!0}}function rx(e){var t=hs(e,1);t!==null&&Rt(t,e,1,-1)}function _m(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=Eb.bind(null,he,e),[t.memoizedState,e]}function Oi(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function nx(){return jt().memoizedState}function Ua(e,t,s,r){var i=zt();he.flags|=e,i.memoizedState=Oi(1|t,s,void 0,r===void 0?null:r)}function $o(e,t,s,r){var i=jt();r=r===void 0?null:r;var a=void 0;if(Ce!==null){var o=Ce.memoizedState;if(a=o.destroy,r!==null&&yu(r,o.deps)){i.memoizedState=Oi(t,s,a,r);return}}he.flags|=e,i.memoizedState=Oi(1|t,s,a,r)}function km(e,t){return Ua(8390656,8,e,t)}function bu(e,t){return $o(2048,8,e,t)}function ix(e,t){return $o(4,2,e,t)}function ax(e,t){return $o(4,4,e,t)}function ox(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lx(e,t,s){return s=s!=null?s.concat([e]):null,$o(4,4,ox.bind(null,t,e),s)}function ju(){}function cx(e,t){var s=jt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&yu(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function dx(e,t){var s=jt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&yu(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function ux(e,t,s){return Sr&21?(It(s,t)||(s=gg(),he.lanes|=s,Cr|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=s)}function Sb(e,t){var s=Z;Z=s!==0&&4>s?s:4,e(!0);var r=El.transition;El.transition={};try{e(!1),t()}finally{Z=s,El.transition=r}}function hx(){return jt().memoizedState}function Cb(e,t,s){var r=Ms(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},mx(e))fx(t,s);else if(s=Gg(e,t,s,r),s!==null){var i=He();Rt(s,e,r,i),px(s,t,r)}}function Eb(e,t,s){var r=Ms(e),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(mx(e))fx(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,It(l,o)){var c=t.interleaved;c===null?(i.next=i,mu(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=Gg(e,t,i,r),s!==null&&(i=He(),Rt(s,e,r,i),px(s,t,r))}}function mx(e){var t=e.alternate;return e===he||t!==null&&t===he}function fx(e,t){ai=go=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function px(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Zd(e,s)}}var xo={readContext:bt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Ab={readContext:bt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:km,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ua(4194308,4,ox.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var s=zt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=zt();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cb.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:_m,useDebugValue:ju,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=_m(!1),t=e[0];return e=Sb.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=he,i=zt();if(oe){if(s===void 0)throw Error(L(407));s=s()}else{if(s=t(),Pe===null)throw Error(L(349));Sr&30||Zg(r,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,km(tx.bind(null,r,a,e),[e]),r.flags|=2048,Oi(9,ex.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=zt(),t=Pe.identifierPrefix;if(oe){var s=os,r=as;s=(r&~(1<<32-Dt(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Di++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=kb++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pb={readContext:bt,useCallback:cx,useContext:bt,useEffect:bu,useImperativeHandle:lx,useInsertionEffect:ix,useLayoutEffect:ax,useMemo:dx,useReducer:Al,useRef:nx,useState:function(){return Al(Ri)},useDebugValue:ju,useDeferredValue:function(e){var t=jt();return ux(t,Ce.memoizedState,e)},useTransition:function(){var e=Al(Ri)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Jg,useSyncExternalStore:Xg,useId:hx,unstable_isNewReconciler:!1},Tb={readContext:bt,useCallback:cx,useContext:bt,useEffect:bu,useImperativeHandle:lx,useInsertionEffect:ix,useLayoutEffect:ax,useMemo:dx,useReducer:Pl,useRef:nx,useState:function(){return Pl(Ri)},useDebugValue:ju,useDeferredValue:function(e){var t=jt();return Ce===null?t.memoizedState=e:ux(t,Ce.memoizedState,e)},useTransition:function(){var e=Pl(Ri)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Jg,useSyncExternalStore:Xg,useId:hx,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function $c(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:me({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Uo={isMounted:function(e){return(e=e._reactInternals)?Dr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=He(),i=Ms(e),a=ls(r,i);a.payload=t,s!=null&&(a.callback=s),t=Ls(e,a,i),t!==null&&(Rt(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=He(),i=Ms(e),a=ls(r,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Ls(e,a,i),t!==null&&(Rt(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=He(),r=Ms(e),i=ls(s,r);i.tag=2,t!=null&&(i.callback=t),t=Ls(e,i,r),t!==null&&(Rt(t,e,r,s),Ma(t,e,r))}};function Sm(e,t,s,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Si(s,r)||!Si(i,a):!0}function gx(e,t,s){var r=!1,i=qs,a=t.contextType;return typeof a=="object"&&a!==null?a=bt(a):(i=tt(t)?_r:Ue.current,r=t.contextTypes,a=(r=r!=null)?pn(e,i):qs),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cm(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Uc(e,t,s,r){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},fu(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=bt(a):(a=tt(t)?_r:Ue.current,i.context=pn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($c(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),fo(e,s,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var s="",r=t;do s+=iw(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Tl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Vc(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Db=typeof WeakMap=="function"?WeakMap:Map;function xx(e,t,s){s=ls(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){vo||(vo=!0,Jc=r),Vc(e,t)},s}function yx(e,t,s){s=ls(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;s.payload=function(){return r(i)},s.callback=function(){Vc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Vc(e,t),typeof r!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Em(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Db;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(s)||(i.add(s),e=Hb.bind(null,e,t,s),t.then(e,e))}function Am(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pm(e,t,s,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ls(-1,1),t.tag=2,Ls(s,t,1))),s.lanes|=1),e)}var Rb=xs.ReactCurrentOwner,Xe=!1;function qe(e,t,s,r){t.child=e===null?Kg(t,null,s,r):xn(t,e.child,s,r)}function Tm(e,t,s,r,i){s=s.render;var a=t.ref;return dn(t,i),r=vu(e,t,s,r,a,i),s=wu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ms(e,t,i)):(oe&&s&&ou(t),t.flags|=1,qe(e,t,r,i),t.child)}function Dm(e,t,s,r,i){if(e===null){var a=s.type;return typeof a=="function"&&!Pu(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,vx(e,t,a,r,i)):(e=qa(s.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Si,s(o,r)&&e.ref===t.ref)return ms(e,t,i)}return t.flags|=1,e=$s(a,r),e.ref=t.ref,e.return=t,t.child=e}function vx(e,t,s,r,i){if(e!==null){var a=e.memoizedProps;if(Si(a,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,ms(e,t,i)}return zc(e,t,s,r,i)}function wx(e,t,s){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Zr,nt),nt|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Zr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,se(Zr,nt),nt|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,se(Zr,nt),nt|=r;return qe(e,t,i,s),t.child}function bx(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function zc(e,t,s,r,i){var a=tt(s)?_r:Ue.current;return a=pn(t,a),dn(t,i),s=vu(e,t,s,r,a,i),r=wu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ms(e,t,i)):(oe&&r&&ou(t),t.flags|=1,qe(e,t,s,i),t.child)}function Rm(e,t,s,r,i){if(tt(s)){var a=!0;lo(t)}else a=!1;if(dn(t,i),t.stateNode===null)Va(e,t),gx(t,s,r),Uc(t,s,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=bt(d):(d=tt(s)?_r:Ue.current,d=pn(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Cm(t,o,r,d),ks=!1;var m=t.memoizedState;o.state=m,fo(t,r,o,i),c=t.memoizedState,l!==r||m!==c||et.current||ks?(typeof u=="function"&&($c(t,s,u,r),c=t.memoizedState),(l=ks||Sm(t,s,l,r,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Yg(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Et(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=bt(c):(c=tt(s)?_r:Ue.current,c=pn(t,c));var f=s.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Cm(t,o,r,c),ks=!1,m=t.memoizedState,o.state=m,fo(t,r,o,i);var p=t.memoizedState;l!==h||m!==p||et.current||ks?(typeof f=="function"&&($c(t,s,f,r),p=t.memoizedState),(d=ks||Sm(t,s,d,r,m,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Bc(e,t,s,r,a,i)}function Bc(e,t,s,r,i,a){bx(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ym(t,s,!1),ms(e,t,a);r=t.stateNode,Rb.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=xn(t,e.child,null,a),t.child=xn(t,null,l,a)):qe(e,t,l,a),t.memoizedState=r.state,i&&ym(t,s,!0),t.child}function jx(e){var t=e.stateNode;t.pendingContext?xm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xm(e,t.context,!1),pu(e,t.containerInfo)}function Om(e,t,s,r,i){return gn(),cu(i),t.flags|=256,qe(e,t,s,r),t.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Wc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nx(e,t,s){var r=t.pendingProps,i=de.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),se(de,i&1),e===null)return Fc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Bo(o,r,0,null),e=yr(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Wc(s),t.memoizedState=qc,e):Nu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Ob(e,t,o,r,l,i,s);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=$s(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=$s(l,a):(a=yr(a,o,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Wc(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=qc,r}return a=e.child,e=a.sibling,r=$s(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Nu(e,t){return t=Bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wa(e,t,s,r){return r!==null&&cu(r),xn(t,e.child,null,s),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ob(e,t,s,r,i,a,o){if(s)return t.flags&256?(t.flags&=-257,r=Tl(Error(L(422))),wa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Bo({mode:"visible",children:r.children},i,0,null),a=yr(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&xn(t,e.child,null,o),t.child.memoizedState=Wc(o),t.memoizedState=qc,a);if(!(t.mode&1))return wa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(L(419)),r=Tl(a,r,void 0),wa(e,t,o,r)}if(l=(o&e.childLanes)!==0,Xe||l){if(r=Pe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,hs(e,i),Rt(r,e,i,-1))}return Au(),r=Tl(Error(L(421))),wa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Kb.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,it=Is(i.nextSibling),at=t,oe=!0,Tt=null,e!==null&&(ft[pt++]=as,ft[pt++]=os,ft[pt++]=kr,as=e.id,os=e.overflow,kr=t),t=Nu(t,r.children),t.flags|=4096,t)}function Im(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Mc(e.return,t,s)}function Dl(e,t,s,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function _x(e,t,s){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(qe(e,t,r.children,s),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Im(e,s,t);else if(e.tag===19)Im(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(de,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&po(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Dl(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&po(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Dl(t,!0,s,null,a);break;case"together":Dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ms(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,s=$s(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=$s(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Ib(e,t,s){switch(t.tag){case 3:jx(t),gn();break;case 5:Qg(t);break;case 1:tt(t.type)&&lo(t);break;case 4:pu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;se(ho,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(de,de.current&1),t.flags|=128,null):s&t.child.childLanes?Nx(e,t,s):(se(de,de.current&1),e=ms(e,t,s),e!==null?e.sibling:null);se(de,de.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return _x(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,wx(e,t,s)}return ms(e,t,s)}var kx,Hc,Sx,Cx;kx=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Hc=function(){};Sx=function(e,t,s,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fr(Gt.current);var a=null;switch(s){case"input":i=fc(e,i),r=fc(e,r),a=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),a=[];break;case"textarea":i=xc(e,i),r=xc(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ao)}vc(s,r);var o;s=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(vi.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(vi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ne("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Cx=function(e,t,s,r){s!==r&&(t.flags|=4)};function zn(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Lb(e,t,s){var r=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return tt(t.type)&&oo(),Fe(t),null;case 3:return r=t.stateNode,yn(),ie(et),ie(Ue),xu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ya(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(ed(Tt),Tt=null))),Hc(e,t),Fe(t),null;case 5:gu(t);var i=fr(Ti.current);if(s=t.type,e!==null&&t.stateNode!=null)Sx(e,t,s,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return Fe(t),null}if(e=fr(Gt.current),ya(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[Wt]=t,r[Ai]=a,e=(t.mode&1)!==0,s){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(i=0;i<Xn.length;i++)ne(Xn[i],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":qh(r,a),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ne("invalid",r);break;case"textarea":Hh(r,a),ne("invalid",r)}vc(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&xa(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&xa(r.textContent,l,e),i=["children",""+l]):vi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",r)}switch(s){case"input":ca(r),Wh(r,a,!0);break;case"textarea":ca(r),Kh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ao)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tg(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[Wt]=t,e[Ai]=r,kx(e,t,!1,!1),t.stateNode=e;e:{switch(o=wc(s,r),s){case"dialog":ne("cancel",e),ne("close",e),i=r;break;case"iframe":case"object":case"embed":ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<Xn.length;i++)ne(Xn[i],e);i=r;break;case"source":ne("error",e),i=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),i=r;break;case"details":ne("toggle",e),i=r;break;case"input":qh(e,r),i=fc(e,r),ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Hh(e,r),i=xc(e,r),ne("invalid",e);break;default:i=r}vc(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?ng(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sg(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&wi(e,c):typeof c=="number"&&wi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ne("scroll",e):c!=null&&Kd(e,a,c,o))}switch(s){case"input":ca(e),Wh(e,r,!1);break;case"textarea":ca(e),Kh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?an(e,!!r.multiple,a,!1):r.defaultValue!=null&&an(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ao)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Cx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(s=fr(Ti.current),fr(Gt.current),ya(t)){if(r=t.stateNode,s=t.memoizedProps,r[Wt]=t,(a=r.nodeValue!==s)&&(e=at,e!==null))switch(e.tag){case 3:xa(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xa(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Wt]=t,t.stateNode=r}return Fe(t),null;case 13:if(ie(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&it!==null&&t.mode&1&&!(t.flags&128))Wg(),gn(),t.flags|=98560,a=!1;else if(a=ya(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[Wt]=t}else gn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),a=!1}else Tt!==null&&(ed(Tt),Tt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?Ee===0&&(Ee=3):Au())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return yn(),Hc(e,t),e===null&&Ci(t.stateNode.containerInfo),Fe(t),null;case 10:return hu(t.type._context),Fe(t),null;case 17:return tt(t.type)&&oo(),Fe(t),null;case 19:if(ie(de),a=t.memoizedState,a===null)return Fe(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)zn(a,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=po(e),o!==null){for(t.flags|=128,zn(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return se(de,de.current&1|2),t.child}e=e.sibling}a.tail!==null&&ve()>wn&&(t.flags|=128,r=!0,zn(a,!1),t.lanes=4194304)}else{if(!r)if(e=po(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),zn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!oe)return Fe(t),null}else 2*ve()-a.renderingStartTime>wn&&s!==1073741824&&(t.flags|=128,r=!0,zn(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ve(),t.sibling=null,s=de.current,se(de,r?s&1|2:s&1),t):(Fe(t),null);case 22:case 23:return Eu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Fb(e,t){switch(lu(t),t.tag){case 1:return tt(t.type)&&oo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(),ie(et),ie(Ue),xu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gu(t),null;case 13:if(ie(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(de),null;case 4:return yn(),null;case 10:return hu(t.type._context),null;case 22:case 23:return Eu(),null;case 24:return null;default:return null}}var ba=!1,Me=!1,Mb=typeof WeakSet=="function"?WeakSet:Set,$=null;function Xr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){ge(e,t,r)}else s.current=null}function Kc(e,t,s){try{s()}catch(r){ge(e,t,r)}}var Lm=!1;function $b(e,t){if(Pc=ro,e=Dg(),au(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===s&&++d===i&&(l=o),m===a&&++u===r&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Tc={focusedElem:e,selectionRange:s},ro=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,_=p.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Et(t.type,v),_);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return p=Lm,Lm=!1,p}function oi(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Kc(t,s,a)}i=i.next}while(i!==r)}}function Vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Gc(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Ex(e){var t=e.alternate;t!==null&&(e.alternate=null,Ex(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[Ai],delete t[Oc],delete t[bb],delete t[jb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ax(e){return e.tag===5||e.tag===3||e.tag===4}function Fm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ax(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ao));else if(r!==4&&(e=e.child,e!==null))for(Yc(e,t,s),e=e.sibling;e!==null;)Yc(e,t,s),e=e.sibling}function Qc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Qc(e,t,s),e=e.sibling;e!==null;)Qc(e,t,s),e=e.sibling}var Te=null,At=!1;function ys(e,t,s){for(s=s.child;s!==null;)Px(e,t,s),s=s.sibling}function Px(e,t,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ro,s)}catch{}switch(s.tag){case 5:Me||Xr(s,t);case 6:var r=Te,i=At;Te=null,ys(e,t,s),Te=r,At=i,Te!==null&&(At?(e=Te,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Te.removeChild(s.stateNode));break;case 18:Te!==null&&(At?(e=Te,s=s.stateNode,e.nodeType===8?kl(e.parentNode,s):e.nodeType===1&&kl(e,s),_i(e)):kl(Te,s.stateNode));break;case 4:r=Te,i=At,Te=s.stateNode.containerInfo,At=!0,ys(e,t,s),Te=r,At=i;break;case 0:case 11:case 14:case 15:if(!Me&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Kc(s,t,o),i=i.next}while(i!==r)}ys(e,t,s);break;case 1:if(!Me&&(Xr(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){ge(s,t,l)}ys(e,t,s);break;case 21:ys(e,t,s);break;case 22:s.mode&1?(Me=(r=Me)||s.memoizedState!==null,ys(e,t,s),Me=r):ys(e,t,s);break;default:ys(e,t,s)}}function Mm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Mb),t.forEach(function(r){var i=Gb.bind(null,e,r);s.has(r)||(s.add(r),r.then(i,i))})}}function kt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,At=!1;break e;case 3:Te=l.stateNode.containerInfo,At=!0;break e;case 4:Te=l.stateNode.containerInfo,At=!0;break e}l=l.return}if(Te===null)throw Error(L(160));Px(a,o,i),Te=null,At=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ge(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tx(t,e),t=t.sibling}function Tx(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),$t(e),r&4){try{oi(3,e,e.return),Vo(3,e)}catch(v){ge(e,e.return,v)}try{oi(5,e,e.return)}catch(v){ge(e,e.return,v)}}break;case 1:kt(t,e),$t(e),r&512&&s!==null&&Xr(s,s.return);break;case 5:if(kt(t,e),$t(e),r&512&&s!==null&&Xr(s,s.return),e.flags&32){var i=e.stateNode;try{wi(i,"")}catch(v){ge(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Zp(i,a),wc(l,o);var d=wc(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?ng(i,h):u==="dangerouslySetInnerHTML"?sg(i,h):u==="children"?wi(i,h):Kd(i,u,h,d)}switch(l){case"input":pc(i,a);break;case"textarea":eg(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?an(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?an(i,!!a.multiple,a.defaultValue,!0):an(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ai]=a}catch(v){ge(e,e.return,v)}}break;case 6:if(kt(t,e),$t(e),r&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ge(e,e.return,v)}}break;case 3:if(kt(t,e),$t(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{_i(t.containerInfo)}catch(v){ge(e,e.return,v)}break;case 4:kt(t,e),$t(e);break;case 13:kt(t,e),$t(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Su=ve())),r&4&&Mm(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Me=(d=Me)||u,kt(t,e),Me=d):kt(t,e),$t(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(h=$=u;$!==null;){switch(m=$,f=m.child,m.tag){case 0:case 11:case 14:case 15:oi(4,m,m.return);break;case 1:Xr(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){r=m,s=m.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){ge(r,s,v)}}break;case 5:Xr(m,m.return);break;case 22:if(m.memoizedState!==null){Um(h);continue}}f!==null?(f.return=m,$=f):Um(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rg("display",o))}catch(v){ge(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){ge(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kt(t,e),$t(e),r&4&&Mm(e);break;case 21:break;default:kt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Ax(s)){var r=s;break e}s=s.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wi(i,""),r.flags&=-33);var a=Fm(e);Qc(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Fm(e);Yc(e,l,o);break;default:throw Error(L(161))}}catch(c){ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ub(e,t,s){$=e,Dx(e)}function Dx(e,t,s){for(var r=(e.mode&1)!==0;$!==null;){var i=$,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ba;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Me;l=ba;var d=Me;if(ba=o,(Me=c)&&!d)for($=i;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?Vm(i):c!==null?(c.return=o,$=c):Vm(i);for(;a!==null;)$=a,Dx(a),a=a.sibling;$=i,ba=l,Me=d}$m(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$=a):$m(e)}}function $m(e){for(;$!==null;){var t=$;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Vo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(s===null)r.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Et(t.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Nm(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Nm(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&_i(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Me||t.flags&512&&Gc(t)}catch(m){ge(t,t.return,m)}}if(t===e){$=null;break}if(s=t.sibling,s!==null){s.return=t.return,$=s;break}$=t.return}}function Um(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var s=t.sibling;if(s!==null){s.return=t.return,$=s;break}$=t.return}}function Vm(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Vo(4,t)}catch(c){ge(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ge(t,i,c)}}var a=t.return;try{Gc(t)}catch(c){ge(t,a,c)}break;case 5:var o=t.return;try{Gc(t)}catch(c){ge(t,o,c)}}}catch(c){ge(t,t.return,c)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Vb=Math.ceil,yo=xs.ReactCurrentDispatcher,_u=xs.ReactCurrentOwner,yt=xs.ReactCurrentBatchConfig,X=0,Pe=null,Ne=null,Re=0,nt=0,Zr=Gs(0),Ee=0,Ii=null,Cr=0,zo=0,ku=0,li=null,Qe=null,Su=0,wn=1/0,ss=null,vo=!1,Jc=null,Fs=null,ja=!1,Ps=null,wo=0,ci=0,Xc=null,za=-1,Ba=0;function He(){return X&6?ve():za!==-1?za:za=ve()}function Ms(e){return e.mode&1?X&2&&Re!==0?Re&-Re:_b.transition!==null?(Ba===0&&(Ba=gg()),Ba):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Ng(e.type)),e):1}function Rt(e,t,s,r){if(50<ci)throw ci=0,Xc=null,Error(L(185));Wi(e,s,r),(!(X&2)||e!==Pe)&&(e===Pe&&(!(X&2)&&(zo|=s),Ee===4&&Cs(e,Re)),st(e,r),s===1&&X===0&&!(t.mode&1)&&(wn=ve()+500,Mo&&Ys()))}function st(e,t){var s=e.callbackNode;_w(e,t);var r=so(e,e===Pe?Re:0);if(r===0)s!==null&&Qh(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Qh(s),t===1)e.tag===0?Nb(zm.bind(null,e)):zg(zm.bind(null,e)),vb(function(){!(X&6)&&Ys()}),s=null;else{switch(xg(r)){case 1:s=Xd;break;case 4:s=fg;break;case 16:s=to;break;case 536870912:s=pg;break;default:s=to}s=Ux(s,Rx.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Rx(e,t){if(za=-1,Ba=0,X&6)throw Error(L(327));var s=e.callbackNode;if(un()&&e.callbackNode!==s)return null;var r=so(e,e===Pe?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bo(e,r);else{t=r;var i=X;X|=2;var a=Ix();(Pe!==e||Re!==t)&&(ss=null,wn=ve()+500,xr(e,t));do try{qb();break}catch(l){Ox(e,l)}while(!0);uu(),yo.current=a,X=i,Ne!==null?t=0:(Pe=null,Re=0,t=Ee)}if(t!==0){if(t===2&&(i=kc(e),i!==0&&(r=i,t=Zc(e,i))),t===1)throw s=Ii,xr(e,0),Cs(e,r),st(e,ve()),s;if(t===6)Cs(e,r);else{if(i=e.current.alternate,!(r&30)&&!zb(i)&&(t=bo(e,r),t===2&&(a=kc(e),a!==0&&(r=a,t=Zc(e,a))),t===1))throw s=Ii,xr(e,0),Cs(e,r),st(e,ve()),s;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:or(e,Qe,ss);break;case 3:if(Cs(e,r),(r&130023424)===r&&(t=Su+500-ve(),10<t)){if(so(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Rc(or.bind(null,e,Qe,ss),t);break}or(e,Qe,ss);break;case 4:if(Cs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Dt(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vb(r/1960))-r,10<r){e.timeoutHandle=Rc(or.bind(null,e,Qe,ss),r);break}or(e,Qe,ss);break;case 5:or(e,Qe,ss);break;default:throw Error(L(329))}}}return st(e,ve()),e.callbackNode===s?Rx.bind(null,e):null}function Zc(e,t){var s=li;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=bo(e,t),e!==2&&(t=Qe,Qe=s,t!==null&&ed(t)),e}function ed(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function zb(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!It(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cs(e,t){for(t&=~ku,t&=~zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Dt(t),r=1<<s;e[s]=-1,t&=~r}}function zm(e){if(X&6)throw Error(L(327));un();var t=so(e,0);if(!(t&1))return st(e,ve()),null;var s=bo(e,t);if(e.tag!==0&&s===2){var r=kc(e);r!==0&&(t=r,s=Zc(e,r))}if(s===1)throw s=Ii,xr(e,0),Cs(e,t),st(e,ve()),s;if(s===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,Qe,ss),st(e,ve()),null}function Cu(e,t){var s=X;X|=1;try{return e(t)}finally{X=s,X===0&&(wn=ve()+500,Mo&&Ys())}}function Er(e){Ps!==null&&Ps.tag===0&&!(X&6)&&un();var t=X;X|=1;var s=yt.transition,r=Z;try{if(yt.transition=null,Z=1,e)return e()}finally{Z=r,yt.transition=s,X=t,!(X&6)&&Ys()}}function Eu(){nt=Zr.current,ie(Zr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,yb(s)),Ne!==null)for(s=Ne.return;s!==null;){var r=s;switch(lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oo();break;case 3:yn(),ie(et),ie(Ue),xu();break;case 5:gu(r);break;case 4:yn();break;case 13:ie(de);break;case 19:ie(de);break;case 10:hu(r.type._context);break;case 22:case 23:Eu()}s=s.return}if(Pe=e,Ne=e=$s(e.current,null),Re=nt=t,Ee=0,Ii=null,ku=zo=Cr=0,Qe=li=null,mr!==null){for(t=0;t<mr.length;t++)if(s=mr[t],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}mr=null}return e}function Ox(e,t){do{var s=Ne;try{if(uu(),$a.current=xo,go){for(var r=he.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}go=!1}if(Sr=0,Ae=Ce=he=null,ai=!1,Di=0,_u.current=null,s===null||s.return===null){Ee=1,Ii=t,Ne=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=Re,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Am(o);if(f!==null){f.flags&=-257,Pm(f,o,l,a,t),f.mode&1&&Em(a,d,t),t=f,c=d;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){Em(a,d,t),Au();break e}c=Error(L(426))}}else if(oe&&l.mode&1){var _=Am(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Pm(_,o,l,a,t),cu(vn(c,l));break e}}a=c=vn(c,l),Ee!==4&&(Ee=2),li===null?li=[a]:li.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=xx(a,c,t);jm(a,g);break e;case 1:l=c;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Fs===null||!Fs.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=yx(a,l,t);jm(a,b);break e}}a=a.return}while(a!==null)}Fx(s)}catch(N){t=N,Ne===s&&s!==null&&(Ne=s=s.return);continue}break}while(!0)}function Ix(){var e=yo.current;return yo.current=xo,e===null?xo:e}function Au(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Pe===null||!(Cr&268435455)&&!(zo&268435455)||Cs(Pe,Re)}function bo(e,t){var s=X;X|=2;var r=Ix();(Pe!==e||Re!==t)&&(ss=null,xr(e,t));do try{Bb();break}catch(i){Ox(e,i)}while(!0);if(uu(),X=s,yo.current=r,Ne!==null)throw Error(L(261));return Pe=null,Re=0,Ee}function Bb(){for(;Ne!==null;)Lx(Ne)}function qb(){for(;Ne!==null&&!pw();)Lx(Ne)}function Lx(e){var t=$x(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Fx(e):Ne=t,_u.current=null}function Fx(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Fb(s,t),s!==null){s.flags&=32767,Ne=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Ne=null;return}}else if(s=Lb(s,t,nt),s!==null){Ne=s;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Ee===0&&(Ee=5)}function or(e,t,s){var r=Z,i=yt.transition;try{yt.transition=null,Z=1,Wb(e,t,s,r)}finally{yt.transition=i,Z=r}return null}function Wb(e,t,s,r){do un();while(Ps!==null);if(X&6)throw Error(L(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(kw(e,a),e===Pe&&(Ne=Pe=null,Re=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ja||(ja=!0,Ux(to,function(){return un(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=yt.transition,yt.transition=null;var o=Z;Z=1;var l=X;X|=4,_u.current=null,$b(e,s),Tx(s,e),ub(Tc),ro=!!Pc,Tc=Pc=null,e.current=s,Ub(s),gw(),X=l,Z=o,yt.transition=a}else e.current=s;if(ja&&(ja=!1,Ps=e,wo=i),a=e.pendingLanes,a===0&&(Fs=null),vw(s.stateNode),st(e,ve()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(vo)throw vo=!1,e=Jc,Jc=null,e;return wo&1&&e.tag!==0&&un(),a=e.pendingLanes,a&1?e===Xc?ci++:(ci=0,Xc=e):ci=0,Ys(),null}function un(){if(Ps!==null){var e=xg(wo),t=yt.transition,s=Z;try{if(yt.transition=null,Z=16>e?16:e,Ps===null)var r=!1;else{if(e=Ps,Ps=null,wo=0,X&6)throw Error(L(331));var i=X;for(X|=4,$=e.current;$!==null;){var a=$,o=a.child;if($.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:oi(8,u,a)}var h=u.child;if(h!==null)h.return=u,$=h;else for(;$!==null;){u=$;var m=u.sibling,f=u.return;if(Ex(u),u===d){$=null;break}if(m!==null){m.return=f,$=m;break}$=f}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}$=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,$=o;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:oi(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,$=g;break e}$=a.return}}var y=e.current;for($=y;$!==null;){o=$;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,$=x;else e:for(o=y;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vo(9,l)}}catch(N){ge(l,l.return,N)}if(l===o){$=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,$=b;break e}$=l.return}}if(X=i,Ys(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ro,e)}catch{}r=!0}return r}finally{Z=s,yt.transition=t}}return!1}function Bm(e,t,s){t=vn(s,t),t=xx(e,t,1),e=Ls(e,t,1),t=He(),e!==null&&(Wi(e,1,t),st(e,t))}function ge(e,t,s){if(e.tag===3)Bm(e,e,s);else for(;t!==null;){if(t.tag===3){Bm(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fs===null||!Fs.has(r))){e=vn(s,e),e=yx(t,e,1),t=Ls(t,e,1),e=He(),t!==null&&(Wi(t,1,e),st(t,e));break}}t=t.return}}function Hb(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&s,Pe===e&&(Re&s)===s&&(Ee===4||Ee===3&&(Re&130023424)===Re&&500>ve()-Su?xr(e,0):ku|=s),st(e,t)}function Mx(e,t){t===0&&(e.mode&1?(t=ha,ha<<=1,!(ha&130023424)&&(ha=4194304)):t=1);var s=He();e=hs(e,t),e!==null&&(Wi(e,t,s),st(e,s))}function Kb(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Mx(e,s)}function Gb(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),Mx(e,s)}var $x;$x=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Xe=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Xe=!1,Ib(e,t,s);Xe=!!(e.flags&131072)}else Xe=!1,oe&&t.flags&1048576&&Bg(t,uo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var i=pn(t,Ue.current);dn(t,s),i=vu(null,t,r,e,i,s);var a=wu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(a=!0,lo(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fu(t),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Uc(t,r,e,s),t=Bc(null,t,r,!0,a,s)):(t.tag=0,oe&&a&&ou(t),qe(null,t,i,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Qb(r),e=Et(r,e),i){case 0:t=zc(null,t,r,e,s);break e;case 1:t=Rm(null,t,r,e,s);break e;case 11:t=Tm(null,t,r,e,s);break e;case 14:t=Dm(null,t,r,Et(r.type,e),s);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Et(r,i),zc(e,t,r,i,s);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Et(r,i),Rm(e,t,r,i,s);case 3:e:{if(jx(t),e===null)throw Error(L(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Yg(e,t),fo(t,r,null,s);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=vn(Error(L(423)),t),t=Om(e,t,r,s,i);break e}else if(r!==i){i=vn(Error(L(424)),t),t=Om(e,t,r,s,i);break e}else for(it=Is(t.stateNode.containerInfo.firstChild),at=t,oe=!0,Tt=null,s=Kg(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(gn(),r===i){t=ms(e,t,s);break e}qe(e,t,r,s)}t=t.child}return t;case 5:return Qg(t),e===null&&Fc(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Dc(r,i)?o=null:a!==null&&Dc(r,a)&&(t.flags|=32),bx(e,t),qe(e,t,o,s),t.child;case 6:return e===null&&Fc(t),null;case 13:return Nx(e,t,s);case 4:return pu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xn(t,null,r,s):qe(e,t,r,s),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Et(r,i),Tm(e,t,r,i,s);case 7:return qe(e,t,t.pendingProps,s),t.child;case 8:return qe(e,t,t.pendingProps.children,s),t.child;case 12:return qe(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,se(ho,r._currentValue),r._currentValue=o,a!==null)if(It(a.value,o)){if(a.children===i.children&&!et.current){t=ms(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ls(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Mc(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(L(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Mc(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}qe(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,dn(t,s),i=bt(i),r=r(i),t.flags|=1,qe(e,t,r,s),t.child;case 14:return r=t.type,i=Et(r,t.pendingProps),i=Et(r.type,i),Dm(e,t,r,i,s);case 15:return vx(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Et(r,i),Va(e,t),t.tag=1,tt(r)?(e=!0,lo(t)):e=!1,dn(t,s),gx(t,r,i),Uc(t,r,i,s),Bc(null,t,r,!0,e,s);case 19:return _x(e,t,s);case 22:return wx(e,t,s)}throw Error(L(156,t.tag))};function Ux(e,t){return mg(e,t)}function Yb(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,s,r){return new Yb(e,t,s,r)}function Pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qb(e){if(typeof e=="function")return Pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yd)return 11;if(e===Qd)return 14}return 2}function $s(e,t){var s=e.alternate;return s===null?(s=xt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function qa(e,t,s,r,i,a){var o=2;if(r=e,typeof e=="function")Pu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Br:return yr(s.children,i,a,t);case Gd:o=8,i|=8;break;case dc:return e=xt(12,s,t,i|2),e.elementType=dc,e.lanes=a,e;case uc:return e=xt(13,s,t,i),e.elementType=uc,e.lanes=a,e;case hc:return e=xt(19,s,t,i),e.elementType=hc,e.lanes=a,e;case Qp:return Bo(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gp:o=10;break e;case Yp:o=9;break e;case Yd:o=11;break e;case Qd:o=14;break e;case _s:o=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=xt(o,s,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function yr(e,t,s,r){return e=xt(7,e,r,t),e.lanes=s,e}function Bo(e,t,s,r){return e=xt(22,e,r,t),e.elementType=Qp,e.lanes=s,e.stateNode={isHidden:!1},e}function Rl(e,t,s){return e=xt(6,e,null,t),e.lanes=s,e}function Ol(e,t,s){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jb(e,t,s,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tu(e,t,s,r,i,a,o,l,c){return e=new Jb(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(a),e}function Xb(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function Vx(e){if(!e)return qs;e=e._reactInternals;e:{if(Dr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var s=e.type;if(tt(s))return Vg(e,s,t)}return t}function zx(e,t,s,r,i,a,o,l,c){return e=Tu(s,r,!0,e,i,a,o,l,c),e.context=Vx(null),s=e.current,r=He(),i=Ms(s),a=ls(r,i),a.callback=t??null,Ls(s,a,i),e.current.lanes=i,Wi(e,i,r),st(e,r),e}function qo(e,t,s,r){var i=t.current,a=He(),o=Ms(i);return s=Vx(s),t.context===null?t.context=s:t.pendingContext=s,t=ls(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ls(i,t,o),e!==null&&(Rt(e,i,o,a),Ma(e,i,o)),o}function jo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Du(e,t){qm(e,t),(e=e.alternate)&&qm(e,t)}function Zb(){return null}var Bx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ru(e){this._internalRoot=e}Wo.prototype.render=Ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));qo(e,t,null,null)};Wo.prototype.unmount=Ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){qo(null,e,null,null)}),t[us]=null}};function Wo(e){this._internalRoot=e}Wo.prototype.unstable_scheduleHydration=function(e){if(e){var t=wg();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ss.length&&t!==0&&t<Ss[s].priority;s++);Ss.splice(s,0,e),s===0&&jg(e)}};function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wm(){}function ej(e,t,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=jo(o);a.call(d)}}var o=zx(t,r,e,0,null,!1,!1,"",Wm);return e._reactRootContainer=o,e[us]=o.current,Ci(e.nodeType===8?e.parentNode:e),Er(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=jo(c);l.call(d)}}var c=Tu(e,0,!1,null,null,!1,!1,"",Wm);return e._reactRootContainer=c,e[us]=c.current,Ci(e.nodeType===8?e.parentNode:e),Er(function(){qo(t,c,s,r)}),c}function Ko(e,t,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=jo(o);l.call(c)}}qo(t,o,e,i)}else o=ej(s,t,e,i,r);return jo(o)}yg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Jn(t.pendingLanes);s!==0&&(Zd(t,s|1),st(t,ve()),!(X&6)&&(wn=ve()+500,Ys()))}break;case 13:Er(function(){var r=hs(e,1);if(r!==null){var i=He();Rt(r,e,1,i)}}),Du(e,1)}};eu=function(e){if(e.tag===13){var t=hs(e,134217728);if(t!==null){var s=He();Rt(t,e,134217728,s)}Du(e,134217728)}};vg=function(e){if(e.tag===13){var t=Ms(e),s=hs(e,t);if(s!==null){var r=He();Rt(s,e,t,r)}Du(e,t)}};wg=function(){return Z};bg=function(e,t){var s=Z;try{return Z=e,t()}finally{Z=s}};jc=function(e,t,s){switch(t){case"input":if(pc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var i=Fo(r);if(!i)throw Error(L(90));Xp(r),pc(r,i)}}}break;case"textarea":eg(e,s);break;case"select":t=s.value,t!=null&&an(e,!!s.multiple,t,!1)}};og=Cu;lg=Er;var tj={usingClientEntryPoint:!1,Events:[Ki,Kr,Fo,ig,ag,Cu]},Bn={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sj={bundleType:Bn.bundleType,version:Bn.version,rendererPackageName:Bn.rendererPackageName,rendererConfig:Bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ug(e),e===null?null:e.stateNode},findFiberByHostInstance:Bn.findFiberByHostInstance||Zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Na.isDisabled&&Na.supportsFiber)try{Ro=Na.inject(sj),Kt=Na}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tj;lt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(t))throw Error(L(200));return Xb(e,t,null,s)};lt.createRoot=function(e,t){if(!Ou(e))throw Error(L(299));var s=!1,r="",i=Bx;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Tu(e,1,!1,null,null,s,!1,r,i),e[us]=t.current,Ci(e.nodeType===8?e.parentNode:e),new Ru(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=ug(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Er(e)};lt.hydrate=function(e,t,s){if(!Ho(t))throw Error(L(200));return Ko(null,e,t,!0,s)};lt.hydrateRoot=function(e,t,s){if(!Ou(e))throw Error(L(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=Bx;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=zx(t,null,e,1,s??null,i,!1,a,o),e[us]=t.current,Ci(e),r)for(e=0;e<r.length;e++)s=r[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Wo(t)};lt.render=function(e,t,s){if(!Ho(t))throw Error(L(200));return Ko(null,e,t,!1,s)};lt.unmountComponentAtNode=function(e){if(!Ho(e))throw Error(L(40));return e._reactRootContainer?(Er(function(){Ko(null,null,e,!1,function(){e._reactRootContainer=null,e[us]=null})}),!0):!1};lt.unstable_batchedUpdates=Cu;lt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Ho(s))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ko(e,t,s,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qx)}catch(e){console.error(e)}}qx(),qp.exports=lt;var rj=qp.exports,Wx,Hm=rj;Wx=Hm.createRoot,Hm.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Km="popstate";function nj(e={}){function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return td("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Li(i)}return aj(t,s,null,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ij(){return Math.random().toString(36).substring(2,10)}function Gm(e,t){return{usr:e.state,key:e.key,idx:t}}function td(e,t,s=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cn(t):t,state:s,key:t&&t.key||r||ij()}}function Li({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Cn(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function aj(e,t,s,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let _=u(),g=_==null?null:_-d;d=_,c&&c({action:l,location:v.location,delta:g})}function m(_,g){l="PUSH";let y=td(v.location,_,g);d=u()+1;let x=Gm(y,d),b=v.createHref(y);try{o.pushState(x,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(b)}a&&c&&c({action:l,location:v.location,delta:1})}function f(_,g){l="REPLACE";let y=td(v.location,_,g);d=u();let x=Gm(y,d),b=v.createHref(y);o.replaceState(x,"",b),a&&c&&c({action:l,location:v.location,delta:0})}function p(_){return oj(_)}let v={get action(){return l},get location(){return e(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Km,h),c=_,()=>{i.removeEventListener(Km,h),c=null}},createHref(_){return t(i,_)},createURL:p,encodeLocation(_){let g=p(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:f,go(_){return o.go(_)}};return v}function oj(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),ce(s,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Li(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function Hx(e,t,s="/"){return lj(e,t,s,!1)}function lj(e,t,s,r){let i=typeof t=="string"?Cn(t):t,a=fs(i.pathname||"/",s);if(a==null)return null;let o=Kx(e);cj(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=wj(a);l=yj(o[c],d,r)}return l}function Kx(e,t=[],s=[],r="",i=!1){let a=(o,l,c=i,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&c)return;ce(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let h=cs([r,u.relativePath]),m=s.concat(u);o.children&&o.children.length>0&&(ce(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Kx(o.children,t,m,h,c)),!(o.path==null&&!o.index)&&t.push({path:h,score:gj(h,o.index),routesMeta:m})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let d of Gx(o.path))a(o,l,!0,d)}),t}function Gx(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=Gx(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function cj(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:xj(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var dj=/^:[\w-]+$/,uj=3,hj=2,mj=1,fj=10,pj=-2,Ym=e=>e==="*";function gj(e,t){let s=e.split("/"),r=s.length;return s.some(Ym)&&(r+=pj),t&&(r+=hj),s.filter(i=>!Ym(i)).reduce((i,a)=>i+(dj.test(a)?uj:a===""?mj:fj),r)}function xj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function yj(e,t,s=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=No({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&s&&!r[r.length-1].route.index&&(h=No({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:cs([a,h.pathname]),pathnameBase:_j(cs([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=cs([a,h.pathnameBase]))}return o}function No(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=vj(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:u,isOptional:h},m)=>{if(u==="*"){let p=l[m]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const f=l[m];return h&&!f?d[u]=void 0:d[u]=(f||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function vj(e,t=!1,s=!0){Nt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function wj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function bj(e,t="/"){let{pathname:s,search:r="",hash:i=""}=typeof e=="string"?Cn(e):e;return{pathname:s?s.startsWith("/")?s:jj(s,t):t,search:kj(r),hash:Sj(i)}}function jj(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Il(e,t,s,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nj(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Iu(e){let t=Nj(e);return t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase)}function Lu(e,t,s,r=!1){let i;typeof e=="string"?i=Cn(e):(i={...e},ce(!i.pathname||!i.pathname.includes("?"),Il("?","pathname","search",i)),ce(!i.pathname||!i.pathname.includes("#"),Il("#","pathname","hash",i)),ce(!i.search||!i.search.includes("#"),Il("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=bj(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var cs=e=>e.join("/").replace(/\/\/+/g,"/"),_j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Yx=["POST","PUT","PATCH","DELETE"];new Set(Yx);var Ej=["GET",...Yx];new Set(Ej);var En=w.createContext(null);En.displayName="DataRouter";var Go=w.createContext(null);Go.displayName="DataRouterState";w.createContext(!1);var Qx=w.createContext({isTransitioning:!1});Qx.displayName="ViewTransition";var Aj=w.createContext(new Map);Aj.displayName="Fetchers";var Pj=w.createContext(null);Pj.displayName="Await";var Lt=w.createContext(null);Lt.displayName="Navigation";var Yi=w.createContext(null);Yi.displayName="Location";var Ft=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var Fu=w.createContext(null);Fu.displayName="RouteError";function Tj(e,{relative:t}={}){ce(An(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=w.useContext(Lt),{hash:i,pathname:a,search:o}=Qi(e,{relative:t}),l=a;return s!=="/"&&(l=a==="/"?s:cs([s,a])),r.createHref({pathname:l,search:o,hash:i})}function An(){return w.useContext(Yi)!=null}function dt(){return ce(An(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Yi).location}var Jx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xx(e){w.useContext(Lt).static||w.useLayoutEffect(e)}function Qs(){let{isDataRoute:e}=w.useContext(Ft);return e?Wj():Dj()}function Dj(){ce(An(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(En),{basename:t,navigator:s}=w.useContext(Lt),{matches:r}=w.useContext(Ft),{pathname:i}=dt(),a=JSON.stringify(Iu(r)),o=w.useRef(!1);return Xx(()=>{o.current=!0}),w.useCallback((c,d={})=>{if(Nt(o.current,Jx),!o.current)return;if(typeof c=="number"){s.go(c);return}let u=Lu(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:cs([t,u.pathname])),(d.replace?s.replace:s.push)(u,d.state,d)},[t,s,a,i,e])}w.createContext(null);function Rj(){let{matches:e}=w.useContext(Ft),t=e[e.length-1];return t?t.params:{}}function Qi(e,{relative:t}={}){let{matches:s}=w.useContext(Ft),{pathname:r}=dt(),i=JSON.stringify(Iu(s));return w.useMemo(()=>Lu(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Oj(e,t){return Zx(e,t)}function Zx(e,t,s,r,i){var y;ce(An(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(Lt),{matches:o}=w.useContext(Ft),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let x=h&&h.path||"";e0(d,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let m=dt(),f;if(t){let x=typeof t=="string"?Cn(t):t;ce(u==="/"||((y=x.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),f=x}else f=m;let p=f.pathname||"/",v=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=Hx(e,{pathname:v});Nt(h||_!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Nt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=$j(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:cs([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:cs([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,s,r,i);return t&&g?w.createElement(Yi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function Ij(){let e=qj(),t=Cj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),s?w.createElement("pre",{style:i},s):null,o)}var Lj=w.createElement(Ij,null),Fj=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Ft.Provider,{value:this.props.routeContext},w.createElement(Fu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Mj({routeContext:e,match:t,children:s}){let r=w.useContext(En);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Ft.Provider,{value:e},s)}function $j(e,t=[],s=null,r=null,i=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let a=e,o=s==null?void 0:s.errors;if(o!=null){let d=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);ce(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(s)for(let d=0;d<a.length;d++){let u=a[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:m}=s,f=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||f){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,u,h)=>{let m,f=!1,p=null,v=null;s&&(m=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||Lj,l&&(c<0&&h===0?(e0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):c===h&&(f=!0,v=u.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,h+1)),g=()=>{let y;return m?y=p:f?y=v:u.route.Component?y=w.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=d,w.createElement(Mj,{match:u,routeContext:{outlet:d,matches:_,isDataRoute:s!=null},children:y})};return s&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?w.createElement(Fj,{location:s.location,revalidation:s.revalidation,component:p,error:m,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):g()},null)}function Mu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uj(e){let t=w.useContext(En);return ce(t,Mu(e)),t}function Vj(e){let t=w.useContext(Go);return ce(t,Mu(e)),t}function zj(e){let t=w.useContext(Ft);return ce(t,Mu(e)),t}function $u(e){let t=zj(e),s=t.matches[t.matches.length-1];return ce(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Bj(){return $u("useRouteId")}function qj(){var r;let e=w.useContext(Fu),t=Vj("useRouteError"),s=$u("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function Wj(){let{router:e}=Uj("useNavigate"),t=$u("useNavigate"),s=w.useRef(!1);return Xx(()=>{s.current=!0}),w.useCallback(async(i,a={})=>{Nt(s.current,Jx),s.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var Qm={};function e0(e,t,s){!t&&!Qm[e]&&(Qm[e]=!0,Nt(!1,s))}w.memo(Hj);function Hj({routes:e,future:t,state:s,unstable_onError:r}){return Zx(e,void 0,s,r,t)}function Kj({to:e,replace:t,state:s,relative:r}){ce(An(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Lt);Nt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(Ft),{pathname:o}=dt(),l=Qs(),c=Lu(e,Iu(a),o,r==="path"),d=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(d),{replace:t,state:s,relative:r})},[l,d,r,t,s]),null}function be(e){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Gj({basename:e="/",children:t=null,location:s,navigationType:r="POP",navigator:i,static:a=!1}){ce(!An(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof s=="string"&&(s=Cn(s));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:m="default"}=s,f=w.useMemo(()=>{let p=fs(c,o);return p==null?null:{location:{pathname:p,search:d,hash:u,state:h,key:m},navigationType:r}},[o,c,d,u,h,m,r]);return Nt(f!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:w.createElement(Lt.Provider,{value:l},w.createElement(Yi.Provider,{children:t,value:f}))}function Yj({children:e,location:t}){return Oj(sd(e),t)}function sd(e,t=[]){let s=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let a=[...t,i];if(r.type===w.Fragment){s.push.apply(s,sd(r.props.children,a));return}ce(r.type===be,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sd(r.props.children,a)),s.push(o)}),s}var Wa="get",Ha="application/x-www-form-urlencoded";function Yo(e){return e!=null&&typeof e.tagName=="string"}function Qj(e){return Yo(e)&&e.tagName.toLowerCase()==="button"}function Jj(e){return Yo(e)&&e.tagName.toLowerCase()==="form"}function Xj(e){return Yo(e)&&e.tagName.toLowerCase()==="input"}function Zj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e1(e,t){return e.button===0&&(!t||t==="_self")&&!Zj(e)}function rd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function t1(e,t){let s=rd(e);return t&&t.forEach((r,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}var _a=null;function s1(){if(_a===null)try{new FormData(document.createElement("form"),0),_a=!1}catch{_a=!0}return _a}var r1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ll(e){return e!=null&&!r1.has(e)?(Nt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ha}"`),null):e}function n1(e,t){let s,r,i,a,o;if(Jj(e)){let l=e.getAttribute("action");r=l?fs(l,t):null,s=e.getAttribute("method")||Wa,i=Ll(e.getAttribute("enctype"))||Ha,a=new FormData(e)}else if(Qj(e)||Xj(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?fs(c,t):null,s=e.getAttribute("formmethod")||l.getAttribute("method")||Wa,i=Ll(e.getAttribute("formenctype"))||Ll(l.getAttribute("enctype"))||Ha,a=new FormData(l,e),!s1()){let{name:d,type:u,value:h}=e;if(u==="image"){let m=d?`${d}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else d&&a.append(d,h)}}else{if(Yo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Wa,r=null,i=Ha,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function i1(e,t,s){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${s}`:t&&fs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function a1(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function o1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function l1(e,t,s){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await a1(a,s);return o.links?o.links():[]}return[]}));return h1(r.flat(1).filter(o1).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Jm(e,t,s,r,i,a){let o=(c,d)=>s[d]?c.route.id!==s[d].route.id:!0,l=(c,d)=>{var u;return s[d].pathname!==c.pathname||((u=s[d].route.path)==null?void 0:u.endsWith("*"))&&s[d].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):a==="data"?t.filter((c,d)=>{var h;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=s[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function c1(e,t,{includeHydrateFallback:s}={}){return d1(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function d1(e){return[...new Set(e)]}function u1(e){let t={},s=Object.keys(e).sort();for(let r of s)t[r]=e[r];return t}function h1(e,t){let s=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(u1(i));return s.has(a)||(s.add(a),r.push({key:a,link:i})),r},[])}function t0(){let e=w.useContext(En);return Uu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function m1(){let e=w.useContext(Go);return Uu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Vu=w.createContext(void 0);Vu.displayName="FrameworkContext";function s0(){let e=w.useContext(Vu);return Uu(e,"You must render this element inside a <HydratedRouter> element"),e}function f1(e,t){let s=w.useContext(Vu),[r,i]=w.useState(!1),[a,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,m=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=g=>{g.forEach(y=>{o(y.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[e]),w.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let f=()=>{i(!0)},p=()=>{i(!1),o(!1)};return s?e!=="intent"?[a,m,{}]:[a,m,{onFocus:qn(l,f),onBlur:qn(c,p),onMouseEnter:qn(d,f),onMouseLeave:qn(u,p),onTouchStart:qn(h,f)}]:[!1,m,{}]}function qn(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function p1({page:e,...t}){let{router:s}=t0(),r=w.useMemo(()=>Hx(s.routes,e,s.basename),[s.routes,e,s.basename]);return r?w.createElement(x1,{page:e,matches:r,...t}):null}function g1(e){let{manifest:t,routeModules:s}=s0(),[r,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return l1(e,t,s).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,s]),r}function x1({page:e,matches:t,...s}){let r=dt(),{manifest:i,routeModules:a}=s0(),{basename:o}=t0(),{loaderData:l,matches:c}=m1(),d=w.useMemo(()=>Jm(e,t,c,i,r,"data"),[e,t,c,i,r]),u=w.useMemo(()=>Jm(e,t,c,i,r,"assets"),[e,t,c,i,r]),h=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,v=!1;if(t.forEach(g=>{var x;let y=i.routes[g.route.id];!y||!y.hasLoader||(!d.some(b=>b.route.id===g.route.id)&&g.route.id in l&&((x=a[g.route.id])!=null&&x.shouldRevalidate)||y.hasClientLoader?v=!0:p.add(g.route.id))}),p.size===0)return[];let _=i1(e,o,"data");return v&&p.size>0&&_.searchParams.set("_routes",t.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[_.pathname+_.search]},[o,l,r,i,d,t,e,a]),m=w.useMemo(()=>c1(u,i),[u,i]),f=g1(u);return w.createElement(w.Fragment,null,h.map(p=>w.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...s})),m.map(p=>w.createElement("link",{key:p,rel:"modulepreload",href:p,...s})),f.map(({key:p,link:v})=>w.createElement("link",{key:p,nonce:s.nonce,...v})))}function y1(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var r0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r0&&(window.__reactRouterVersion="7.8.2")}catch{}function v1({basename:e,children:t,window:s}){let r=w.useRef();r.current==null&&(r.current=nj({window:s,v5Compat:!0}));let i=r.current,[a,o]=w.useState({action:i.action,location:i.location}),l=w.useCallback(c=>{w.startTransition(()=>o(c))},[o]);return w.useLayoutEffect(()=>i.listen(l),[i,l]),w.createElement(Gj,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var n0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q=w.forwardRef(function({onClick:t,discover:s="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...m},f){let{basename:p}=w.useContext(Lt),v=typeof d=="string"&&n0.test(d),_,g=!1;if(typeof d=="string"&&v&&(_=d,r0))try{let k=new URL(window.location.href),A=d.startsWith("//")?new URL(k.protocol+d):new URL(d),P=fs(A.pathname,p);A.origin===k.origin&&P!=null?d=P+A.search+A.hash:g=!0}catch{Nt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=Tj(d,{relative:i}),[x,b,N]=f1(r,m),S=N1(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function C(k){t&&t(k),k.defaultPrevented||S(k)}let j=w.createElement("a",{...m,...N,href:_||y,onClick:g||a?t:C,ref:y1(f,b),target:c,"data-discover":!v&&s==="render"?"true":void 0});return x&&!v?w.createElement(w.Fragment,null,j,w.createElement(p1,{page:y})):j});Q.displayName="Link";var w1=w.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:c,...d},u){let h=Qi(o,{relative:d.relative}),m=dt(),f=w.useContext(Go),{navigator:p,basename:v}=w.useContext(Lt),_=f!=null&&A1(h)&&l===!0,g=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,y=m.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;s||(y=y.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&v&&(x=fs(x,v)||x);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let N=y===g||!i&&y.startsWith(g)&&y.charAt(b)==="/",S=x!=null&&(x===g||!i&&x.startsWith(g)&&x.charAt(g.length)==="/"),C={isActive:N,isPending:S,isTransitioning:_},j=N?t:void 0,k;typeof r=="function"?k=r(C):k=[r,N?"active":null,S?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(C):a;return w.createElement(Q,{...d,"aria-current":j,className:k,ref:u,style:A,to:o,viewTransition:l},typeof c=="function"?c(C):c)});w1.displayName="NavLink";var b1=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:r,replace:i,state:a,method:o=Wa,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...m},f)=>{let p=C1(),v=E1(l,{relative:d}),_=o.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&n0.test(l),y=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let b=x.nativeEvent.submitter,N=(b==null?void 0:b.getAttribute("formmethod"))||o;p(b||x.currentTarget,{fetcherKey:t,method:N,navigate:s,replace:i,state:a,relative:d,preventScrollReset:u,viewTransition:h})};return w.createElement("form",{ref:f,method:_,action:v,onSubmit:r?c:y,...m,"data-discover":!g&&e==="render"?"true":void 0})});b1.displayName="Form";function j1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(e){let t=w.useContext(En);return ce(t,j1(e)),t}function N1(e,{target:t,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let l=Qs(),c=dt(),d=Qi(e,{relative:a});return w.useCallback(u=>{if(e1(u,t)){u.preventDefault();let h=s!==void 0?s:Li(c)===Li(d);l(e,{replace:h,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,s,r,t,e,i,a,o])}function _1(e){Nt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(rd(e)),s=w.useRef(!1),r=dt(),i=w.useMemo(()=>t1(r.search,s.current?null:t.current),[r.search]),a=Qs(),o=w.useCallback((l,c)=>{const d=rd(typeof l=="function"?l(new URLSearchParams(i)):l);s.current=!0,a("?"+d,c)},[a,i]);return[i,o]}var k1=0,S1=()=>`__${String(++k1)}__`;function C1(){let{router:e}=i0("useSubmit"),{basename:t}=w.useContext(Lt),s=Bj();return w.useCallback(async(r,i={})=>{let{action:a,method:o,encType:l,formData:c,body:d}=n1(r,t);if(i.navigate===!1){let u=i.fetcherKey||S1();await e.fetch(u,s,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,s])}function E1(e,{relative:t}={}){let{basename:s}=w.useContext(Lt),r=w.useContext(Ft);ce(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Qi(e||".",{relative:t})},o=dt();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();a.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(a.pathname=a.pathname==="/"?s:cs([s,a.pathname])),Li(a)}function A1(e,{relative:t}={}){let s=w.useContext(Qx);ce(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i0("useViewTransitionState"),i=Qi(e,{relative:t});if(!s.isTransitioning)return!1;let a=fs(s.currentLocation.pathname,r)||s.currentLocation.pathname,o=fs(s.nextLocation.pathname,r)||s.nextLocation.pathname;return No(i.pathname,o)!=null||No(i.pathname,a)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,t)=>{const s=w.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>w.createElement("svg",{ref:u,...P1,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${T1(e)}`,l].join(" "),...d},[...t.map(([h,m])=>w.createElement(h,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=z("Bone",[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=z("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=z("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=z("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=z("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=z("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),J1="modulepreload",X1=function(e){return"/"+e},ef={},Xi=function(t,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=X1(c),c in ef)return;ef[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":J1,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Z1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Xi(async()=>{const{default:r}=await Promise.resolve().then(()=>Tn);return{default:r}},[]).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class Ku extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class eN extends Ku{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tf extends Ku{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sf extends Ku{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ld;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ld||(ld={}));var tN=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class sN{constructor(t,{headers:s={},customFetch:r,region:i=ld.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=Z1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return tN(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(v=>{throw new eN(v)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new tf(h);if(!h.ok)throw new sf(h);let f=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield h.json():f==="application/octet-stream"?p=yield h.blob():f==="text/event-stream"?p=h:f==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof sf||i instanceof tf?i.context:void 0}}})}}var Je={},Gu={},Zo={},Zi={},el={},tl={},rN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bn=rN();const nN=bn.fetch,h0=bn.fetch.bind(bn),m0=bn.Headers,iN=bn.Request,aN=bn.Response,Tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:m0,Request:iN,Response:aN,default:h0,fetch:nN},Symbol.toStringTag,{value:"Module"})),oN=Pv(Tn);var sl={};Object.defineProperty(sl,"__esModule",{value:!0});let lN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};sl.default=lN;var f0=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tl,"__esModule",{value:!0});const cN=f0(oN),dN=f0(sl);let uN=class{constructor(t){var s,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(s=t.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=cN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=new Headers(this.headers),this.headers.set(t,s),this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,d;let u=null,h=null,m=null,f=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=y:h=JSON.parse(y))}const _=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,f=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await a.text();try{u=JSON.parse(_),Array.isArray(u)&&a.status===404&&(h=[],u=null,f=200,p="OK")}catch{a.status===404&&_===""?(f=204,p="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new dN.default(u)}return{error:u,data:h,count:m,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,s)}returns(){return this}overrideTypes(){return this}};tl.default=uN;var hN=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(el,"__esModule",{value:!0});const mN=hN(tl);let fN=class extends mN.default{select(t){let s=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:s=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,s,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:s=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};el.default=fN;var pN=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0});const gN=pN(el);let xN=class extends gN.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const r=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(t,s,r){return this.url.searchParams.append(t,`not.${s}.${r}`),this}or(t,{foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,s,r){return this.url.searchParams.append(t,`${s}.${r}`),this}};Zi.default=xN;var yN=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zo,"__esModule",{value:!0});const Hn=yN(Zi);let vN=class{constructor(t,{headers:s={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(s),this.schema=r,this.fetch=i}select(t,{head:s=!1,count:r}={}){const i=s?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Hn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:s,defaultToNull:r=!0}={}){var i;const a="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Hn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Hn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:s}={}){var r;const i="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Hn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var s;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Hn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Zo.default=vN;var p0=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gu,"__esModule",{value:!0});const wN=p0(Zo),bN=p0(Zi);let jN=class g0{constructor(t,{headers:s={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(s),this.schemaName=r,this.fetch=i}from(t){const s=new URL(`${this.url}/${t}`);return new wN.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new g0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:r=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;r||i?(l=r?"HEAD":"GET",Object.entries(s).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",d=s);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new bN.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Gu.default=jN;var Dn=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Je,"__esModule",{value:!0});Je.PostgrestError=Je.PostgrestBuilder=Je.PostgrestTransformBuilder=Je.PostgrestFilterBuilder=Je.PostgrestQueryBuilder=Je.PostgrestClient=void 0;const x0=Dn(Gu);Je.PostgrestClient=x0.default;const y0=Dn(Zo);Je.PostgrestQueryBuilder=y0.default;const v0=Dn(Zi);Je.PostgrestFilterBuilder=v0.default;const w0=Dn(el);Je.PostgrestTransformBuilder=w0.default;const b0=Dn(tl);Je.PostgrestBuilder=b0.default;const j0=Dn(sl);Je.PostgrestError=j0.default;var NN=Je.default={PostgrestClient:x0.default,PostgrestQueryBuilder:y0.default,PostgrestFilterBuilder:v0.default,PostgrestTransformBuilder:w0.default,PostgrestBuilder:b0.default,PostgrestError:j0.default};const{PostgrestClient:_N,PostgrestQueryBuilder:VE,PostgrestFilterBuilder:zE,PostgrestTransformBuilder:BE,PostgrestBuilder:qE,PostgrestError:WE}=NN;class kN{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const SN="2.15.5",CN=`realtime-js/${SN}`,EN="1.0.0",cd=1e4,AN=1e3,PN=100;var ui;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ui||(ui={}));var ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ke||(ke={}));var Pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pt||(Pt={}));var dd;(function(e){e.websocket="websocket"})(dd||(dd={}));var dr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dr||(dr={}));class TN{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const i=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const c=r.decode(t.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class N0{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(te||(te={}));const rf=(e,t,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=DN(o,e,t,i),a),{})},DN=(e,t,s,r)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=s[e];return a&&!r.includes(a)?_0(a,o):ud(o)},_0=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return LN(t,s)}switch(e){case te.bool:return RN(t);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return ON(t);case te.json:case te.jsonb:return IN(t);case te.timestamp:return FN(t);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return ud(t);default:return ud(t)}},ud=e=>e,RN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ON=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},IN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},LN=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>_0(t,l))}return e},FN=e=>typeof e=="string"?e.replace(" ","T"):e,k0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ml{constructor(t,s,r={},i=cd){this.channel=t,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nf||(nf={}));class hi{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hi.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=hi.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hi.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,i){const a=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const m=u.map(_=>_.presence_ref),f=h.map(_=>_.presence_ref),p=u.filter(_=>f.indexOf(_.presence_ref)<0),v=h.filter(_=>m.indexOf(_.presence_ref)<0);p.length>0&&(l[d]=p),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(t,s,r,i){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}r(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const i=t[r];return"metas"in i?s[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var af;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(af||(af={}));var mi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mi||(mi={}));var rs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rs||(rs={}));class Yu{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ml(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new N0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new hi(this),this.broadcastEndpointURL=k0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ke.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[mi.PRESENCE]&&this.bindings[mi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(rs.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(rs.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t==null||t(rs.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(p=v==null?void 0:v.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<_;y++){const x=v[y],{filter:{event:b,schema:N,table:S,filter:C}}=x,j=f&&f[y];if(j&&j.event===b&&j.schema===N&&j.table===S&&j.filter===C)g.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),this.state=ke.errored,t==null||t(rs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(rs.SUBSCRIBED);return}}).receive("error",f=>{this.state=ke.errored,t==null||t(rs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===ke.joined&&t===mi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,r)}async send(t,s={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ke.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ml(this,Pt.leave,{},t),r.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ke.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ml(this,t,s,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>PN){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Pt;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,s,r);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,v,_;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((_=(v=f.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(m,r)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var p,v,_,g,y,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,N=(p=f.filter)===null||p===void 0?void 0:p.event;return b&&((v=s.ids)===null||v===void 0?void 0:v.includes(b))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((_=s.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(y=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((x=s==null?void 0:s.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:v,table:_,commit_timestamp:g,type:y,errors:x}=p;m=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:g,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(p))}f.callback(m,r)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const i=t.toLocaleLowerCase(),a={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Yu.isEqual(i.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pt.close,{},t)}_onError(t){this._on(Pt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=rf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=rf(t.columns,t.old_record)),s}}const $l=()=>{},ka={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MN=[1e3,2e3,5e3,1e4],$N=1e4,UN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VN{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cd,this.transport=null,this.heartbeatIntervalMs=ka.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$l,this.ref=0,this.reconnectTimer=null,this.logger=$l,this.conn=null,this.sendBuffer=[],this.serializer=new TN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Xi(async()=>{const{default:l}=await Promise.resolve().then(()=>Tn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${dd.websocket}`,this.httpEndpoint=k0(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EN}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return dr.Connecting;case ui.open:return dr.Open;case ui.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Yu(`realtime:${t}`,s,this);return this.channels.push(a),a}}push(t){const{topic:s,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(AN,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ka.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=s,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${r}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([UN],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const i={access_token:s,version:CN};s&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Pt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new N0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ka.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,i,a,o,l,c,d,u;if(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:cd,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ka.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:$l,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>MN[h-1]||$N,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(h,m)=>m(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Qu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zN extends Qu{constructor(t,s,r){super(t),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hd extends Qu{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var BN=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const S0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Xi(async()=>{const{default:r}=await Promise.resolve().then(()=>Tn);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},qN=()=>BN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xi(()=>Promise.resolve().then(()=>Tn),void 0)).Response:Response}),md=e=>{if(Array.isArray(e))return e.map(s=>md(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=md(r)}),t},WN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Rr=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const Ul=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HN=(e,t,s)=>Rr(void 0,void 0,void 0,function*(){const r=yield qN();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new zN(Ul(i),a,o))}).catch(i=>{t(new hd(Ul(i),i))}):t(new hd(Ul(e),e))}),KN=(e,t,s,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(WN(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),s))};function ea(e,t,s,r,i,a){return Rr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,KN(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>HN(c,l,r))})})}function _o(e,t,s,r){return Rr(this,void 0,void 0,function*(){return ea(e,"GET",t,s,r)})}function Bt(e,t,s,r,i){return Rr(this,void 0,void 0,function*(){return ea(e,"POST",t,r,i,s)})}function fd(e,t,s,r,i){return Rr(this,void 0,void 0,function*(){return ea(e,"PUT",t,r,i,s)})}function GN(e,t,s,r){return Rr(this,void 0,void 0,function*(){return ea(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function C0(e,t,s,r,i){return Rr(this,void 0,void 0,function*(){return ea(e,"DELETE",t,r,i,s)})}var Ve=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const YN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},of={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QN{constructor(t,s={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=r,this.fetch=S0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,r,i){return Ve(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},of),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield(t=="PUT"?fd:Bt)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}upload(t,s,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,i){return Ve(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:of.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield fd(this.fetch,l.toString(),c,{headers:u});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return Ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield Bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Qu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}update(t,s,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}copy(t,s,r){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,r){return Ve(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Bt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,r){return Ve(this,void 0,void 0,function*(){try{const i=yield Bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}download(t,s){return Ve(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield _o(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}})}info(t){return Ve(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield _o(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:md(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}exists(t){return Ve(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield GN(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r)&&r instanceof hd){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}list(t,s,r){return Ve(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},YN),s),{prefix:t||""});return{data:yield Bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}listV2(t,s){return Ve(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Bt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const JN="2.12.1",XN={"X-Client-Info":`storage-js/${JN}`};var Ir=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class ZN{constructor(t,s={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},XN),s),this.fetch=S0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ir(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Se(t))return{data:null,error:t};throw t}})}getBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Ir(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return Ir(this,void 0,void 0,function*(){try{return{data:yield fd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}}class e_ extends ZN{constructor(t,s={},r,i){super(t,s,r,i)}from(t){return new QN(this.url,this.headers,t,this.fetch)}}const t_="2.57.4";let Zn="";typeof Deno<"u"?Zn="deno":typeof document<"u"?Zn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zn="react-native":Zn="node";const s_={"X-Client-Info":`supabase-js-${Zn}/${t_}`},r_={headers:s_},n_={schema:"public"},i_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a_={};var o_=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const l_=e=>{let t;return e?t=e:typeof fetch>"u"?t=h0:t=fetch,(...s)=>t(...s)},c_=()=>typeof Headers>"u"?m0:Headers,d_=(e,t,s)=>{const r=l_(s),i=c_();return(a,o)=>o_(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var u_=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};function h_(e){return e.endsWith("/")?e:e+"/"}function m_(e,t){var s,r;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>u_(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function f_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(h_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const E0="2.71.1",Ur=30*1e3,pd=3,Vl=pd*Ur,p_="http://localhost:9999",g_="supabase.auth.token",x_={"X-Client-Info":`gotrue-js/${E0}`},gd="X-Supabase-Api-Version",A0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,v_=10*60*1e3;class Ju extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class w_ extends Ju{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function b_(e){return H(e)&&e.name==="AuthApiError"}class P0 extends Ju{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Xs extends Ju{constructor(t,s,r,i){super(t,r,i),this.name=s,this.status=r}}class js extends Xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j_(e){return H(e)&&e.name==="AuthSessionMissingError"}class Sa extends Xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ca extends Xs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ea extends Xs{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N_(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class lf extends Xs{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xd extends Xs{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function zl(e){return H(e)&&e.name==="AuthRetryableFetchError"}class cf extends Xs{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class yd extends Xs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),df=` 	
\r=`.split(""),__=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<df.length;t+=1)e[df[t].charCodeAt(0)]=-2;for(let t=0;t<ko.length;t+=1)e[ko[t].charCodeAt(0)]=t;return e})();function uf(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(ko[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(ko[r]),t.queuedBits-=6}}function T0(e,t,s){const r=__[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hf(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{C_(o,r,s)};for(let o=0;o<e.length;o+=1)T0(e.charCodeAt(o),i,a);return t.join("")}function k_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function S_(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}k_(r,t)}}function C_(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function E_(e){const t=[],s={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)T0(e.charCodeAt(i),s,r);return new Uint8Array(t)}function A_(e){const t=[];return S_(e,s=>t.push(s)),new Uint8Array(t)}function P_(e){const t=[],s={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>uf(i,s,r)),uf(null,s,r),t.join("")}function T_(e){return Math.round(Date.now()/1e3)+e}function D_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const St=()=>typeof window<"u"&&typeof document<"u",sr={tested:!1,writable:!1},D0=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sr.tested)return sr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sr.tested=!0,sr.writable=!0}catch{sr.tested=!0,sr.writable=!1}return sr.writable};function R_(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return s.searchParams.forEach((r,i)=>{t[i]=r}),t}const R0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Xi(async()=>{const{default:r}=await Promise.resolve().then(()=>Tn);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},O_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vr=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},rr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},vs=async(e,t)=>{await e.removeItem(t)};class rl{constructor(){this.promise=new rl.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}rl.promiseConstructor=Promise;function Bl(e){const t=e.split(".");if(t.length!==3)throw new yd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!y_.test(t[r]))throw new yd("JWT not in base64url format");return{header:JSON.parse(hf(t[0])),payload:JSON.parse(hf(t[1])),signature:E_(t[2]),raw:{header:t[0],payload:t[1]}}}async function I_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function L_(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function F_(e){return("0"+e.toString(16)).substr(-2)}function M_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,F_).join("")}async function $_(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function U_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await $_(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lr(e,t,s=!1){const r=M_();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await Vr(e,`${t}-code-verifier`,i);const a=await U_(r);return[a,r===a?"plain":"s256"]}const V_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function z_(e){const t=e.headers.get(gd);if(!t||!t.match(V_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function B_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function q_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const W_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(e){if(!W_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ql(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mf(e){return JSON.parse(JSON.stringify(e))}var H_=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s};const lr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),K_=[502,503,504];async function ff(e){var t;if(!O_(e))throw new xd(lr(e),0);if(K_.includes(e.status))throw new xd(lr(e),e.status);let s;try{s=await e.json()}catch(a){throw new P0(lr(a),a)}let r;const i=z_(e);if(i&&i.getTime()>=A0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new cf(lr(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new js}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new cf(lr(s),e.status,s.weak_password.reasons);throw new w_(lr(s),e.status||500,r)}const G_=(e,t,s,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function G(e,t,s,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[gd]||(a[gd]=A0["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Y_(e,t,s+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Y_(e,t,s,r,i,a){const o=G_(t,r,i,a);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new xd(lr(c),0)}if(l.ok||await ff(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await ff(c)}}function ts(e){var t;let s=null;Z_(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=T_(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function pf(e){const t=ts(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Es(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Q_(e){return{data:e,error:null}}function J_(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a}=e,o=H_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function X_(e){return e}function Z_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wl=["global","local","others"];var e2=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s};class t2{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=R0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=Wl[0]){if(Wl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wl.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Es})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=e2(t,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:J_,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(H(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Es})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:X_});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(p.split(";")[1].split("=")[1]);d[`${_}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(H(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Fr(t);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Es})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Fr(t);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Es})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){Fr(t);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Es})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fr(t.userId);try{const{data:s,error:r}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(H(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Fr(t.userId),Fr(t.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}}function gf(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function s2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Mr={debug:!!(globalThis&&D0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class r2 extends O0{}async function n2(e,t,s){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new r2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}s2();const i2={url:p_,storageKey:g_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xf(e,t,s){return await s()}const $r={};class Fi{constructor(t){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fi.nextInstanceID,Fi.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},i2),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new t2({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=R0(i.fetch),this.lock=i.lock||xf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:St()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=n2:this.lock=xf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:D0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=gf(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,s;return(s=(t=$r[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=$r[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${E0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=R_(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),St()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),N_(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return H(s)?{error:s}:{error:new P0("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,i;try{const a=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ts}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var s,r,i;try{let a;if("email"in t){const{email:u,password:h,options:m}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Lr(this.storage,this.storageKey)),a=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:p},xform:ts})}else if("phone"in t){const{phone:u,password:h,options:m}=t;a=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ts})}else throw new Ca("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let s;if("email"in t){const{email:a,password:o,options:l}=t;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pf})}else if("phone"in t){const{phone:a,password:o,options:l}=t;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pf})}else throw new Ca("You must provide either an email or phone number and a password");const{data:r,error:i}=s;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Sa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,r,i,a,o,l,c,d,u,h,m,f;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:_,wallet:g,statement:y,options:x}=t;let b;if(St())if(typeof g=="object")b=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))b=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const N=new URL((s=x==null?void 0:x.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in b&&b.signIn){const S=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await b.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:_,error:g}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:P_(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ts});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Sa}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(H(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const s=await rr(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{const{data:a,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ts});if(await vs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Sa}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(H(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:s,provider:r,token:i,access_token:a,nonce:o}=t,l=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ts}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Sa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Lr(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Ca("You must provide either an email or phone number.")}catch(l){if(H(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,r;try{let i,a;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ts});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Lr(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Q_})}catch(a){if(H(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new js;const{error:i}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await G(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await G(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ca("You must provide either an email or phone number and a type")}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Vl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await rr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ql()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Es}):await this._useSession(async s=>{var r,i,a;const{data:o,error:l}=s;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new js}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Es})})}catch(s){if(H(s))return j_(s)&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new js;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Lr(this.storage,this.storageKey));const{data:d,error:u}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Es});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new js;const s=Date.now()/1e3;let r=s,i=!0,a=null;const{payload:o}=Bl(t.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(H(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new js;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!St())throw new Ea("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ea(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new lf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ea("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lf("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!o||!d)throw new Ea("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const f=m-u;f*1e3<=Ur&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=m-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,u);const{data:v,error:_}=await this._getUser(a);if(_)throw _;const g={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(b_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=D_(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,i;try{const{data:{session:a},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Lr(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(H(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,d,u;const{data:h,error:m}=a;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return St()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await L_(async i=>(i>0&&await I_(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ts})),(i,a)=>{const o=200*Math.pow(2,i);return a&&zl(a)&&Date.now()+o-r<Ur})}catch(r){if(this._debug(s,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),St()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await rr(this.storage,this.storageKey);if(i&&this.userStorage){let o=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Vr(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ql()}else if(i&&!i.user&&!i.user){const o=await rr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await vs(this.storage,this.storageKey+"-user"),await Vr(this.storage,this.storageKey,i)):i.user=ql()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Vl;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Vl}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),zl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new js;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rl;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new js;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),H(a)){const o={session:null,error:a};return zl(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Vr(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const a=mf(i);await Vr(this.storage,this.storageKey,a)}else{const i=mf(s);await Vr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await vs(this.storage,this.storageKey),await vs(this.storage,this.storageKey+"-code-verifier"),await vs(this.storage,this.storageKey+"-user"),this.userStorage&&await vs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ur);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ur);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ur}ms, refresh threshold is ${pd} ticks`),i<=pd&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof O0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Lr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await G(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bl(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+v_>i)return r;const{data:a,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,s={}){try{let r=t;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=Bl(r);s!=null&&s.allowExpired||B_(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:a,header:i,signature:o},error:null}}const u=q_(i.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,A_(`${l}.${c}`)))throw new yd("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}Fi.nextInstanceID=0;const a2=Fi;class o2 extends a2{constructor(t){super(t)}}var l2=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class c2{constructor(t,s,r){var i,a,o;this.supabaseUrl=t,this.supabaseKey=s;const l=f_(t);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:n_,realtime:a_,auth:Object.assign(Object.assign({},i_),{storageKey:c}),global:r_},u=m_(r??{},d);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=d_(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new _N(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new e_(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new sN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return l2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:d},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new o2({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:i,userStorage:a,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new VN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d2=(e,t,s)=>new c2(e,t,s);function u2(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}u2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I0="https://pechixnsvyzcuprgtkga.supabase.co",L0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBlY2hpeG5zdnl6Y3Vwcmd0a2dhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyNzQ2ODgsImV4cCI6MjA3Mzg1MDY4OH0.VWYG17Q5dOcyALCEKTx-tbhE3felirejGjqXpF5PidE",D=d2(I0,L0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});console.log("Supabase Config:",{url:I0,hasKey:!!L0});const Kn={async getCartItems(e){const{data:t,error:s}=await D.from("cart_items").select(`
        *,
        product:products(*)
      `).eq("user_id",e);if(s)throw console.error("Error fetching cart items:",s),new Error("Failed to fetch cart items");return t||[]},async addToCart(e,t,s=1){var r,i,a;try{console.log(" Adding to cart:",{productData:t,quantity:s,userId:e});const{error:o}=await D.from("products").select("count").limit(1);if(o)throw console.error(" Database table error:",o),o.code==="PGRST116"||o.message.includes("relation")||o.message.includes("does not exist")?new Error("Database tables not found. Please run the SQL schema script in your Supabase dashboard first."):new Error(`Database error: ${o.message}`);const{data:l,error:c}=await D.from("users").select("id").eq("id",e).single();if(c&&c.code!=="PGRST116")throw console.error("Error checking user:",c),new Error(`Failed to check user: ${c.message}`);if(!l){const{data:{user:p},error:v}=await D.auth.getUser();if(v||!p)throw new Error("User not authenticated. Please sign in again.");const{error:_}=await D.from("users").insert({id:e,email:p.email||"",full_name:((r=p.user_metadata)==null?void 0:r.full_name)||((i=p.user_metadata)==null?void 0:i.name),avatar_url:(a=p.user_metadata)==null?void 0:a.avatar_url});if(_&&(console.error("Error creating user:",_),_.code!=="23505"))throw new Error(`Failed to create user: ${_.message}`)}let d;const{data:u,error:h}=await D.from("products").select("id").eq("name",t.name).eq("weight",t.weight).single();if(h&&h.code!=="PGRST116")throw console.error(" Error checking existing product:",h),new Error(`Failed to check existing product: ${h.message}`);if(u)d=u.id,console.log("Using existing product ID:",d);else{const{data:p,error:v}=await D.from("products").insert({name:t.name,description:t.description||"A premium blend of 21 natural grains, millets, and pulses",price:t.price,image_url:t.image_url||"/src/assets/shop/First page Flipkart.png",stock:100,weight:t.weight}).select("id").single();if(v)throw console.error(" Error creating product:",v),new Error(`Failed to create product: ${v.message}`);d=p.id}const{data:m,error:f}=await D.from("cart_items").select("id, quantity").eq("user_id",e).eq("product_id",d).single();if(f&&f.code!=="PGRST116")throw console.error(" Error checking existing cart item:",f),new Error(`Failed to check cart item: ${f.message}`);if(m){const p=m.quantity+s,{error:v}=await D.from("cart_items").update({quantity:p}).eq("id",m.id);if(v)throw console.error("Error updating cart item:",v),new Error(`Failed to update cart item: ${v.message}`)}else{const{error:p}=await D.from("cart_items").insert({user_id:e,product_id:d,quantity:s});if(p)if(console.error("Error adding to cart:",p),p.code==="23505"){const{data:v,error:_}=await D.from("cart_items").select("id, quantity").eq("user_id",e).eq("product_id",d).single();if(_)throw new Error(`Failed to add item to cart: ${p.message}`);const{error:g}=await D.from("cart_items").update({quantity:v.quantity+s}).eq("id",v.id);if(g)throw new Error(`Failed to update cart item: ${g.message}`)}else throw new Error(`Failed to add item to cart: ${p.message}`)}}catch(o){throw console.error("Cart service error:",o),o}},async updateCartItemQuantity(e,t){if(t<=0){await this.removeFromCart(e);return}const{data:{user:s},error:r}=await D.auth.getUser();if(r||!s)throw new Error("User not authenticated");const{data:i,error:a}=await D.from("cart_items").select("id, user_id").eq("id",e).eq("user_id",s.id).single();if(a)throw console.error(" Error checking cart item:",a),new Error(`Cart item not found or access denied: ${a.message}`);if(!i)throw new Error("Cart item not found or access denied");const{data:o,error:l}=await D.from("cart_items").update({quantity:t}).eq("id",e).eq("user_id",s.id).select();if(l)throw console.error("Error updating cart item quantity:",l),new Error(`Failed to update cart item quantity: ${l.message}`)},async removeFromCart(e){const{data:{user:t},error:s}=await D.auth.getUser();if(s||!t)throw new Error("User not authenticated");const{error:r}=await D.from("cart_items").delete().eq("id",e).eq("user_id",t.id);if(r)throw console.error("Error removing cart item:",r),new Error(`Failed to remove cart item: ${r.message}`)},async clearCart(e){const{error:t}=await D.from("cart_items").delete().eq("user_id",e);if(t)throw console.error("Error clearing cart:",t),new Error("Failed to clear cart")}},qt={async createOrder(e,t,s,r=99){if(s!=null&&s.payment_id){const{data:h,error:m}=await D.from("orders").select("*").eq("payment_id",s.payment_id).single();if(m&&m.code!=="PGRST116")throw console.error("Error checking for existing order:",m),new Error(`Failed to check for existing order: ${m.message}`);if(h)return console.log("Order with this payment_id already exists:",h.id),h}const i=t.reduce((h,m)=>{var f;return h+(((f=m.product)==null?void 0:f.price)||0)*m.quantity},0),a=i+r,o={user_id:e,subtotal:i,total:a,shipping_amount:r,status:(s==null?void 0:s.payment_status)==="paid"?"processing":"pending",payment_id:s==null?void 0:s.payment_id,payment_order_id:s==null?void 0:s.payment_order_id,payment_signature:s==null?void 0:s.payment_signature,payment_status:(s==null?void 0:s.payment_status)||"pending",payment_method:(s==null?void 0:s.payment_method)||"razorpay",currency:(s==null?void 0:s.currency)||"INR"};console.log(" Creating order in database..."),console.log(" Order data being saved:",o);const{data:l,error:c}=await D.from("orders").insert(o).select().single();if(c){if(console.error(" Error creating order:",c),c.code==="23505"&&c.message.includes("orders_order_number_key")&&(console.log("Duplicate order number detected, attempting to find existing order..."),s!=null&&s.payment_id)){const{data:h,error:m}=await D.from("orders").select("*").eq("payment_id",s.payment_id).single();if(m&&m.code!=="PGRST116")throw new Error(`Failed to find existing order: ${m.message}`);if(h)return console.log("Found existing order:",h.id),h}throw new Error(`Failed to create order: ${c.message}`)}console.log(" Creating order items in database...");const d=t.map(h=>{var v,_;const m=((v=h.product)==null?void 0:v.price)||0,f=h.quantity,p=m*f;return{order_id:l.id,product_id:h.product_id,product_name:((_=h.product)==null?void 0:_.name)||"Unknown Product",product_price:m,quantity:f,total_price:p}});console.log(" Order items being saved:",d);const{error:u}=await D.from("order_items").insert(d);if(u)throw console.error(" Error creating order items:",u),new Error(`Failed to create order items: ${u.message}`);return console.log(" Order and order items created successfully!"),l},async updateOrderPayment(e,t){const{error:s}=await D.from("orders").update({payment_id:t.payment_id,payment_signature:t.payment_signature,payment_status:t.payment_status,status:t.payment_status==="paid"?"processing":"pending",updated_at:new Date().toISOString()}).eq("id",e);if(s)throw console.error("Error updating order payment:",s),new Error("Failed to update order payment")},async getUserOrders(e){const{data:t,error:s}=await D.from("orders").select(`
        *,
        order_items (
          *,
          product:products(*)
        )
      `).eq("user_id",e).order("created_at",{ascending:!1});if(s)throw console.error("Error fetching user orders:",s),new Error("Failed to fetch orders");return t||[]},async updateOrderStatus(e,t){const{error:s}=await D.from("orders").update({status:t}).eq("id",e);if(s)throw console.error("Error updating order status:",s),new Error("Failed to update order status")},async updateOrderRefund(e,t){const{error:s}=await D.from("orders").update(t).eq("id",e);if(s)throw console.error("Error updating order refund:",s),new Error("Failed to update order refund")},async cancelOrder(e,t){const s={status:"cancelled",updated_at:new Date().toISOString()};t&&(s.payment_status="refunded",s.refund_id=t.refund_id,s.refund_amount=t.refund_amount,s.refund_reason=t.refund_reason,s.refund_status=t.refund_status,s.refunded_at=t.refunded_at);const{data:r,error:i}=await D.from("orders").update(s).eq("id",e).select();if(i)throw console.error("Error cancelling order:",i),new Error(`Failed to cancel order: ${i.message}`);if(!r||r.length===0)throw new Error("No data returned from order update")}},vd={async createOrUpdateUser(e){try{console.log("Creating/updating user in database:",{id:e.id,email:e.email}),console.log(" Checking if users table exists...");const{error:t}=await D.from("users").select("id").limit(1);if(t)throw console.error(" Table check error:",t),t.code==="PGRST116"||t.message.includes("relation")||t.message.includes("does not exist")?new Error("Database tables not found. Please run the SQL schema script in your Supabase dashboard first."):new Error(`Database table error: ${t.message}`);console.log(" Users table exists, proceeding with upsert...");const{error:s}=await D.from("users").upsert({id:e.id,email:e.email,full_name:e.name,avatar_url:e.avatar_url,last_login:new Date().toISOString(),updated_at:new Date().toISOString()});if(s)throw console.error(" Error creating/updating user:",s),console.error("Error details:",{code:s.code,message:s.message,details:s.details,hint:s.hint}),s.message.includes("full_name")&&s.message.includes("column")?new Error("Database schema mismatch. Please run the SQL schema script in your Supabase dashboard to create the correct table structure."):new Error(`Failed to create/update user: ${s.message}`);console.log(" User successfully created/updated in database")}catch(t){throw console.error(" User service error:",t),t}},async getUser(e){try{const{data:t,error:s}=await D.from("users").select("*").eq("id",e).single();return s?(console.error("Error fetching user:",s),null):t}catch(t){return console.error("Error in getUser:",t),null}},async ensureUserExists(e){try{await this.getUser(e.id)?(console.log("User exists in database, updating info and last_login..."),await this.updateUserLastLogin(e.id),await this.createOrUpdateUser(e)):(console.log("User not found in database, creating new user..."),await this.createOrUpdateUser(e))}catch(t){throw console.error("Error ensuring user exists:",t),t}},async updateUserLastLogin(e){try{const{error:t}=await D.from("users").update({last_login:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e);if(t)throw console.error("Error updating last_login:",t),t;console.log(" User last_login updated successfully")}catch(t){throw console.error("Error updating user last_login:",t),t}}},Ts={async getUserAddresses(e){const{data:t,error:s}=await D.from("user_addresses").select("*").eq("user_id",e).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(s)throw console.error("Error fetching user addresses:",s),new Error(`Failed to fetch addresses: ${s.message}`);return t||[]},async createAddress(e,t){const{data:s,error:r}=await D.from("user_addresses").insert({user_id:e,...t}).select().single();if(r)throw console.error("Error creating address:",r),new Error(`Failed to create address: ${r.message}`);return s},async updateAddress(e,t){const{data:s,error:r}=await D.from("user_addresses").update(t).eq("id",e).select().single();if(r)throw console.error("Error updating address:",r),new Error(`Failed to update address: ${r.message}`);return s},async deleteAddress(e){const{error:t}=await D.from("user_addresses").delete().eq("id",e);if(t)throw console.error("Error deleting address:",t),new Error(`Failed to delete address: ${t.message}`)},async setDefaultAddress(e,t){const{error:s}=await D.from("user_addresses").update({is_default:!1}).eq("user_id",t);if(s)throw console.error("Error unsetting default addresses:",s),new Error(`Failed to unset default addresses: ${s.message}`);const{error:r}=await D.from("user_addresses").update({is_default:!0}).eq("id",e).eq("user_id",t);if(r)throw console.error("Error setting default address:",r),new Error(`Failed to set default address: ${r.message}`)}},F0=w.createContext(void 0),h2=({children:e})=>{const t="authUser",r=(()=>{try{const b=localStorage.getItem(t);if(!b)return null;const N=JSON.parse(b);return N&&N.id&&typeof N.id=="string"?{id:N.id,email:N.email??null,user_metadata:N.user_metadata||{}}:null}catch(b){return console.warn("Error reading cached user:",b),null}})(),[i,a]=w.useState(r),[o,l]=w.useState(!r),c=b=>{try{localStorage.setItem(t,JSON.stringify(b))}catch(N){console.warn("Error caching user:",N)}},d=()=>{try{localStorage.removeItem(t)}catch(b){console.warn("Error clearing cached user:",b)}},u=async b=>{var N,S,C;try{await vd.ensureUserExists({id:b.id,email:b.email||"",name:((N=b.user_metadata)==null?void 0:N.full_name)||((S=b.user_metadata)==null?void 0:S.name)||null,avatar_url:((C=b.user_metadata)==null?void 0:C.avatar_url)||null})}catch(j){console.error(" Error ensuring user exists in database:",j),console.log(" User creation failed, but auth flow continues. User will be created when needed.")}},h=async b=>{try{const N=await vd.getUser(b);return N?{id:N.id,email:N.email,user_metadata:{full_name:N.full_name,avatar_url:N.avatar_url,phone:N.phone,phone_number:N.phone,name:N.full_name}}:null}catch(N){return console.error(" Error loading user from database:",N),null}},m=b=>{var N,S,C,j,k;return{id:b.id,email:b.email||null,user_metadata:{full_name:(N=b.user_metadata)==null?void 0:N.full_name,avatar_url:(S=b.user_metadata)==null?void 0:S.avatar_url,phone:(C=b.user_metadata)==null?void 0:C.phone,phone_number:(j=b.user_metadata)==null?void 0:j.phone_number,name:(k=b.user_metadata)==null?void 0:k.name,...b.user_metadata}}};w.useEffect(()=>{let b=!0;(async()=>{try{const{data:{session:C},error:j}=await D.auth.getSession();if(!b)return;if(j){console.error("Error getting initial session:",j),l(!1);return}if(C!=null&&C.user){const k=m(C.user);a(k),c(k),u(C.user).catch(console.error)}}catch(C){console.error("Error in getInitialSession:",C)}finally{b&&l(!1)}})();const{data:{subscription:S}}=D.auth.onAuthStateChange(async(C,j)=>{var k;if(console.log("[AuthContext] Auth state changed:",C,(k=j==null?void 0:j.user)==null?void 0:k.email,"Session exists:",!!j),!!b)try{if(C==="SIGNED_IN"&&(j!=null&&j.user)){const A=m(j.user);a(A),c(A),u(j.user).catch(console.error)}else if(C==="SIGNED_OUT"||!j)a(null),d();else if(j!=null&&j.user){const A=m(j.user);a(A),c(A)}}catch(A){console.error("Error in auth state change handler:",A)}finally{b&&l(!1)}});return()=>{b=!1,S.unsubscribe()}},[]);const f=async(b,N)=>{try{const{error:S}=await D.auth.signUp({email:b,password:N});return{error:S}}catch(S){return console.error("Signup error:",S),{error:S}}},p=async(b,N)=>{try{const{error:S}=await D.auth.signInWithPassword({email:b,password:N});return{error:S}}catch(S){return console.error("Login error:",S),{error:S}}},v=async()=>{try{const{error:b}=await D.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});return{error:b}}catch(b){return console.error("Google login error:",b),{error:b}}},_=async()=>{try{const{error:b}=await D.auth.signOut();b&&console.error("Logout error:",b)}catch(b){console.error("Logout error:",b)}},g=b=>{a(b),c(b)},y=async()=>{if(i)try{const b=await h(i.id);b&&(a(b),c(b))}catch(b){console.error(" Error refreshing user data:",b)}},x=w.useMemo(()=>({user:i,loading:o,signup:f,login:p,loginWithGoogle:v,logout:_,updateUser:g,refreshUser:y}),[i,o]);return n.jsx(F0.Provider,{value:x,children:e})},ut=()=>{const e=w.useContext(F0);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},M0=w.createContext(void 0),m2=({children:e})=>{const{user:t}=ut(),[s,r]=w.useState([]),[i,a]=w.useState(!1),o=async()=>{if(!t){r([]);return}a(!0);try{const p=await Kn.getCartItems(t.id);r(p)}catch(p){console.error("Error fetching cart items:",p)}finally{a(!1)}};w.useEffect(()=>{o()},[t]);const l=async(p,v=1)=>{if(!t)throw new Error("User must be logged in to add items to cart");const _=s.find(g=>g.product_id===p.id);_?await c(_.id,_.quantity+v):await Kn.addToCart(t.id,p,v),await o()},c=async(p,v)=>{if(console.log(" CartContext.updateQty called with:",{cartItemId:p,quantity:v}),v<=0){console.log("Quantity is 0 or negative, removing item instead"),await d(p);return}try{console.log(" Calling cartService.updateCartItemQuantity..."),await Kn.updateCartItemQuantity(p,v),console.log(" Successfully updated quantity, refreshing cart..."),await o(),console.log(" Cart refresh completed")}catch(_){throw console.error(" Error updating cart item quantity:",_),_}},d=async p=>{try{await Kn.removeFromCart(p),await o()}catch(v){throw console.error("Error removing cart item:",v),v}},u=async()=>{if(t)try{await Kn.clearCart(t.id),await o()}catch(p){throw console.error("Error clearing cart:",p),p}},h=w.useMemo(()=>s.reduce((p,v)=>p+v.quantity,0),[s]),m=w.useMemo(()=>s.reduce((p,v)=>{var _;return p+(((_=v.product)==null?void 0:_.price)||0)*v.quantity},0),[s]),f=w.useMemo(()=>({items:s,totalItems:h,totalPrice:m,loading:i,addItem:l,updateQty:c,removeItem:d,clearCart:u,refreshCart:o}),[s,h,m,i]);return n.jsx(M0.Provider,{value:f,children:e})},ta=()=>{const e=w.useContext(M0);if(!e)throw new Error("useCart must be used within CartProvider");return e},$0=w.createContext(void 0),f2=({children:e})=>{const[t,s]=w.useState(!1),[r,i]=w.useState(!1),[a,o]=w.useState(null),[l,c]=w.useState([]),[d,u]=w.useState(!0),[h,m]=w.useState(null),[f,p]=w.useState(null);w.useEffect(()=>{(async()=>{try{const{data:{user:N}}=await D.auth.getUser();p(N)}catch(N){console.error("Error getting current user:",N),p(null)}})();const{data:{subscription:b}}=D.auth.onAuthStateChange((N,S)=>{p((S==null?void 0:S.user)||null)});return()=>b.unsubscribe()},[]);const v=async()=>{var x,b,N,S;if(!f){console.log(" AdminContext: No user, setting admin to false"),s(!1),i(!1),o(null),u(!1);return}try{console.log(" AdminContext: Starting admin status check for user:",f.id),u(!0),m(null),console.log(" AdminContext: Checking admin status from database");const{data:C,error:j}=await D.from("users").select("is_admin, role").eq("id",f.id).single();if(j){console.error("Error fetching user admin status:",j);const P=f.email==="adityapiyush71@gmail.com",M=f.email==="adityapiyush71@gmail.com";console.log(" Admin status check (fallback):",{email:f.email,isAdminUser:P,isSuperAdminUser:M}),s(P),i(M),o(P?{id:f.id,email:f.email||"",name:((x=f.user_metadata)==null?void 0:x.full_name)||((b=f.user_metadata)==null?void 0:b.name)||"Admin",role:"super_admin",is_active:!0,last_login:new Date().toISOString(),created_at:new Date().toISOString()}:null);return}const k=(C==null?void 0:C.is_admin)||!1,A=(C==null?void 0:C.role)==="super_admin";console.log(" Admin status check (database):",{email:f.email,isAdminUser:k,isSuperAdminUser:A,userData:C}),s(k),i(A),o(k?{id:f.id,email:f.email||"",name:((N=f.user_metadata)==null?void 0:N.full_name)||((S=f.user_metadata)==null?void 0:S.name)||"Admin",role:(C==null?void 0:C.role)||"admin",is_active:!0,last_login:new Date().toISOString(),created_at:new Date().toISOString()}:null)}catch(C){console.error("Error in checkAdminStatus:",C),m("An unexpected error occurred"),s(!1),i(!1),o(null)}finally{u(!1)}},_=async x=>{if(!t||!f){console.warn("Cannot log admin action: user is not an admin");return}try{const{error:b}=await D.from("admin_actions").insert({admin_id:f.id,action_type:x.action_type,resource_type:x.resource_type,resource_id:x.resource_id,old_values:x.old_values,new_values:x.new_values,ip_address:x.ip_address,user_agent:x.user_agent});b&&console.error("Error logging admin action:",b)}catch(b){console.error("Error in logAdminAction:",b)}},g=async()=>{if(t)try{const{data:x,error:b}=await D.from("admin_actions").select("*").order("created_at",{ascending:!1}).limit(50);b?(console.error("Error fetching admin actions:",b),m("Failed to fetch admin actions")):c(x||[])}catch(x){console.error("Error in refreshAdminActions:",x),m("An unexpected error occurred")}};w.useEffect(()=>{v()},[f]),w.useEffect(()=>{t&&g()},[t]);const y={isAdmin:t,isSuperAdmin:r,adminUser:a,adminActions:l,loading:d,error:h,checkAdminStatus:v,logAdminAction:_,refreshAdminActions:g};return n.jsx($0.Provider,{value:y,children:e})},Xt=()=>{const e=w.useContext($0);if(e===void 0)throw new Error("useAdmin must be used within an AdminProvider");return e},yf="/assets/sreeshivanilogo-DN5se7et.png",Ut=()=>{var b,N,S,C,j,k,A,P;const[e,t]=w.useState(!1),[s,r]=w.useState(!1),[i,a]=w.useState(!1),[o,l]=w.useState(!1),c=w.useRef(null),d=dt(),{user:u,loading:h,loginWithGoogle:m,logout:f}=ut(),{totalItems:p}=ta(),{isAdmin:v,isSuperAdmin:_,adminUser:g,loading:y}=Xt();w.useEffect(()=>{console.log(" Navbar admin status:",{isAdmin:v,isSuperAdmin:_,adminUser:g,adminLoading:y,user:u==null?void 0:u.email})},[v,_,g,y,u]),w.useEffect(()=>{const M=()=>t(window.scrollY>50);return window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)},[]),w.useEffect(()=>{const M=B=>{o&&(B.target.closest(".mobile-user-menu")||l(!1))};if(o){const B=setTimeout(()=>{document.addEventListener("click",M)},200);return()=>{clearTimeout(B),document.removeEventListener("click",M)}}},[o]);const x=[{name:"Home",path:"/"},{name:"Shop",path:"/shop"},{name:"About Us",path:"/about"},{name:"Contact",path:"/contact"}];return n.jsxs("nav",{className:`fixed w-full top-0 z-50 transition-all duration-300 ${e?"bg-white/95 backdrop-blur-sm shadow-lg":"bg-white"}`,children:[n.jsx("div",{className:"md:hidden max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.pathname==="/"?n.jsxs(Q,{to:"/",className:"flex items-center space-x-2",children:[n.jsx("img",{src:yf,alt:"Company Logo",className:"h-8 w-auto"}),n.jsx("span",{className:"text-xl font-bold text-[#4A5C3D]",children:"Devanagari"})]}):n.jsxs(Q,{to:"/",className:"flex items-center space-x-2 text-[#4A5C3D] hover:text-[#3a4a2f] transition-colors",children:[n.jsx(Us,{size:20}),n.jsx("span",{className:"text-lg font-semibold",children:"Home"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(Q,{to:"/cart",className:"relative p-2 text-gray-700 hover:text-[#4A5C3D] transition-colors duration-200","aria-label":"Cart",children:[n.jsx(zs,{size:20}),p>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-[#4A5C3D] text-white text-xs rounded-full h-5 min-w-[1.25rem] px-1 flex items-center justify-center",children:p})]}),n.jsx("button",{onClick:()=>r(!s),className:"p-2 text-gray-700","aria-label":"Toggle menu",children:s?n.jsx(is,{size:24}):n.jsx(Js,{size:24})})]})]})}),n.jsxs("div",{className:"hidden md:grid grid-cols-3 items-center h-16 w-full",children:[n.jsx("div",{className:"flex justify-start px-4 sm:px-6 lg:px-8",children:n.jsxs(Q,{to:"/",className:"flex items-center space-x-2",children:[n.jsx("img",{src:yf,alt:"Company Logo",className:"h-10 w-auto"}),n.jsx("span",{className:"text-2xl font-bold text-[#4A5C3D]",children:"Devanagari"})]})}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"flex items-center space-x-8",children:x.map(M=>n.jsx(Q,{to:M.path,className:`text-sm font-medium transition-colors duration-200 ${d.pathname===M.path?"text-[#4A5C3D] border-b-2 border-[#4A5C3D] pb-1":"text-gray-700 hover:text-[#4A5C3D]"}`,children:M.name},M.name))})}),n.jsx("div",{className:"flex justify-end px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(Q,{to:"/cart",className:"relative p-2 text-gray-700 hover:text-[#4A5C3D] transition-colors duration-200","aria-label":"Cart",children:[n.jsx(zs,{size:20}),p>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-[#4A5C3D] text-white text-xs rounded-full h-5 min-w-[1.25rem] px-1 flex items-center justify-center",children:p})]}),h&&n.jsx("div",{className:"h-8 w-28 rounded-md bg-gray-200 animate-pulse"}),!h&&!u&&n.jsx("button",{onClick:m,className:"px-3 py-2 rounded-md bg-[#4A5C3D] text-white text-sm hover:opacity-90",children:"Sign in with Google"}),!h&&u&&n.jsxs("div",{className:"relative",onMouseEnter:()=>{c.current&&(clearTimeout(c.current),c.current=null),a(!0)},onMouseLeave:()=>{c.current&&clearTimeout(c.current),c.current=window.setTimeout(()=>{a(!1)},150)},children:[n.jsxs("button",{className:"flex items-center space-x-2 group",children:[(b=u.user_metadata)!=null&&b.avatar_url?n.jsx("img",{src:u.user_metadata.avatar_url,alt:u.user_metadata.full_name||"User avatar",className:"h-8 w-8 rounded-full border border-gray-200",onError:M=>{var B;M.currentTarget.style.display="none",(B=M.currentTarget.nextElementSibling)==null||B.classList.remove("hidden")}}):null,n.jsx("div",{className:`h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center ${(N=u.user_metadata)!=null&&N.avatar_url?"hidden":""}`,children:n.jsx("span",{className:"text-sm font-bold text-gray-600",children:(((S=u.user_metadata)==null?void 0:S.full_name)||u.email||"U").charAt(0).toUpperCase()})}),n.jsx("span",{className:"text-sm text-gray-700 group-hover:text-[#4A5C3D]",children:((C=u.user_metadata)==null?void 0:C.full_name)||u.email}),n.jsx(id,{size:16,className:"text-gray-500"})]}),i&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-2 z-50",onMouseEnter:()=>{c.current&&(clearTimeout(c.current),c.current=null),a(!0)},onMouseLeave:()=>{c.current&&clearTimeout(c.current),c.current=window.setTimeout(()=>{a(!1)},150)},children:[n.jsx(Q,{to:"/profile",onClick:()=>a(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"My Profile"}),n.jsx(Q,{to:"/profile?tab=orders",onClick:()=>a(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Orders"}),v&&n.jsx(Q,{to:"/admin",onClick:()=>a(!1),className:"block px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 font-medium",children:"Admin Panel"}),n.jsx("button",{onClick:()=>{a(!1),f()},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})]})]})]})})]}),s&&n.jsx("div",{className:"md:hidden max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[x.map(M=>n.jsx(Q,{to:M.path,onClick:()=>r(!1),className:`text-sm font-medium ${d.pathname===M.path?"text-[#4A5C3D] font-semibold":"text-gray-700"}`,children:M.name},M.name)),n.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[h&&n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"h-8 w-28 rounded-md bg-gray-200 animate-pulse"})}),!h&&!u&&n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{onClick:()=>{m(),r(!1)},className:"px-3 py-2 rounded-md bg-[#4A5C3D] text-white text-sm",children:"Sign in with Google"})}),!h&&u&&n.jsxs("div",{className:"relative mobile-user-menu w-full",children:[n.jsxs("button",{type:"button",onClick:M=>{M.preventDefault(),M.stopPropagation(),l(!o)},className:"flex items-center space-x-3 w-full p-2 rounded-md hover:bg-gray-50 cursor-pointer",children:[(j=u.user_metadata)!=null&&j.avatar_url?n.jsx("img",{src:u.user_metadata.avatar_url,alt:u.user_metadata.full_name||"User avatar",className:"h-8 w-8 rounded-full border border-gray-200",onError:M=>{var B;M.currentTarget.style.display="none",(B=M.currentTarget.nextElementSibling)==null||B.classList.remove("hidden")}}):null,n.jsx("div",{className:`h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center ${(k=u.user_metadata)!=null&&k.avatar_url?"hidden":""}`,children:n.jsx("span",{className:"text-sm font-bold text-gray-600",children:(((A=u.user_metadata)==null?void 0:A.full_name)||u.email||"U").charAt(0).toUpperCase()})}),n.jsx("span",{className:"text-sm text-gray-700 flex-1 text-left",children:((P=u.user_metadata)==null?void 0:P.full_name)||u.email}),n.jsx(id,{size:16,className:`text-gray-500 transition-transform duration-200 ${o?"rotate-180":""}`})]}),o&&n.jsxs("div",{className:"relative mt-2 bg-white border border-gray-200 rounded-lg shadow-lg py-2 z-[60]",children:[n.jsx(Q,{to:"/profile",onClick:()=>{l(!1),r(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"My Profile"}),n.jsx(Q,{to:"/profile?tab=orders",onClick:()=>{l(!1),r(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Orders"}),v&&n.jsx(Q,{to:"/admin",onClick:()=>{l(!1),r(!1)},className:"block px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 font-medium",children:"Admin Panel"}),n.jsx("button",{onClick:()=>{l(!1),r(!1),f()},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})]})]})]})]})})]})},Vt=()=>n.jsx("footer",{className:"bg-[#4A5C3D] text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-2xl font-bold",children:"Devanagari"}),n.jsx("p",{className:"text-gray-300",children:"Wellness, rooted in tradition. Fueling your health with nature's finest ingredients."}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"https://www.facebook.com/profile.php?id=61580180758661",className:"text-gray-300 hover:text-white transition-colors",children:n.jsx(L1,{size:20})}),n.jsx("a",{href:"https://www.instagram.com/sreeshivanifoods?igsh=M3JsbzB1bXdtcXNy",className:"text-gray-300 hover:text-white transition-colors",children:n.jsx(M1,{size:20})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-semibold",children:"Quick Links"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{to:"/",className:"block text-gray-300 hover:text-white transition-colors",children:"Home"}),n.jsx(Q,{to:"/shop",className:"block text-gray-300 hover:text-white transition-colors",children:"Shop"}),n.jsx(Q,{to:"/about",className:"block text-gray-300 hover:text-white transition-colors",children:"About Us"}),n.jsx(Q,{to:"/contact",className:"block text-gray-300 hover:text-white transition-colors",children:"Contact"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-semibold",children:"Customer Care"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("a",{href:"#",className:"block text-gray-300 hover:text-white transition-colors",children:"FAQ"}),n.jsx("a",{href:"#",className:"block text-gray-300 hover:text-white transition-colors",children:"Shipping Info"}),n.jsx("a",{href:"#",className:"block text-gray-300 hover:text-white transition-colors",children:"Privacy Policy"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-semibold",children:"Contact Info"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(qu,{size:16}),n.jsx("span",{className:"text-gray-300",children:"sreeshivanifoods@gamil.com"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Wu,{size:16}),n.jsx("span",{className:"text-gray-300",children:"9964560622"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Pr,{size:30}),n.jsx("span",{className:"text-gray-300",children:"#5187/A-22, Banashankari Badavane Davangere-577004, Karnataka"})]})]})]})]}),n.jsx("div",{className:"border-t border-gray-600 mt-8 pt-8 text-center",children:n.jsx("p",{className:"text-gray-300",children:" 2025 Devanagari Health Mix. All rights reserved."})})]})}),Hl=({children:e})=>{const{user:t,loading:s}=ut(),r=dt();return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#FDFBF8]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4A5C3D] mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(Kj,{to:"/",state:{from:r,message:"Please sign in to access this page"},replace:!0})},ws=({children:e,requireSuperAdmin:t=!1})=>{const{isAdmin:s,isSuperAdmin:r,loading:i}=Xt();return dt(),i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(V1,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Checking admin access..."})]})}):s?t&&!r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[n.jsx(nd,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Insufficient Permissions"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"This section requires super admin privileges. Please contact a super administrator for access."}),n.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})}):n.jsx(n.Fragment,{children:e}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[n.jsx(wr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access the admin panel. Please contact an administrator if you believe this is an error."}),n.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})})},bs=({children:e})=>{const[t,s]=w.useState(!1),{logout:r}=ut(),{adminUser:i,isSuperAdmin:a}=Xt(),o=dt(),l=[{name:"Dashboard",href:"/admin",icon:$1},{name:"Products",href:"/admin/products",icon:Vs},{name:"Orders",href:"/admin/orders",icon:zs},{name:"Promo Codes",href:"/admin/promo-codes",icon:Hu},{name:"Refunds",href:"/admin/refunds",icon:Ot},{name:"Users",href:"/admin/users",icon:di},{name:"Analytics",href:"/admin/analytics",icon:D1},...a?[{name:"Settings",href:"/admin/settings",icon:d0}]:[]],c=async()=>{await r()};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${t?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>s(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),n.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(is,{className:"h-6 w-6"})})]}),n.jsxs("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[n.jsxs(Q,{to:"/",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-200 mb-2",onClick:()=>s(!1),children:[n.jsx(Fl,{className:"mr-3 h-5 w-5"}),"Return to Home"]}),l.map(d=>{const u=o.pathname===d.href;return n.jsxs(Q,{to:d.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>s(!1),children:[n.jsx(d.icon,{className:"mr-3 h-5 w-5"}),d.name]},d.name)})]})]})]}),n.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:n.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[n.jsx("div",{className:"flex h-16 items-center px-4",children:n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"})}),n.jsxs("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[n.jsxs(Q,{to:"/",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-200 mb-2",children:[n.jsx(Fl,{className:"mr-3 h-5 w-5"}),"Return to Home"]}),l.map(d=>{const u=o.pathname===d.href;return n.jsxs(Q,{to:d.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[n.jsx(d.icon,{className:"mr-3 h-5 w-5"}),d.name]},d.name)})]})]})}),n.jsxs("div",{className:"lg:pl-64",children:[n.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[n.jsxs(Q,{to:"/",className:"flex items-center gap-x-2 text-sm text-gray-700 hover:text-gray-900 bg-gray-100 hover:bg-gray-200 px-3 py-2 rounded-md transition-colors",title:"Return to Home",children:[n.jsx(Fl,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),n.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[n.jsx("div",{className:"flex flex-1"}),n.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[n.jsxs("div",{className:"flex items-center gap-x-2",children:[n.jsx(wr,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:(i==null?void 0:i.name)||"Admin"}),a&&n.jsx("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-2 py-1 text-xs font-medium text-purple-800",children:"Super Admin"})]}),n.jsxs("button",{onClick:c,className:"flex items-center gap-x-2 text-sm text-gray-700 hover:text-gray-900",children:[n.jsx(z1,{className:"h-4 w-4"}),"Logout"]})]})]})]}),n.jsx("main",{className:"py-6",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})},p2="/assets/millet-h48g3JPn.png",g2="/assets/grinding1-DgAndL17.png",x2="/assets/powderMix.png%20-BfSunxLI.png",y2="/assets/sreeshivanihero-CgVNBAVa.png",v2="/assets/compressed-hero-bg-B2buULb0.mp4",w2=()=>{const e=[{icon:U1,title:"21 Natural Ingredients",description:"Carefully selected grains, millets, and pulses for complete nutrition"},{icon:wr,title:"Zero Sugar & Cholesterol",description:"Pure ingredients with no artificial additives or harmful substances"},{icon:R1,title:"Protein-Packed Nutrition",description:"Iron-strong, calcium-rich formula perfect for every fitness journey"},{icon:Q1,title:"Gluten-Free & Wholesome",description:"Balanced nutrition for all, delivering wellness in every sip"}];return n.jsxs("div",{className:"bg-[#FDFBF8] overflow-x-hidden",children:[n.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden",children:[n.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",children:[n.jsx("source",{src:v2,type:"video/mp4"}),"Your browser does not support the video tag."]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.05)_0%,transparent_70%)]"}),n.jsx("div",{className:"relative w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 z-20",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-center min-h-[80vh]",children:[n.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[n.jsx("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20",children:n.jsx("span",{className:"text-white/90 text-sm font-medium tracking-wide",children:"100% Natural  21 Ingredients  Traditional Recipe"})}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white leading-[0.9] tracking-tight",children:["Wellness,",n.jsx("br",{}),n.jsx("span",{className:"text-[#CDE0B7]",children:"Rooted in"}),n.jsx("br",{}),"Tradition"]}),n.jsx("div",{className:"h-1 w-16 sm:w-24 bg-gradient-to-r from-[#CDE0B7] to-[#F6CFA7] rounded-full"}),n.jsx("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-[#F6CFA7] font-bold tracking-wider",children:"FUELS HEALTH. POWERS LIFE."})]}),n.jsx("div",{className:"max-w-2xl",children:n.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-white/90 leading-relaxed font-light",children:["Discover the power of"," ",n.jsx("span",{className:"font-semibold text-[#CDE0B7]",children:"21 natural grains"}),", millets, and pulses in a single, nourishing mix. Inspired by nature and rooted in tradition, Devanagari Health Mix is your gateway to vibrant wellness."]})}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4",children:n.jsxs("button",{className:"group bg-gradient-to-r from-[#4A5C3D] to-[#5d7249] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl text-base sm:text-lg font-bold hover:from-[#3a4a2f] hover:to-[#4a5d3a] transition-all duration-300 flex items-center justify-center space-x-2 sm:space-x-3 shadow-2xl hover:shadow-3xl transform hover:scale-105 backdrop-blur-sm",children:[n.jsx(od,{size:18,className:"sm:w-5 sm:h-5 group-hover:animate-bounce"}),n.jsx("span",{className:"font-bold tracking-wide",children:n.jsx(Q,{to:"/shop",children:"Shop Now"})})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 lg:gap-8 pt-6 sm:pt-8",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-[#CDE0B7] rounded-full animate-pulse"}),n.jsx("span",{className:"text-white/80 text-xs sm:text-sm font-medium",children:"Certified Organic"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-[#F6CFA7] rounded-full animate-pulse"}),n.jsx("span",{className:"text-white/80 text-xs sm:text-sm font-medium",children:"No Preservatives"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-[#D8E5D0] rounded-full animate-pulse"}),n.jsx("span",{className:"text-white/80 text-xs sm:text-sm font-medium",children:"Gluten Free"})]})]})]}),n.jsx("div",{className:"lg:col-span-5 flex justify-center lg:justify-end",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#CDE0B7]/20 to-[#F6CFA7]/20 blur-3xl transform scale-110"}),n.jsx("div",{className:"relative",children:n.jsx("img",{src:y2,alt:"Devanagari Health Mix Product",className:"rounded-2xl shadow-2xl w-full h-auto transform hover:scale-105 transition-transform duration-500"})})]})})]})}),n.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2 animate-bounce",children:[n.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Scroll to explore"}),n.jsx("div",{className:"w-px h-8 bg-gradient-to-b from-white/60 to-transparent"}),n.jsx("svg",{className:"w-5 h-5 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})})]}),n.jsxs("section",{className:"py-32 bg-gradient-to-br from-white to-gray-50 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-[#CDE0B7]/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-[#F6CFA7]/10 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsx("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-[#4A5C3D]/10 backdrop-blur-sm border border-[#4A5C3D]/20 mb-6",children:n.jsx("span",{className:"text-[#4A5C3D] text-sm font-medium tracking-wide",children:"FROM NATURE TO NUTRITION"})}),n.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-[#4A5C3D] mb-6 leading-tight",children:["A Natural Choice,",n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-[#4A5C3D] to-[#6B8E23] bg-clip-text text-transparent",children:"From Nature to You"})]}),n.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-[#CDE0B7] to-[#F6CFA7] rounded-full mx-auto mb-6"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Experience the journey of our mix  from grains to glass  with care, tradition, and purity in every step."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 lg:gap-16",children:[{image:p2,title:"Heirloom Grains & Millets",description:"We source the finest, high-quality ingredients, chosen for their purity and nutritional power.",badge:"Premium Quality"},{image:g2,title:"Artisanal Blending Process",description:"Our ingredients are carefully blended in small batches to preserve their natural goodness and potency.",badge:"Small Batch"},{image:x2,title:"Finely Milled for Purity",description:"The result is a smooth, delicious, and easy-to-mix powder, ready to nourish your day.",badge:"Perfect Texture"}].map((t,s)=>n.jsx("div",{className:"group relative",children:n.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 group-hover:-translate-y-2 border border-gray-100",children:[n.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#4A5C3D]/10 text-[#4A5C3D] text-xs font-medium mb-6",children:t.badge}),n.jsxs("div",{className:"relative mb-8 overflow-hidden rounded-2xl",children:[n.jsx("img",{src:t.image,alt:t.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-700"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-2xl font-bold text-[#4A5C3D] leading-tight",children:t.title}),n.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:t.description})]}),n.jsx("div",{className:"absolute top-8 right-8 w-2 h-2 bg-[#CDE0B7] rounded-full opacity-60 group-hover:opacity-100 transition-opacity"})]})},s))})]})]}),n.jsx("section",{className:"py-32 bg-gradient-to-br from-[#4A5C3D] to-[#5d7249] relative overflow-hidden",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsx("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 mb-6",children:n.jsx("span",{className:"text-white/90 text-sm font-medium tracking-wide",children:"POWERFUL BENEFITS"})}),n.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:["Pure Ingredients.",n.jsx("br",{}),n.jsx("span",{className:"text-[#CDE0B7]",children:"Powerful Benefits."})]}),n.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-[#CDE0B7] to-[#F6CFA7] rounded-full mx-auto"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,s)=>{const r=t.icon;return n.jsxs("div",{className:"group text-center space-y-6",children:[n.jsx("div",{className:"relative",children:n.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto group-hover:bg-white/20 transition-all duration-300 border border-white/20",children:n.jsx(r,{className:"text-white",size:36})})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-xl font-bold text-white leading-tight",children:t.title}),n.jsx("p",{className:"text-white/80 leading-relaxed",children:t.description})]})]},s)})}),n.jsx("div",{className:"mt-20 text-center",children:n.jsxs("button",{className:"group bg-white text-[#4A5C3D] px-10 py-5 rounded-2xl text-xl font-bold hover:bg-gray-100 transition-all duration-300 flex items-center space-x-3 shadow-2xl hover:shadow-3xl transform hover:scale-105 mx-auto",children:[n.jsx("span",{className:"font-bold tracking-wide",children:n.jsx(Q,{to:"/shop",children:"Experience the Benefits"})}),n.jsx(a0,{size:24,className:"group-hover:translate-x-1 transition-transform"})]})})]})})]})},b2=({id:e,type:t,title:s,message:r,duration:i=5e3,onClose:a})=>{const[o,l]=w.useState(!1),[c,d]=w.useState(!1);w.useEffect(()=>{const f=setTimeout(()=>l(!0),100),p=setTimeout(()=>{u()},i);return()=>{clearTimeout(f),clearTimeout(p)}},[i]);const u=()=>{d(!0),setTimeout(()=>{a(e)},300)},h=()=>{switch(t){case"success":return n.jsx(Ke,{className:"w-5 h-5 text-green-500"});case"error":return n.jsx(Ht,{className:"w-5 h-5 text-red-500"});case"warning":return n.jsx(Ar,{className:"w-5 h-5 text-yellow-500"});case"info":return n.jsx(ad,{className:"w-5 h-5 text-blue-500"});default:return n.jsx(ad,{className:"w-5 h-5 text-blue-500"})}},m=()=>{switch(t){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return n.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-sm w-full bg-white rounded-lg shadow-lg border-l-4 transform transition-all duration-300 ease-in-out ${o&&!c?"translate-x-0 opacity-100":"translate-x-full opacity-0"} ${m()}`,children:n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:h()}),n.jsxs("div",{className:"ml-3 w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium",children:s}),n.jsx("p",{className:"mt-1 text-sm opacity-90",children:r})]}),n.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:n.jsx("button",{className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:u,children:n.jsx(is,{className:"w-4 h-4"})})})]})})})},U0=w.createContext(void 0),j2=({children:e})=>{const[t,s]=w.useState([]),r=w.useCallback(d=>{s(u=>u.filter(h=>h.id!==d))},[]),i=w.useCallback(d=>{const u=Math.random().toString(36).substr(2,9);s(h=>[...h,{...d,id:u}])},[]),a=w.useCallback((d,u,h=5e3)=>{i({type:"success",title:d,message:u,duration:h})},[i]),o=w.useCallback((d,u,h=7e3)=>{i({type:"error",title:d,message:u,duration:h})},[i]),l=w.useCallback((d,u,h=6e3)=>{i({type:"warning",title:d,message:u,duration:h})},[i]),c=w.useCallback((d,u,h=5e3)=>{i({type:"info",title:d,message:u,duration:h})},[i]);return n.jsxs(U0.Provider,{value:{showNotification:i,showSuccess:a,showError:o,showWarning:l,showInfo:c},children:[e,n.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(d=>n.jsx(b2,{...d,onClose:r},d.id))})]})},Zt=()=>{const e=w.useContext(U0);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},V0=async()=>{console.log(" Checking database setup...");const e={connection:!1,productsTable:!1,usersTable:!1,cartItemsTable:!1,sampleProducts:!1};try{const t=D.from("products").select("count"),s=new Promise((h,m)=>setTimeout(()=>m(new Error("Connection timeout")),5e3)),{data:r,error:i}=await Promise.race([t,s]);if(i)return console.error(" Database connection failed:",i),e;e.connection=!0,console.log(" Database connection successful");const{data:a,error:o}=await D.from("products").select("*");o?console.error(" Products table error:",o):(e.productsTable=!0,console.log(" Products table accessible"),console.log(` Found ${(a==null?void 0:a.length)||0} products`),e.sampleProducts=((a==null?void 0:a.length)||0)>0);const{data:l,error:c}=await D.from("users").select("count");c?console.error(" Users table error:",c):(e.usersTable=!0,console.log(" Users table accessible"));const{data:d,error:u}=await D.from("cart_items").select("count");u?console.error(" Cart items table error:",u):(e.cartItemsTable=!0,console.log(" Cart items table accessible"))}catch(t){console.error(" Database check failed:",t)}return console.log(`
 Database Setup Summary:`),console.log(`Connection: ${e.connection?"":""}`),console.log(`Products Table: ${e.productsTable?"":""}`),console.log(`Users Table: ${e.usersTable?"":""}`),console.log(`Cart Items Table: ${e.cartItemsTable?"":""}`),console.log(`Sample Products: ${e.sampleProducts?"":""}`),e.connection?!e.productsTable||!e.usersTable||!e.cartItemsTable?console.log(`
 CRITICAL: Database tables are missing. Please run the SQL schema script in your Supabase dashboard.`):e.sampleProducts?console.log(`
 All database checks passed!`):console.log(`
  WARNING: No sample products found. The app will create them automatically.`):console.log(`
 CRITICAL: Database connection failed. Please check your Supabase configuration.`),e};window.checkDatabaseSetup=V0;const N2=async()=>{const e={isConnected:!1,tablesExist:!1,missingTables:[]},t=["users","products","cart_items","orders","order_items"];try{const{data:s,error:r}=await D.from("products").select("count").limit(1);if(r)return e.error=r.message,e;e.isConnected=!0;for(const i of t)try{const{error:a}=await D.from(i).select("count").limit(1);a&&e.missingTables.push(i)}catch{e.missingTables.push(i)}return e.tablesExist=e.missingTables.length===0,e}catch(s){return e.error=s instanceof Error?s.message:"Unknown error",e}},_2=e=>e.isConnected?e.tablesExist?`
 DATABASE SETUP COMPLETE

All required tables exist and the database is ready to use!
  `:`
 DATABASE TABLES MISSING

The following tables are missing from your Supabase database:
${e.missingTables.map(t=>`- ${t}`).join(`
`)}

TO FIX THIS (5 minutes):

1. Go to your Supabase Dashboard: https://supabase.com/dashboard
2. Select your project (yclgaxigalixrimuixgo)
3. Click "SQL Editor" in the left sidebar
4. Click "New query"
5. Copy the ENTIRE contents of supabase-schema.sql file
6. Paste it into the SQL Editor
7. Click "Run" button (or press Ctrl+Enter)
8. Wait for "Success" message
9. Refresh this page

The supabase-schema.sql file is in your project root directory.
    `:`
 DATABASE CONNECTION FAILED

The app cannot connect to your Supabase database. Please check:

1. Your Supabase project URL and API key in src/lib/supabaseClient.ts
2. Your Supabase project is active and running
3. Your internet connection

Error: ${e.error}
    `,k2=async()=>{console.log(" Verifying database setup...");const e={connection:!1,usersTable:!1,productsTable:!1,cartItemsTable:!1,usersTableStructure:null,error:null};try{console.log("1. Testing database connection...");const{data:t,error:s}=await D.from("users").select("count").limit(1);if(s)return e.error=`Connection failed: ${s.message}`,console.error(" Connection failed:",s),e;e.connection=!0,console.log(" Database connection successful"),console.log("2. Checking users table structure...");const{data:r,error:i}=await D.from("users").select("*").limit(1);if(i)return i.message.includes("relation")||i.message.includes("does not exist")?(e.error="Users table does not exist",console.error(" Users table does not exist")):(e.error=`Users table error: ${i.message}`,console.error(" Users table error:",i)),e;e.usersTable=!0,console.log(" Users table exists"),console.log("3. Checking if full_name column exists...");const{data:a,error:o}=await D.from("users").select("full_name").limit(1);if(o)return e.error=`Full name column missing: ${o.message}`,console.error(" Full name column missing:",o),e;console.log(" Full name column exists"),console.log("4. Checking products table...");const{data:l,error:c}=await D.from("products").select("count").limit(1);if(c)return e.error=`Products table error: ${c.message}`,console.error(" Products table error:",c),e;e.productsTable=!0,console.log(" Products table exists"),console.log("5. Checking cart_items table...");const{data:d,error:u}=await D.from("cart_items").select("count").limit(1);return u?(e.error=`Cart items table error: ${u.message}`,console.error(" Cart items table error:",u),e):(e.cartItemsTable=!0,console.log(" Cart items table exists"),console.log(" All database checks passed!"),e)}catch(t){return e.error=t instanceof Error?t.message:"Unknown error",console.error(" Verification failed:",t),e}};window.verifyDatabaseSetup=k2;const z0="/assets/ingredients-Bck0C0lF.png",S2=()=>{const[e,t]=w.useState(!0),[s,r]=w.useState(null),[i,a]=w.useState(null),[o,l]=w.useState([]),[c,d]=w.useState(null),{addItem:u}=ta(),{user:h}=ut(),{showError:m,showWarning:f,showInfo:p}=Zt();w.useEffect(()=>{(async()=>{try{const y=V0(),x=new Promise((N,S)=>setTimeout(()=>S(new Error("Database check timeout")),1e4));await Promise.race([y,x]);const b=await N2();d(b),await v(),console.log("Shop initialized with database status:",b)}catch(y){console.error("Error initializing shop:",y),d({isConnected:!1,tablesExist:!1,missingTables:[],error:y instanceof Error?y.message:"Unknown error"})}finally{t(!1)}})()},[]);const v=async()=>{try{console.log(" Fetching products from database...");const{data:g,error:y}=await D.from("products").select("*").order("created_at",{ascending:!1});if(y)throw console.error("Error fetching products:",y),y;l(g||[])}catch(g){console.error("Error fetching products:",g),l([])}},_=async(g,y=1)=>{if(!h){confirm("Please sign in to add items to your cart. Would you like to sign in now?")&&(window.location.href="/");return}const x=`product-${g.id}`;r(x);try{console.log(" Shop: Adding to cart:",{product:g,quantity:y,userId:h.id}),await u(g,y),a(x),setTimeout(()=>a(null),3e3)}catch(b){console.error(" Shop: Error adding to cart:",b);const N=b instanceof Error?b.message:"Unknown error";N.includes("Database tables not found")?m("Database Setup Required",`${N}

Please follow the setup instructions to create the required database tables.`):N.includes("User must be logged in")?f("Sign In Required","Please sign in to add items to your cart"):m("Add to Cart Failed",`Failed to add item to cart: ${N}

Please check the console for more details.`)}finally{r(null)}};return e?n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4A5C3D] mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading products..."})]})}):c&&(!c.isConnected||!c.tablesExist)?n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Ar,{className:"text-red-500 mr-3",size:24}),n.jsx("h2",{className:"text-xl font-bold text-red-800",children:"Database Setup Required"})]}),n.jsx("div",{className:"text-red-700 whitespace-pre-line",children:_2(c)}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[n.jsx("a",{href:"https://supabase.com/dashboard/project/yclgaxigalixrimuixgo/sql",target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:" Setup Database Now"}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Refresh Page"}),n.jsx("button",{onClick:()=>{var g;console.log("Verifying database setup..."),(g=window.verifyDatabaseSetup)==null||g.call(window)},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Verify Setup"})]})]})})}):n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-[#4A5C3D] mb-3 sm:mb-4",children:"Devanagari Health Mix"}),n.jsx("p",{className:"text-base sm:text-lg text-gray-700 max-w-3xl mx-auto px-4",children:"A premium blend of 21 natural grains, millets, and pulses, carefully crafted to provide complete nutrition. Rich in protein, fiber, vitamins, and minerals for your daily wellness journey."})]}),n.jsx("div",{className:"bg-gradient-to-r from-[#4A5C3D] to-[#3a4a2f] rounded-xl p-4 mb-8 text-center text-white shadow-lg",children:n.jsx("div",{className:"flex items-center justify-center space-x-2",children:n.jsxs("h3",{className:"text-lg font-bold flex items-center space-x-2",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Free Delivery in Davangere!"})]})})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 mb-8 sm:mb-12",children:o.length>0?o.map((g,y)=>n.jsx(C2,{product:g,onAddToCart:_,isAdding:s===`product-${g.id}`,showSuccess:i===`product-${g.id}`,isBestValue:y===0},g.id)):n.jsxs("div",{className:"col-span-full text-center py-12",children:[n.jsx("div",{className:"text-gray-500 text-lg mb-4",children:"No products available at the moment."}),n.jsx("p",{className:"text-gray-400",children:"Products will appear here once they are added through the admin panel."})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 lg:p-8 shadow-lg",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 text-center",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(Ke,{className:"text-green-500 sm:w-6 sm:h-6",size:20}),n.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"No refunds!"})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(Ke,{className:"text-green-500 sm:w-6 sm:h-6",size:20}),n.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"Questions? Reach out to us"})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-2 sm:col-span-2 lg:col-span-1",children:[n.jsx(Ke,{className:"text-green-500 sm:w-6 sm:h-6",size:20}),n.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"Made from 100% natural ingredients"})]})]})})]})})},C2=({product:e,onAddToCart:t,isAdding:s,showSuccess:r,isBestValue:i=!1})=>{const[a,o]=w.useState(1),l=u=>typeof u=="string"&&/^https?:\/\//i.test(u)?u:z0,c=()=>o(u=>u+1),d=()=>o(u=>Math.max(1,u-1));return n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[n.jsx("div",{className:"aspect-square overflow-hidden",children:n.jsx("img",{src:l(e.image_url),alt:`${e.name} ${e.weight}g`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[#4A5C3D] pr-2",children:e.name}),i&&n.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-semibold px-2 py-1 rounded-full flex-shrink-0",children:"Best Value"})]}),n.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 sm:mb-4 line-clamp-2",children:e.description}),n.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[n.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-[#A88B67]",children:["",e.price.toFixed(2)]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[e.weight,"g pack"]})]}),e.stock>0&&n.jsxs("div",{className:"text-xs sm:text-sm text-green-600 mb-2",children:[e.stock," in stock"]}),n.jsxs("div",{className:"flex items-center justify-center space-x-3 sm:space-x-4 mb-3 sm:mb-4",children:[n.jsx("button",{onClick:d,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full border-2 border-[#4A5C3D] flex items-center justify-center text-[#4A5C3D] hover:bg-[#4A5C3D] hover:text-white transition-colors",children:n.jsx(c0,{size:12,className:"sm:w-3.5 sm:h-3.5"})}),n.jsx("span",{className:"text-base sm:text-lg font-semibold text-[#4A5C3D] w-6 sm:w-8 text-center",children:a}),n.jsx("button",{onClick:c,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full border-2 border-[#4A5C3D] flex items-center justify-center text-[#4A5C3D] hover:bg-[#4A5C3D] hover:text-white transition-colors",children:n.jsx(Ji,{size:12,className:"sm:w-3.5 sm:h-3.5"})})]}),n.jsx("button",{onClick:()=>t(e,a),disabled:s||e.stock===0,className:`w-full py-2.5 sm:py-3 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-1.5 sm:space-x-2 text-sm sm:text-base ${r?"bg-green-500 text-white":s||e.stock===0?"bg-gray-400 text-white cursor-not-allowed":"bg-[#4A5C3D] text-white hover:bg-[#3a4a2f] hover:scale-[1.02]"}`,children:r?n.jsxs(n.Fragment,{children:[n.jsx(Ke,{size:16,className:"sm:w-5 sm:h-5"}),n.jsx("span",{children:"Added to Cart!"})]}):s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white"}),n.jsx("span",{children:"Adding..."})]}):e.stock===0?n.jsx(n.Fragment,{children:n.jsx("span",{children:"Out of Stock"})}):n.jsxs(n.Fragment,{children:[n.jsx(zs,{size:16,className:"sm:w-5 sm:h-5"}),n.jsxs("span",{className:"truncate",children:["Add to Cart - ",(e.price*a).toFixed(2)]})]})})]})]})},Xu=({isOpen:e,onClose:t,onConfirm:s,title:r,message:i,confirmText:a="Confirm",cancelText:o="Cancel",type:l="warning",isLoading:c=!1})=>{if(!e)return null;const d=()=>{switch(l){case"success":return n.jsx(Ke,{className:"w-6 h-6 text-green-500"});case"error":return n.jsx(Ht,{className:"w-6 h-6 text-red-500"});case"warning":return n.jsx(nd,{className:"w-6 h-6 text-yellow-500"});case"info":return n.jsx(ad,{className:"w-6 h-6 text-blue-500"});default:return n.jsx(nd,{className:"w-6 h-6 text-yellow-500"})}},u=()=>{switch(l){case"success":return"bg-green-600 hover:bg-green-700 text-white";case"error":return"bg-red-600 hover:bg-red-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";case"info":return"bg-blue-600 hover:bg-blue-700 text-white";default:return"bg-yellow-600 hover:bg-yellow-700 text-white"}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d(),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:i}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:t,disabled:c,className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o}),n.jsx("button",{onClick:s,disabled:c,className:`flex-1 py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${u()}`,children:c?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):a})]})]})})})},nr="https://sreeshivanifoods.com/api",br={async getConfig(){try{const e=await fetch(`${nr}/razorpay/config`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error(" Failed to get Razorpay config:",e),new Error("Failed to get Razorpay configuration")}},async createOrder(e,t,s){try{const r=Math.round(e*100),i={amount:r,currency:"INR",receipt:`receipt_${Date.now()}`,notes:{user_email:s,items_count:t.length,items:JSON.stringify(t.map(l=>({id:l.id,name:l.name,quantity:l.quantity,price_inr:l.price}))),original_amount_inr:e,created_from:"devanagari_web"}};console.log(" Creating Razorpay order:",{amount_inr:e,amount_paise:r,items_count:t.length});const a=await fetch(`${nr}/razorpay/create-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok){const l=await a.json();throw new Error(l.error||`HTTP error! status: ${a.status}`)}const o=await a.json();return console.log(" Razorpay order created:",o.id),o}catch(r){throw console.error(" Failed to create Razorpay order:",r),new Error(`Failed to create order: ${r instanceof Error?r.message:"Unknown error"}`)}},async openPaymentModal(e,t,s,r,i,a){return new Promise(async(o,l)=>{if(!window.Razorpay){const h=new Error("Razorpay SDK not loaded. Please refresh the page and try again.");console.error(" Razorpay SDK not found"),a==null||a(h),l(h);return}let c;try{c=await this.getConfig()}catch(h){console.error(" Failed to get Razorpay config:",h),a==null||a(h),l(h);return}const d={key:c.key_id,amount:e.amount,currency:e.currency,name:"Devanagari Web",description:"Purchase from Devanagari Web Store",image:"/logo.png",order_id:e.id,handler:h=>{console.log(" Payment successful:",h.razorpay_payment_id),i==null||i(h),o()},prefill:{name:s,email:t,contact:r||""},notes:{address:"Devanagari Web Store",country:"IN"},theme:{color:"#3B82F6"},modal:{ondismiss:()=>{const h=new Error("Payment cancelled by user");console.log(" Payment cancelled"),a==null||a(h),l(h)}},retry:{enabled:!0,max_count:3},timeout:300,remember_customer:!0,method:{netbanking:!0,wallet:!0,upi:!0,emi:!0,card:!0}},u=new window.Razorpay(d);u.on("payment.failed",h=>{const m=new Error(`Payment failed: ${h.error.description}`);console.error(" Payment failed:",h.error),a==null||a(m),l(m)}),u.open()})},async verifyPayment(e){try{console.log(" Verifying payment:",e.razorpay_payment_id);const t=await fetch(`${nr}/razorpay/verify-payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.error||`HTTP error! status: ${t.status}`)}const s=await t.json();return s.isValid?console.log(" Payment verified successfully"):console.log(" Payment verification failed"),s}catch(t){throw console.error(" Failed to verify payment:",t),new Error(`Payment verification failed: ${t instanceof Error?t.message:"Unknown error"}`)}},async getPaymentDetails(e){try{const t=await fetch(`${nr}/razorpay/payment/${e}`);if(!t.ok){const s=await t.json();throw new Error(s.error||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error(" Failed to get payment details:",t),new Error(`Failed to get payment details: ${t instanceof Error?t.message:"Unknown error"}`)}},async getOrderDetails(e){try{const t=await fetch(`${nr}/razorpay/order/${e}`);if(!t.ok){const s=await t.json();throw new Error(s.error||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error(" Failed to get order details:",t),new Error(`Failed to get order details: ${t instanceof Error?t.message:"Unknown error"}`)}},convertUSDtoINR(e){return Math.round(e*83)},formatAmount(e,t="INR"){const s=e/100;return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:2}).format(s)},convertUSDToINRDisplay(e){const s=Math.round(e*83),r=this.formatAmount(s*100);return{inr:s,formatted:r}},async processRefund(e,t,s,r="normal"){try{console.log(" Processing refund:",{paymentId:e,amount:t,reason:s,speed:r});const i={payment_id:e,speed:r,notes:{refund_reason:s||"Customer request",created_at:new Date().toISOString(),processed_from:"devanagari_web"}};t&&(i.amount=Math.round(t*100),console.log(" Refund amount conversion:",{amount_inr:t,amount_paise:i.amount,payment_id:e}));const a=await fetch(`${nr}/razorpay/payment/${e}/refund`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok){let l=`HTTP error! status: ${a.status}`;try{const c=await a.json();l=c.error||l,console.error(" Server error response:",c)}catch(c){console.error(" Failed to parse error response:",c)}throw new Error(l)}const o=await a.json();return console.log(" Refund processed successfully:",o.id),o}catch(i){throw console.error(" Failed to process refund:",i),new Error(`Refund processing failed: ${i instanceof Error?i.message:"Unknown error"}`)}},async getRefundDetails(e){try{const t=await fetch(`${nr}/razorpay/refund/${e}`);if(!t.ok){const s=await t.json();throw new Error(s.error||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error(" Failed to get refund details:",t),new Error(`Failed to get refund details: ${t instanceof Error?t.message:"Unknown error"}`)}}},E2=({isOpen:e,onClose:t})=>{var Rh,Oh,Ih,Lh,Fh;const{items:s,totalPrice:r,clearCart:i}=ta(),{user:a}=ut(),{showSuccess:o,showError:l,showInfo:c}=Zt(),[d,u]=w.useState(1),[h,m]=w.useState(!1),[f,p]=w.useState(""),[v,_]=w.useState(!1),[g,y]=w.useState(0),[x,b]=w.useState([]),[N,S]=w.useState(null),[C,j]=w.useState(!1),[k,A]=w.useState(!1),[P,M]=w.useState(!1),[B,O]=w.useState([]),[J,ee]=w.useState(!1),[K,E]=w.useState(!1),[F,I]=w.useState(null),[V,W]=w.useState(!1),[xe,fe]=w.useState(null),[T,U]=w.useState({name:"",phone:"",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"India",is_default:!1}),re=["577001","577002","577003","577004","577005","577006","577008"],we=r,Ie=N&&re.includes(N.postal_code),rt=Ie?0:99,es=v?g:0,er=we+rt-es,Dh=async()=>{try{const{data:R,error:ae}=await D.from("promo_codes").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(ae)throw ae;const Mt=(R||[]).map(_e=>({code:_e.code,discount:_e.discount_value,type:_e.discount_type,description:_e.description,minOrder:_e.min_order_amount,applicable:we>=_e.min_order_amount}));O(Mt)}catch(R){console.error("Error fetching offers:",R),O([])}},aa=w.useMemo(()=>B.map(R=>({...R,applicable:we>=R.minOrder})),[B,we]);w.useEffect(()=>{e&&a&&(ol(),Dh())},[e,a]),w.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const ol=async()=>{if(a)try{j(!0);const R=await Ts.getUserAddresses(a.id);b(R);const ae=R.find(Mt=>Mt.is_default);ae&&S(ae)}catch(R){console.error("Error fetching addresses:",R),l("Error","Failed to load addresses")}finally{j(!1)}},bv=async()=>{if(!f.trim()){l("Invalid Code","Please enter a promo code");return}try{const ae=await(await fetch("https://sreeshivanifoods.com/api/promo/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:f,orderAmount:we})})).json();ae.valid?(_(!0),y(ae.discountAmount||0),o("Promo Applied",`${ae.description}`)):l("Invalid Code",ae.error||"The promo code you entered is not valid")}catch(R){console.error("Promo code validation error:",R),l("Error","Failed to validate promo code. Please try again.")}},jv=R=>{R.applicable?(p(R.code),M(!1)):l("Not Applicable",`This offer requires a minimum order of ${R.minOrder}. Your current order is ${we.toFixed(2)}`)},Nv=()=>{if(d===1){if(!N){l("Address Required","Please select a shipping address");return}u(2)}},_v=async()=>{var R,ae;if(!N){l("Address Required","Please select a shipping address");return}if(!(a!=null&&a.email)){l("Authentication Required","Please sign in to make a payment");return}A(!0);try{const Mt=await br.createOrder(er,s.map(_e=>{var _t,tr;return{id:_e.id,name:((_t=_e.product)==null?void 0:_t.name)||"Product",quantity:_e.quantity,price:((tr=_e.product)==null?void 0:tr.price)||0}}),a.email);await br.openPaymentModal(Mt,a.email,((R=a.user_metadata)==null?void 0:R.full_name)||a.email,(ae=a.user_metadata)==null?void 0:ae.phone,async _e=>{try{console.log(" Payment successful, verifying payment...");const _t=await br.verifyPayment(_e);if(!_t.isValid)throw new Error("Payment verification failed");console.log(" Payment verified, creating order in database...");const tr=await qt.createOrder(a.id,s,{payment_id:_t.payment_id,payment_order_id:_t.order_id,payment_signature:_e.razorpay_signature,payment_status:"paid",payment_method:"razorpay",currency:"INR"},rt);console.log(" Order created successfully:",tr.id),o("Payment Successful","Your order has been placed successfully!"),i(),t(),window.location.href="/profile"}catch(_t){console.error(" Error processing order:",_t),l("Order Processing Error","Payment was successful but there was an error processing your order. Please contact support.")}},_e=>{l("Payment Failed",_e.message)})}catch(Mt){console.error("Payment error:",Mt),l("Payment Error","Failed to initiate payment. Please try again.")}finally{A(!1)}},kv=async R=>{if(R.preventDefault(),!!a)try{F?(await Ts.updateAddress(F.id,T),o("Address Updated","Address updated successfully!")):(await Ts.createAddress(a.id,T),o("Address Added","Address added successfully!")),await ol(),ll()}catch(ae){console.error("Error saving address:",ae),l("Save Failed","Failed to save address. Please try again.")}},Sv=R=>{I(R),U({name:R.name,phone:R.phone,address_line_1:R.address_line_1,address_line_2:R.address_line_2||"",city:R.city,state:R.state,postal_code:R.postal_code,country:R.country,is_default:R.is_default}),E(!0)},Cv=R=>{fe(R),W(!0)},Ev=async()=>{if(xe)try{await Ts.deleteAddress(xe),await ol(),(N==null?void 0:N.id)===xe&&S(null),o("Address Deleted","Address deleted successfully!")}catch(R){console.error("Error deleting address:",R),l("Delete Failed","Failed to delete address. Please try again.")}finally{W(!1),fe(null)}},ll=()=>{U({name:"",phone:"",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"India",is_default:!1}),I(null),E(!1)};return e?n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("img",{src:"/src/assets/logo.png",alt:"Logo",className:"h-6 w-6 sm:h-8 sm:w-8"}),n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-[#4A5C3D]",children:"Devanagari"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:n.jsx(is,{size:20,className:"sm:w-6 sm:h-6"})})]}),n.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4 sm:space-x-8",children:[n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm ${d>=1?"bg-[#4A5C3D] text-white":"bg-gray-200 text-gray-500"}`,children:d>1?n.jsx(Ka,{size:12,className:"sm:w-4 sm:h-4"}):"1"}),n.jsx("span",{className:`text-xs sm:text-sm font-medium ${d>=1?"text-[#4A5C3D]":"text-gray-500"}`,children:"Address"})]}),n.jsx("div",{className:"w-4 sm:w-8 h-0.5 bg-gray-200"}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm ${d>=2?"bg-[#4A5C3D] text-white":"bg-gray-200 text-gray-500"}`,children:d>2?n.jsx(Ka,{size:12,className:"sm:w-4 sm:h-4"}):"2"}),n.jsx("span",{className:`text-xs sm:text-sm font-medium ${d>=2?"text-[#4A5C3D]":"text-gray-500"}`,children:"Pay"})]})]})}),n.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>m(!h),className:"flex items-center justify-between w-full text-left",children:[n.jsx("span",{className:"font-semibold text-[#4A5C3D] text-sm sm:text-base",children:"Order Summary"}),n.jsx(id,{size:18,className:`transition-transform sm:w-5 sm:h-5 ${h?"rotate-180":""}`})]}),h&&n.jsxs("div",{className:"mt-3 sm:mt-4 space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsx("h4",{className:"font-semibold text-[#4A5C3D] text-xs sm:text-sm",children:"Items in your order:"}),s.map(R=>{var ae,Mt,_e,_t,tr;return n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-gray-50 rounded-lg",children:[n.jsx("img",{src:((ae=R.product)==null?void 0:ae.image_url)||"/src/assets/logo.png",alt:((Mt=R.product)==null?void 0:Mt.name)||"Product",className:"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h5",{className:"font-medium text-xs sm:text-sm text-gray-900 truncate",children:((_e=R.product)==null?void 0:_e.name)||"Product"}),n.jsxs("p",{className:"text-xs text-gray-600",children:[(_t=R.product)==null?void 0:_t.weight,"g pack  ",R.quantity]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-xs sm:text-sm",children:["",((((tr=R.product)==null?void 0:tr.price)||0)*R.quantity).toFixed(2)]})})]},R.id)})]}),n.jsxs("div",{className:"space-y-2 border-t border-gray-200 pt-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"font-semibold",children:["",we.toFixed(2)]})]}),v&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Discount"}),n.jsxs("span",{children:["-",es.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shipping"}),n.jsx("span",{className:"font-semibold",children:Ie?"Free":`${rt}`})]}),n.jsx("div",{className:"border-t border-gray-200 pt-2",children:n.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["",er.toFixed(2)]})]})})]})]})]}),d===1&&n.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-[#4A5C3D] truncate",children:["Hey! Welcome back"," ",((Oh=(Rh=a==null?void 0:a.user_metadata)==null?void 0:Rh.full_name)==null?void 0:Oh.split(" ")[0])||((Lh=(Ih=a==null?void 0:a.user_metadata)==null?void 0:Ih.name)==null?void 0:Lh.split(" ")[0])||((Fh=a==null?void 0:a.email)==null?void 0:Fh.split("@")[0])||"Customer"]})}),n.jsx("button",{className:"text-[#4A5C3D] text-xs sm:text-sm font-medium ml-2 flex-shrink-0",children:"Edit"})]}),n.jsxs("div",{className:"bg-[#E6D9C5] rounded-lg p-3 sm:p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2 sm:mb-3",children:[n.jsx(Hu,{className:"text-[#4A5C3D]",size:16}),n.jsx("span",{className:"font-semibold text-[#4A5C3D] text-xs sm:text-sm",children:"ENTER COUPON CODE"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[n.jsx("input",{type:"text",value:f,onChange:R=>p(R.target.value),placeholder:"Enter coupon code",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",disabled:v}),n.jsx("button",{onClick:bv,disabled:v||!f.trim(),className:"px-3 sm:px-4 py-2 bg-[#4A5C3D] text-white text-sm rounded-lg hover:bg-[#3a4a2f] disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:v?"Applied":"Apply"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-2 space-y-1 sm:space-y-0",children:[n.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:[aa.length," coupons available"]}),n.jsx("button",{onClick:()=>M(!0),className:"text-[#4A5C3D] text-xs sm:text-sm font-medium hover:underline text-left sm:text-right",children:"View Coupons "})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-[#4A5C3D]",children:"Shipping Address"}),n.jsx("button",{onClick:()=>E(!0),className:"text-[#4A5C3D] text-xs sm:text-sm font-medium flex-shrink-0",children:"+ Add address"})]}),C?n.jsxs("div",{className:"text-center py-6 sm:py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-[#4A5C3D] mx-auto mb-3 sm:mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Loading addresses..."})]}):x.length===0?n.jsxs("div",{className:"text-center py-6 sm:py-8 bg-gray-50 rounded-lg",children:[n.jsx(Pr,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),n.jsx("p",{className:"text-gray-600 mb-3 sm:mb-4 text-sm sm:text-base",children:"No addresses found"}),n.jsx("button",{onClick:()=>E(!0),className:"text-[#4A5C3D] text-xs sm:text-sm font-medium",children:"Add your first address"})]}):n.jsx("div",{className:"space-y-2 sm:space-y-3",children:x.map(R=>n.jsx("div",{className:`p-3 sm:p-4 border rounded-lg cursor-pointer transition-colors ${(N==null?void 0:N.id)===R.id?"border-[#4A5C3D] bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>S(R),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full border-2 flex-shrink-0 ${(N==null?void 0:N.id)===R.id?"border-[#4A5C3D] bg-[#4A5C3D]":"border-gray-300"}`,children:(N==null?void 0:N.id)===R.id&&n.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),n.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:R.name})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsx("p",{className:"break-words",children:R.address_line_1}),R.address_line_2&&n.jsx("p",{className:"break-words",children:R.address_line_2}),n.jsxs("p",{children:[R.city,", ",R.state," ",R.postal_code]}),n.jsx("p",{children:R.country}),n.jsx("p",{className:"font-medium",children:R.phone})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-2 ml-2 flex-shrink-0",children:[n.jsx("button",{onClick:ae=>{ae.stopPropagation(),Sv(R)},className:"text-[#4A5C3D] text-xs sm:text-sm font-medium hover:underline",children:"Edit"}),n.jsx("button",{onClick:ae=>{ae.stopPropagation(),Cv(R.id)},className:"text-red-500 text-xs sm:text-sm font-medium hover:underline",children:"Delete"})]})]})},R.id))})]}),n.jsxs("button",{onClick:Nv,disabled:!N,className:"w-full bg-[#4A5C3D] text-white py-3 sm:py-4 rounded-lg font-semibold hover:bg-[#3a4a2f] disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 text-sm sm:text-base",children:[n.jsx("span",{children:"Continue"}),n.jsx(a0,{size:16,className:"sm:w-5 sm:h-5"})]})]}),d===2&&n.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#4A5C3D] mb-2",children:"Payment Details"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Complete your order with secure payment"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[n.jsx("h4",{className:"font-semibold text-[#4A5C3D] mb-2 sm:mb-3 text-sm sm:text-base",children:"Order Summary"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[n.jsxs("span",{className:"text-gray-600",children:["Items (",s.length,")"]}),n.jsxs("span",{className:"font-semibold",children:["",we.toFixed(2)]})]}),v&&n.jsxs("div",{className:"flex justify-between text-green-600 text-sm sm:text-base",children:[n.jsx("span",{children:"Discount"}),n.jsxs("span",{children:["-",es.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[n.jsx("span",{className:"text-gray-600",children:"Shipping"}),n.jsx("span",{className:"font-semibold",children:Ie?"Free":`${rt}`})]}),n.jsx("div",{className:"border-t border-gray-200 pt-2",children:n.jsxs("div",{className:"flex justify-between font-bold text-base sm:text-lg",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["",er.toFixed(2)]})]})})]})]}),N&&n.jsxs("div",{className:"bg-green-50 rounded-lg p-3 sm:p-4",children:[n.jsx("h4",{className:"font-semibold text-[#4A5C3D] mb-2 text-sm sm:text-base",children:"Delivery Address"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsx("p",{className:"font-medium",children:N.name}),n.jsx("p",{className:"break-words",children:N.address_line_1}),N.address_line_2&&n.jsx("p",{className:"break-words",children:N.address_line_2}),n.jsxs("p",{children:[N.city,", ",N.state," ",N.postal_code]}),n.jsx("p",{children:N.country}),n.jsx("p",{className:"font-medium",children:N.phone})]})]}),n.jsx("button",{onClick:_v,disabled:k,className:"w-full bg-[#4A5C3D] text-white py-3 sm:py-4 rounded-lg font-semibold hover:bg-[#3a4a2f] disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 text-sm sm:text-base",children:k?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-b-2 border-white"}),n.jsx("span",{children:"Processing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(zu,{size:16,className:"sm:w-5 sm:h-5"}),n.jsxs("span",{children:["Pay ",er.toFixed(2)]})]})}),n.jsx("button",{onClick:()=>u(1),className:"w-full text-[#4A5C3D] py-2 font-medium hover:bg-gray-50 rounded-lg transition-colors text-sm sm:text-base",children:" Back to Address"})]}),n.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between text-xs text-gray-500 space-y-2 sm:space-y-0",children:[n.jsx("div",{className:"flex space-x-4",children:n.jsx("button",{onClick:()=>ee(!0),className:"hover:text-[#4A5C3D] transition-colors",children:"Terms and Policies"})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-1 sm:space-y-0 sm:space-x-4 text-center sm:text-left",children:[n.jsx("span",{children:"PCI DSS Certified"}),n.jsx("span",{children:"100% Secured Payments"}),n.jsx("span",{children:"Verified Merchant"})]})]})})]}),P&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-60",children:n.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[85vh] sm:max-h-[80vh] overflow-y-auto",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[#4A5C3D]",children:"Available Offers"}),n.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:n.jsx(is,{size:20,className:"sm:w-6 sm:h-6"})})]}),n.jsx("div",{className:"space-y-3 sm:space-y-4",children:aa.map((R,ae)=>n.jsxs("div",{onClick:()=>jv(R),className:`border rounded-lg p-3 sm:p-4 transition-colors cursor-pointer ${R.applicable?"border-gray-200 hover:border-[#4A5C3D] hover:bg-green-50":"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:`font-semibold text-sm sm:text-base ${R.applicable?"text-[#4A5C3D]":"text-gray-500"}`,children:R.code}),n.jsx("div",{className:"flex items-center space-x-2",children:R.applicable?n.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:R.type==="shipping"?"FREE SHIPPING":`${R.discount}% OFF`}):n.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",children:"NOT APPLICABLE"})})]}),n.jsx("p",{className:`text-xs sm:text-sm mb-2 ${R.applicable?"text-gray-600":"text-gray-500"}`,children:R.description}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-1 sm:space-y-0",children:[n.jsx("p",{className:`text-xs ${R.applicable?"text-gray-500":"text-red-500"}`,children:R.applicable?R.minOrder>0?`Minimum order: ${R.minOrder}`:"No minimum order required":`Requires minimum order of ${R.minOrder}`}),R.applicable&&n.jsx("span",{className:"text-xs text-[#4A5C3D] font-medium",children:"Click to apply "})]})]},ae))}),n.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200",children:n.jsx("button",{onClick:()=>M(!1),className:"w-full bg-[#4A5C3D] text-white py-2 sm:py-3 rounded-lg font-semibold hover:bg-[#3a4a2f] transition-colors text-sm sm:text-base",children:"Close"})})]})})}),J&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-60",children:n.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[85vh] sm:max-h-[80vh] overflow-y-auto",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[#4A5C3D]",children:"Policies & Terms"}),n.jsx("button",{onClick:()=>ee(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:n.jsx(is,{size:20,className:"sm:w-6 sm:h-6"})})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsx("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 hover:border-[#4A5C3D] transition-colors",children:n.jsxs("a",{href:"https://merchant.razorpay.com/policy/RHjsekRLxMzas4/terms",target:"_blank",rel:"noopener noreferrer",className:"block",children:[n.jsx("h4",{className:"font-semibold text-[#4A5C3D] mb-2 text-sm sm:text-base",children:"Terms and Conditions"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:"Read our terms of service and user agreement"}),n.jsx("span",{className:"text-xs text-[#4A5C3D] font-medium",children:"View Terms "})]})}),n.jsx("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 hover:border-[#4A5C3D] transition-colors",children:n.jsxs("a",{href:"https://merchant.razorpay.com/policy/RHjsekRLxMzas4/refund",target:"_blank",rel:"noopener noreferrer",className:"block",children:[n.jsx("h4",{className:"font-semibold text-[#4A5C3D] mb-2 text-sm sm:text-base",children:"Cancellation and Refund Policy"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:"Learn about our refund and cancellation policies"}),n.jsx("span",{className:"text-xs text-[#4A5C3D] font-medium",children:"View Policy "})]})}),n.jsx("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 hover:border-[#4A5C3D] transition-colors",children:n.jsxs("a",{href:"https://merchant.razorpay.com/policy/RHjsekRLxMzas4/shipping",target:"_blank",rel:"noopener noreferrer",className:"block",children:[n.jsx("h4",{className:"font-semibold text-[#4A5C3D] mb-2 text-sm sm:text-base",children:"Shipping and Delivery Policy"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:"Information about shipping, delivery times, and charges"}),n.jsx("span",{className:"text-xs text-[#4A5C3D] font-medium",children:"View Policy "})]})})]}),n.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200",children:n.jsx("button",{onClick:()=>ee(!1),className:"w-full bg-[#4A5C3D] text-white py-2 sm:py-3 rounded-lg font-semibold hover:bg-[#3a4a2f] transition-colors text-sm sm:text-base",children:"Close"})})]})})}),K&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-60",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-[#4A5C3D]",children:F?"Edit Address":"Add New Address"}),n.jsx("button",{onClick:ll,className:"text-gray-400 hover:text-gray-600 p-1",children:n.jsx(is,{size:20,className:"sm:w-6 sm:h-6"})})]}),n.jsxs("form",{onSubmit:kv,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),n.jsx("input",{type:"text",required:!0,value:T.name,onChange:R=>U({...T,name:R.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),n.jsx("input",{type:"tel",required:!0,value:T.phone,onChange:R=>U({...T,phone:R.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),n.jsx("input",{type:"text",required:!0,value:T.address_line_1,onChange:R=>U({...T,address_line_1:R.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Street address, P.O. box, etc."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),n.jsx("input",{type:"text",value:T.address_line_2,onChange:R=>U({...T,address_line_2:R.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Apartment, suite, unit, building, floor, etc."})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",required:!0,value:T.city,onChange:R=>U({...T,city:R.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"State *"}),n.jsx("input",{type:"text",required:!0,value:T.state,onChange:R=>U({...T,state:R.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),n.jsx("input",{type:"text",required:!0,value:T.postal_code,onChange:R=>U({...T,postal_code:R.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Country *"}),n.jsxs("select",{required:!0,value:T.country,onChange:R=>U({...T,country:R.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",children:[n.jsx("option",{value:"India",children:"India"}),n.jsx("option",{value:"United States",children:"United States"}),n.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),n.jsx("option",{value:"Canada",children:"Canada"}),n.jsx("option",{value:"Australia",children:"Australia"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"is_default",checked:T.is_default,onChange:R=>U({...T,is_default:R.target.checked}),className:"h-4 w-4 text-[#4A5C3D] focus:ring-[#4A5C3D] border-gray-300 rounded"}),n.jsx("label",{htmlFor:"is_default",className:"ml-2 text-xs sm:text-sm text-gray-700",children:"Set as default address"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-3 sm:pt-4",children:[n.jsx("button",{type:"button",onClick:ll,className:"flex-1 px-3 sm:px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"flex-1 px-3 sm:px-4 py-2 bg-[#4A5C3D] text-white text-sm rounded-lg hover:bg-[#3a4a2f] transition-colors flex items-center justify-center gap-x-2",children:[n.jsx(Ka,{className:"h-3 w-3 sm:h-4 sm:w-4"}),F?"Update Address":"Add Address"]})]})]})]})})}),V&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-70",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-red-600",children:"Delete Address"}),n.jsx("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600 p-1",children:n.jsx(is,{size:20,className:"sm:w-6 sm:h-6"})})]}),n.jsx("p",{className:"text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base",children:"Are you sure you want to delete this address? This action cannot be undone."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("button",{onClick:()=>W(!1),className:"flex-1 px-3 sm:px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Ev,className:"flex-1 px-3 sm:px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})})]}):null},A2=()=>{const{items:e,updateQty:t,removeItem:s,totalItems:r,totalPrice:i,clearCart:a,loading:o}=ta(),{user:l}=ut(),{showSuccess:c,showError:d,showWarning:u,showInfo:h}=Zt(),[m,f]=w.useState(!1),[p,v]=w.useState(!1),[_,g]=w.useState(!1),[y,x]=w.useState([]),[b,N]=w.useState(null),[S,C]=w.useState(!1),[j,k]=w.useState(!1),A=(O,J)=>O*J,P=O=>{N(O)},M=()=>{C(!1),window.location.href="/settings?tab=addresses"},B=async()=>{k(!0)};return o?n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4A5C3D] mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading cart..."})]})}):l?e.length===0?n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(od,{size:64,className:"mx-auto text-gray-400 mb-6"}),n.jsx("h1",{className:"text-3xl font-bold text-[#4A5C3D] mb-4",children:"Your Cart is Empty"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Looks like you haven't added any items to your cart yet."}),n.jsxs(Q,{to:"/shop",className:"inline-flex items-center px-6 py-3 bg-[#4A5C3D] text-white rounded-lg font-semibold hover:bg-[#3a4a2f] transition-colors duration-200",children:[n.jsx(Us,{size:20,className:"mr-2"}),"Continue Shopping"]})]})})}):n.jsxs("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:[n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 sm:mb-8 gap-4",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-[#4A5C3D]",children:"Shopping Cart"}),n.jsxs(Q,{to:"/shop",className:"inline-flex items-center text-[#4A5C3D] hover:text-[#3a4a2f] transition-colors text-sm sm:text-base",children:[n.jsx(Us,{size:18,className:"mr-2"}),"Continue Shopping"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[n.jsx("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:e.map(O=>{var J,ee,K,E,F,I,V,W,xe;return console.log("Cart item:",O),n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-100",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 lg:space-x-6",children:[n.jsx("div",{className:"flex-shrink-0 mx-auto sm:mx-0",children:n.jsx("img",{src:typeof((J=O.product)==null?void 0:J.image_url)=="string"&&/^https?:\/\//i.test(O.product.image_url)?O.product.image_url:z0,alt:((ee=O.product)==null?void 0:ee.name)||"Product",className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg"})}),n.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#4A5C3D] mb-2",children:((K=O.product)==null?void 0:K.name)||"Product"}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"bg-[#E6D9C5] px-2 sm:px-3 py-1 rounded-full font-medium text-xs sm:text-sm text-center inline-block",children:[(E=O.product)==null?void 0:E.weight,"g pack"]}),n.jsxs("span",{className:"text-base sm:text-lg font-bold text-[#A88B67]",children:["",((I=(F=O.product)==null?void 0:F.price)==null?void 0:I.toFixed(2))||"0.00"," each"]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("button",{onClick:async()=>{console.log(" MINUS BUTTON CLICKED!"),console.log("Item details:",{id:O.id,quantity:O.quantity,product_id:O.product_id});const fe=O.quantity-1;console.log("Decreasing quantity for item:",O.id,"from",O.quantity,"to",fe);try{console.log(" Updating quantity for item:",{cartItemId:O.id,productId:O.product_id,currentQuantity:O.quantity,newQuantity:fe}),await t(O.id,fe),console.log(" Quantity updated successfully")}catch(T){console.error(" Error updating quantity:",T),d("Update Failed",`Failed to update quantity: ${T instanceof Error?T.message:"Unknown error"}`)}},className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-[#4A5C3D] flex items-center justify-center text-[#4A5C3D] hover:bg-[#4A5C3D] hover:text-white transition-colors",children:n.jsx(c0,{size:14,className:"sm:w-4 sm:h-4"})}),n.jsx("span",{className:"text-lg sm:text-xl font-semibold text-[#4A5C3D] w-6 sm:w-8 text-center",children:O.quantity}),n.jsx("button",{onClick:async()=>{console.log(" PLUS BUTTON CLICKED!"),console.log("Item details:",{id:O.id,quantity:O.quantity,product_id:O.product_id}),console.log("Increasing quantity for item:",O.id,"from",O.quantity,"to",O.quantity+1);try{console.log(" Updating quantity for item:",{cartItemId:O.id,productId:O.product_id,currentQuantity:O.quantity,newQuantity:O.quantity+1}),await t(O.id,O.quantity+1),console.log(" Quantity updated successfully")}catch(fe){console.error(" Error updating quantity:",fe),d("Update Failed",`Failed to update quantity: ${fe instanceof Error?fe.message:"Unknown error"}`)}},className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-[#4A5C3D] flex items-center justify-center text-[#4A5C3D] hover:bg-[#4A5C3D] hover:text-white transition-colors",children:n.jsx(Ji,{size:14,className:"sm:w-4 sm:h-4"})})]}),n.jsxs("div",{className:"text-center sm:text-right min-w-[80px] sm:min-w-[100px]",children:[n.jsxs("div",{className:"text-base sm:text-lg font-bold text-[#4A5C3D]",children:["",A(((V=O.product)==null?void 0:V.price)||0,O.quantity).toFixed(2)]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:["",((xe=(W=O.product)==null?void 0:W.price)==null?void 0:xe.toFixed(2))||"0.00"," "," ",O.quantity]})]}),n.jsx("button",{onClick:async()=>{try{await s(O.id)}catch{d("Remove Failed","Failed to remove item. Please try again.")}},className:"p-1.5 sm:p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Remove item",children:n.jsx(Xo,{size:16,className:"sm:w-5 sm:h-5"})})]})]})},`${O.id}-${O.product_id}`)})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-100 sticky top-24",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#4A5C3D] mb-4 sm:mb-6",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"flex justify-between text-base sm:text-lg",children:[n.jsxs("span",{className:"text-gray-700",children:["Items (",r,")"]}),n.jsxs("span",{className:"font-semibold text-[#4A5C3D]",children:["",i.toFixed(2)]})]}),n.jsx("div",{className:"border-t border-gray-200 pt-3 sm:pt-4",children:n.jsxs("div",{className:"flex justify-between text-lg sm:text-xl font-bold",children:[n.jsx("span",{className:"text-[#4A5C3D]",children:"Total"}),n.jsxs("span",{className:"text-[#A88B67]",children:["",i.toFixed(2)]})]})})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-gray-600 mb-4 sm:mb-6",children:[n.jsx("p",{children:" 30-day money-back guarantee"}),n.jsx("p",{children:" Secure checkout"})]}),n.jsx("div",{className:"space-y-4",children:n.jsx("button",{onClick:B,disabled:m||p,className:"w-full bg-[#4A5C3D] text-white py-3 sm:py-4 px-4 sm:px-6 rounded-lg hover:bg-[#3a4a2f] disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 text-base sm:text-lg shadow-lg hover:shadow-xl",children:m?n.jsx("span",{children:"Processing Order..."}):p?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Checking Address..."})]}):n.jsxs("span",{children:["Go to Checkout - ",i.toFixed(2)]})})}),n.jsx("div",{className:"mt-6",children:n.jsx(Q,{to:"/shop",className:"block w-full text-center py-3 border-2 border-[#4A5C3D] text-[#4A5C3D] rounded-lg font-semibold hover:bg-[#4A5C3D] hover:text-white transition-colors duration-200",children:"Continue Shopping"})})]})})]})]}),_&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-[#4A5C3D]",children:"Select Delivery Address"}),n.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsx("div",{className:"space-y-4 mb-6",children:y.map(O=>n.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(b==null?void 0:b.id)===O.id?"border-[#4A5C3D] bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>P(O),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:O.name}),O.is_default&&n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Default"})]}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("p",{children:O.address_line_1}),O.address_line_2&&n.jsx("p",{children:O.address_line_2}),n.jsxs("p",{children:[O.city,", ",O.state," ",O.postal_code]}),n.jsx("p",{children:O.country}),n.jsx("p",{className:"font-medium",children:O.phone})]})]}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${(b==null?void 0:b.id)===O.id?"border-[#4A5C3D] bg-[#4A5C3D]":"border-gray-300"}`,children:(b==null?void 0:b.id)===O.id&&n.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})})})]})},O.id))}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(Q,{to:"/checkout",className:"flex-1 bg-[#4A5C3D] text-white py-2 rounded-lg hover:bg-[#3a4a2f] disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-center",children:"Go to Checkout"}),n.jsx("button",{onClick:()=>g(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsx(Q,{to:"/settings?tab=addresses",className:"text-[#4A5C3D] hover:text-[#3a4a2f] text-sm",children:"Manage Addresses"})})]})})}),n.jsx(Xu,{isOpen:S,onClose:()=>C(!1),onConfirm:M,title:"No Delivery Address Found",message:"You need to add a delivery address before placing an order. Would you like to add an address now?",confirmText:"Add Address",cancelText:"Cancel",type:"warning"}),n.jsx(E2,{isOpen:j,onClose:()=>k(!1)})]}):n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(od,{size:64,className:"mx-auto text-gray-400 mb-6"}),n.jsx("h1",{className:"text-3xl font-bold text-[#4A5C3D] mb-4",children:"Sign In to View Your Cart"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Please sign in to view your cart and manage your items."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx("button",{onClick:()=>{window.location.href="/"},className:"inline-flex items-center px-6 py-3 bg-[#4A5C3D] text-white rounded-lg font-semibold hover:bg-[#3a4a2f] transition-colors duration-200",children:"Sign In with Google"}),n.jsxs(Q,{to:"/shop",className:"inline-flex items-center px-6 py-3 border-2 border-[#4A5C3D] text-[#4A5C3D] rounded-lg font-semibold hover:bg-[#4A5C3D] hover:text-white transition-colors duration-200",children:[n.jsx(Us,{size:20,className:"mr-2"}),"Continue Shopping"]})]})]})})})},B0=()=>{const{user:e}=ut(),{showSuccess:t,showError:s}=Zt(),[r,i]=w.useState([]),[a,o]=w.useState(!0),[l,c]=w.useState(!1),[d,u]=w.useState(null),[h,m]=w.useState(!1),[f,p]=w.useState(null),[v,_]=w.useState({name:"",phone:"",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"India",is_default:!1});w.useEffect(()=>{e&&g()},[e]);const g=async()=>{if(e)try{o(!0),console.log(" Fetching user addresses..."),console.log("User ID:",e.id);const{data:j,error:k}=await D.from("user_addresses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(k)throw console.error(" Error fetching addresses:",k),k;console.log(" Addresses fetched successfully:",j),i(j||[])}catch(j){console.error(" Error fetching addresses:",j),i([])}finally{console.log(" Addresses fetch completed - setting loading to false"),o(!1)}},y=async j=>{if(j.preventDefault(),!!e)try{console.log(" Saving address to database..."),console.log(" Address data being saved:",v),d?(console.log(" Updating existing address:",d.id),await Ts.updateAddress(d.id,v),console.log(" Address updated successfully!")):(console.log(" Creating new address for user:",e.id),await Ts.createAddress(e.id,v),console.log(" Address created successfully!")),await g(),C(),t("Address Saved","Address saved successfully!")}catch(k){console.error(" Error saving address:",k),s("Save Failed","Failed to save address. Please try again.")}},x=j=>{u(j),_({name:j.name,phone:j.phone,address_line_1:j.address_line_1,address_line_2:j.address_line_2||"",city:j.city,state:j.state,postal_code:j.postal_code,country:j.country,is_default:j.is_default}),c(!0)},b=j=>{p(j),m(!0)},N=async()=>{if(f)try{await Ts.deleteAddress(f),await g(),t("Address Deleted","Address deleted successfully!")}catch(j){console.error("Error deleting address:",j),s("Delete Failed","Failed to delete address. Please try again.")}finally{m(!1),p(null)}},S=async j=>{if(e)try{await Ts.setDefaultAddress(j,e.id),await g(),t("Default Address Updated","Default address updated successfully!")}catch(k){console.error("Error setting default address:",k),s("Update Failed","Failed to set default address. Please try again.")}},C=()=>{_({name:"",phone:"",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"India",is_default:!1}),u(null),c(!1)};return a?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4A5C3D] mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading addresses..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold text-[#4A5C3D]",children:"Address Management"}),n.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-x-2 bg-[#4A5C3D] text-white px-4 py-2 rounded-lg hover:bg-[#3a4a2f] transition-colors",children:[n.jsx(Ji,{className:"h-4 w-4"}),"Add Address"]})]}),r.length===0?n.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[n.jsx(Pr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"No addresses saved yet"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add your first address to get started with faster checkout"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(j=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-[#4A5C3D] transition-colors",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-x-2",children:[n.jsx(Pr,{className:"h-5 w-5 text-[#4A5C3D]"}),n.jsx("h3",{className:"font-semibold text-[#4A5C3D]",children:j.name}),j.is_default&&n.jsxs("span",{className:"inline-flex items-center gap-x-1 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(H1,{className:"h-3 w-3"}),"Default"]})]}),n.jsxs("div",{className:"flex items-center gap-x-2",children:[n.jsx("button",{onClick:()=>x(j),className:"p-1 text-gray-400 hover:text-[#4A5C3D] transition-colors",title:"Edit address",children:n.jsx(Jo,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>b(j.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete address",children:n.jsx(Xo,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600 mb-4",children:[n.jsx("p",{children:j.address_line_1}),j.address_line_2&&n.jsx("p",{children:j.address_line_2}),n.jsxs("p",{children:[j.city,", ",j.state," ",j.postal_code]}),n.jsx("p",{children:j.country}),n.jsx("p",{className:"font-medium",children:j.phone})]}),!j.is_default&&n.jsx("button",{onClick:()=>S(j.id),className:"w-full text-sm text-[#4A5C3D] font-medium py-2 border border-[#4A5C3D] rounded-lg hover:bg-[#4A5C3D] hover:text-white transition-colors",children:"Set as Default"})]},j.id))}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#4A5C3D]",children:d?"Edit Address":"Add New Address"}),n.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),n.jsx("input",{type:"text",required:!0,value:v.name,onChange:j=>_({...v,name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),n.jsx("input",{type:"tel",required:!0,value:v.phone,onChange:j=>_({...v,phone:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),n.jsx("input",{type:"text",required:!0,value:v.address_line_1,onChange:j=>_({...v,address_line_1:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Street address, P.O. box, etc."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),n.jsx("input",{type:"text",value:v.address_line_2,onChange:j=>_({...v,address_line_2:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Apartment, suite, unit, building, floor, etc."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",required:!0,value:v.city,onChange:j=>_({...v,city:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),n.jsx("input",{type:"text",required:!0,value:v.state,onChange:j=>_({...v,state:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),n.jsx("input",{type:"text",required:!0,value:v.postal_code,onChange:j=>_({...v,postal_code:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),n.jsxs("select",{required:!0,value:v.country,onChange:j=>_({...v,country:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",children:[n.jsx("option",{value:"India",children:"India"}),n.jsx("option",{value:"United States",children:"United States"}),n.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),n.jsx("option",{value:"Canada",children:"Canada"}),n.jsx("option",{value:"Australia",children:"Australia"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"is_default",checked:v.is_default,onChange:j=>_({...v,is_default:j.target.checked}),className:"h-4 w-4 text-[#4A5C3D] focus:ring-[#4A5C3D] border-gray-300 rounded"}),n.jsx("label",{htmlFor:"is_default",className:"ml-2 text-sm text-gray-700",children:"Set as default address"})]}),n.jsxs("div",{className:"flex gap-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:C,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#4A5C3D] text-white rounded-lg hover:bg-[#3a4a2f] transition-colors flex items-center justify-center gap-x-2",children:[n.jsx(Ka,{className:"h-4 w-4"}),d?"Update Address":"Add Address"]})]})]})]})})}),n.jsx(Xu,{isOpen:h,onClose:()=>m(!1),onConfirm:N,title:"Delete Address",message:"Are you sure you want to delete this address? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"warning"})]})},Zu=({className:e="",text:t="Go Back"})=>{const s=Qs(),r=()=>{window.history.length>1?s(-1):s("/")};return n.jsxs("button",{onClick:r,className:`inline-flex items-center text-[#4A5C3D] hover:text-[#3a4a2f] transition-colors ${e}`,children:[n.jsx(Us,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:t})]})},P2=()=>{const{items:e,clearCart:t}=ta(),{user:s}=ut(),{showSuccess:r,showError:i}=Zt(),a=Qs(),[o,l]=w.useState(""),[c,d]=w.useState(!1),[u,h]=w.useState(0),[m,f]=w.useState(null),[p,v]=w.useState(!1),_=["577001","577002","577003","577004","577005","577006","577008"],g=99,y=(e==null?void 0:e.reduce((k,A)=>k+A.price*A.quantity,0))||0,x=m&&_.includes(m.pincode),b=x?0:g,N=c?Math.round(y*.1):0,S=y+b-N;w.useEffect(()=>{e&&e.length===0&&a("/cart")},[e,a]);const C=async()=>{if(!o.trim()){i("Invalid Code","Please enter a promo code");return}try{const A=await(await fetch("https://sreeshivanifoods.com/api/promo/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:o,orderAmount:y})})).json();A.valid?(d(!0),h(Math.round(y*(A.discount/100))),r("Promo Applied",`${A.description}`)):i("Invalid Code",A.error||"The promo code you entered is not valid")}catch(k){console.error("Promo code validation error:",k),i("Error","Failed to validate promo code. Please try again.")}},j=async()=>{var k,A;if(!m){i("Address Required","Please select a shipping address");return}if(!(s!=null&&s.email)){i("Authentication Required","Please sign in to make a payment");return}v(!0);try{const P=await br.createOrder(S,e,s.email);await br.openPaymentModal(P,s.email,((k=s.user_metadata)==null?void 0:k.full_name)||s.email,(A=s.user_metadata)==null?void 0:A.phone,async M=>{try{console.log(" Payment successful, verifying payment...");const B=await br.verifyPayment(M);if(!B.isValid)throw new Error("Payment verification failed");console.log(" Payment verified, creating order in database...");const O=await qt.createOrder(s.id,e,{payment_id:B.payment_id,payment_order_id:B.order_id,payment_signature:M.razorpay_signature,payment_status:"paid",payment_method:"razorpay",currency:"INR"},b);console.log(" Order created successfully:",O.id),r("Payment Successful","Your order has been placed successfully!"),t(),a("/profile")}catch(B){console.error(" Error processing order:",B),i("Order Processing Error","Payment was successful but there was an error processing your order. Please contact support.")}},M=>{i("Payment Failed",M.message)})}catch(P){console.error("Payment error:",P),i("Payment Error","Failed to initiate payment. Please try again.")}finally{v(!1)}};return e?e.length===0?null:n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:n.jsxs("div",{className:"px-4 py-8 mx-auto max-w-6xl sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx(Zu,{}),n.jsx("h1",{className:"text-3xl font-bold text-[#4A5C3D] mt-4",children:"Checkout"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-[#4A5C3D] mb-4 flex items-center",children:[n.jsx(Pr,{className:"mr-2",size:20}),"Shipping Address"]}),n.jsx(B0,{onAddressSelect:f,selectedAddress:m})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-[#4A5C3D] mb-4 flex items-center",children:[n.jsx(Hu,{className:"mr-2",size:20}),"Promo Code"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value),placeholder:"Enter promo code",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",disabled:c}),n.jsx("button",{onClick:C,disabled:c||!o.trim(),className:"px-6 py-2 bg-[#4A5C3D] text-white rounded-lg hover:bg-[#3a4a2f] disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:c?"Applied":"Apply"})]}),c&&n.jsx("p",{className:"text-green-600 text-sm mt-2",children:" 10% discount applied!"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-[#4A5C3D] mb-4",children:"Order Items"}),n.jsx("div",{className:"space-y-4",children:e==null?void 0:e.map(k=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:k.image,alt:k.name,className:"w-12 h-12 object-cover rounded-lg"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:k.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",k.quantity]})]})]}),n.jsxs("p",{className:"font-semibold text-[#4A5C3D]",children:["",(k.price*k.quantity).toFixed(2)]})]},k.id))})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-4",children:[n.jsx("h2",{className:"text-xl font-bold text-[#4A5C3D] mb-6",children:"Order Summary"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"font-semibold",children:["",y.toFixed(2)]})]}),c&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Discount (10%)"}),n.jsxs("span",{children:["-",N.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600 flex items-center",children:[n.jsx(hn,{className:"mr-1",size:16}),"Shipping",x&&n.jsx("span",{className:"ml-2 text-green-600 text-sm",children:"(Free for Davangere)"})]}),n.jsx("span",{className:"font-semibold",children:x?"Free":`${b}`})]}),n.jsx("div",{className:"border-t border-gray-200 pt-4",children:n.jsxs("div",{className:"flex justify-between text-lg font-bold text-[#4A5C3D]",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["",S.toFixed(2)]})]})})]}),n.jsxs("button",{onClick:j,disabled:!m||p,className:"w-full mt-6 bg-[#4A5C3D] text-white py-4 rounded-lg font-semibold hover:bg-[#3a4a2f] disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[n.jsx(zu,{size:20}),n.jsx("span",{children:p?"Processing...":`Pay ${S.toFixed(2)}`})]}),!m&&n.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:"Please select a shipping address to continue"})]})})]})]})}):n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4A5C3D]"})})},q0=w.createContext({});function T2(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const eh=typeof window<"u",D2=eh?w.useLayoutEffect:w.useEffect,th=w.createContext(null);function sh(e,t){e.indexOf(t)===-1&&e.push(t)}function rh(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ps=(e,t,s)=>s>t?t:s<e?e:s;let So=()=>{};const gs={},W0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function H0(e){return typeof e=="object"&&e!==null}const K0=e=>/^0[^.\s]+$/u.test(e);function nh(e){let t;return()=>(t===void 0&&(t=e()),t)}const vt=e=>e,R2=(e,t)=>s=>t(e(s)),sa=(...e)=>e.reduce(R2),Mi=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class ih{constructor(){this.subscriptions=[]}add(t){return sh(this.subscriptions,t),()=>rh(this.subscriptions,t)}notify(t,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yt=e=>e*1e3,Qt=e=>e/1e3;function G0(e,t){return t?e*(1e3/t):0}const Y0=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,O2=1e-7,I2=12;function L2(e,t,s,r,i){let a,o,l=0;do o=t+(s-t)/2,a=Y0(o,r,i)-e,a>0?s=o:t=o;while(Math.abs(a)>O2&&++l<I2);return o}function ra(e,t,s,r){if(e===t&&s===r)return vt;const i=a=>L2(a,0,1,e,s);return a=>a===0||a===1?a:Y0(i(a),t,r)}const Q0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,J0=e=>t=>1-e(1-t),X0=ra(.33,1.53,.69,.99),ah=J0(X0),Z0=Q0(ah),ey=e=>(e*=2)<1?.5*ah(e):.5*(2-Math.pow(2,-10*(e-1))),oh=e=>1-Math.sin(Math.acos(e)),ty=J0(oh),sy=Q0(oh),F2=ra(.42,0,1,1),M2=ra(0,0,.58,1),ry=ra(.42,0,.58,1),$2=e=>Array.isArray(e)&&typeof e[0]!="number",ny=e=>Array.isArray(e)&&typeof e[0]=="number",vf={linear:vt,easeIn:F2,easeInOut:ry,easeOut:M2,circIn:oh,circInOut:sy,circOut:ty,backIn:ah,backInOut:Z0,backOut:X0,anticipate:ey},U2=e=>typeof e=="string",wf=e=>{if(ny(e)){So(e.length===4);const[t,s,r,i]=e;return ra(t,s,r,i)}else if(U2(e))return So(vf[e]!==void 0),vf[e];return e},Aa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],bf={value:null,addProjectionMetrics:null};function V2(e,t){let s=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),e()),c++,h(l)}const u={schedule:(h,m=!1,f=!1)=>{const v=f&&i?s:r;return m&&o.add(h),v.has(h)||v.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,i){a=!0;return}i=!0,[s,r]=[r,s],s.forEach(d),t&&bf.value&&bf.value.frameloop[t].push(c),c=0,s.clear(),i=!1,a&&(a=!1,u.process(h))}};return u}const z2=40;function iy(e,t){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Aa.reduce((x,b)=>(x[b]=V2(a,t?b:void 0),x),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:f,postRender:p}=o,v=()=>{const x=gs.useManualTiming?i.timestamp:performance.now();s=!1,gs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,z2),1)),i.timestamp=x,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),f.process(i),p.process(i),i.isProcessing=!1,s&&t&&(r=!1,e(v))},_=()=>{s=!0,r=!0,i.isProcessing||e(v)};return{schedule:Aa.reduce((x,b)=>{const N=o[b];return x[b]=(S,C=!1,j=!1)=>(s||_(),N.schedule(S,C,j)),x},{}),cancel:x=>{for(let b=0;b<Aa.length;b++)o[Aa[b]].cancel(x)},state:i,steps:o}}const{schedule:le,cancel:Ws,state:De,steps:Kl}=iy(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0);let Ga;function B2(){Ga=void 0}const Ze={now:()=>(Ga===void 0&&Ze.set(De.isProcessing||gs.useManualTiming?De.timestamp:performance.now()),Ga),set:e=>{Ga=e,queueMicrotask(B2)}},ay=e=>t=>typeof t=="string"&&t.startsWith(e),lh=ay("--"),q2=ay("var(--"),ch=e=>q2(e)?W2.test(e.split("/*")[0].trim()):!1,W2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$i={...Rn,transform:e=>ps(0,1,e)},Pa={...Rn,default:1},fi=e=>Math.round(e*1e5)/1e5,dh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H2(e){return e==null}const K2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uh=(e,t)=>s=>!!(typeof s=="string"&&K2.test(s)&&s.startsWith(e)||t&&!H2(s)&&Object.prototype.hasOwnProperty.call(s,t)),oy=(e,t,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(dh);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},G2=e=>ps(0,255,e),Gl={...Rn,transform:e=>Math.round(G2(e))},pr={test:uh("rgb","red"),parse:oy("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Gl.transform(e)+", "+Gl.transform(t)+", "+Gl.transform(s)+", "+fi($i.transform(r))+")"};function Y2(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const wd={test:uh("#"),parse:Y2,transform:pr.transform},na=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ns=na("deg"),Jt=na("%"),q=na("px"),Q2=na("vh"),J2=na("vw"),jf={...Jt,parse:e=>Jt.parse(e)/100,transform:e=>Jt.transform(e*100)},en={test:uh("hsl","hue"),parse:oy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Jt.transform(fi(t))+", "+Jt.transform(fi(s))+", "+fi($i.transform(r))+")"},je={test:e=>pr.test(e)||wd.test(e)||en.test(e),parse:e=>pr.test(e)?pr.parse(e):en.test(e)?en.parse(e):wd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pr.transform(e):en.transform(e),getAnimatableNone:e=>{const t=je.parse(e);return t.alpha=0,je.transform(t)}},X2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z2(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(dh))==null?void 0:t.length)||0)+(((s=e.match(X2))==null?void 0:s.length)||0)>0}const ly="number",cy="color",ek="var",tk="var(",Nf="${}",sk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ui(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(sk,c=>(je.test(c)?(r.color.push(a),i.push(cy),s.push(je.parse(c))):c.startsWith(tk)?(r.var.push(a),i.push(ek),s.push(c)):(r.number.push(a),i.push(ly),s.push(parseFloat(c))),++a,Nf)).split(Nf);return{values:s,split:l,indexes:r,types:i}}function dy(e){return Ui(e).values}function uy(e){const{split:t,types:s}=Ui(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const l=s[o];l===ly?a+=fi(i[o]):l===cy?a+=je.transform(i[o]):a+=i[o]}return a}}const rk=e=>typeof e=="number"?0:je.test(e)?je.getAnimatableNone(e):e;function nk(e){const t=dy(e);return uy(e)(t.map(rk))}const Hs={test:Z2,parse:dy,createTransformer:uy,getAnimatableNone:nk};function Yl(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function ik({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=Yl(c,l,e+1/3),a=Yl(c,l,e),o=Yl(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Co(e,t){return s=>s>0?t:e}const ue=(e,t,s)=>e+(t-e)*s,Ql=(e,t,s)=>{const r=e*e,i=s*(t*t-r)+r;return i<0?0:Math.sqrt(i)},ak=[wd,pr,en],ok=e=>ak.find(t=>t.test(e));function _f(e){const t=ok(e);if(!t)return!1;let s=t.parse(e);return t===en&&(s=ik(s)),s}const kf=(e,t)=>{const s=_f(e),r=_f(t);if(!s||!r)return Co(e,t);const i={...s};return a=>(i.red=Ql(s.red,r.red,a),i.green=Ql(s.green,r.green,a),i.blue=Ql(s.blue,r.blue,a),i.alpha=ue(s.alpha,r.alpha,a),pr.transform(i))},bd=new Set(["none","hidden"]);function lk(e,t){return bd.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function ck(e,t){return s=>ue(e,t,s)}function hh(e){return typeof e=="number"?ck:typeof e=="string"?ch(e)?Co:je.test(e)?kf:hk:Array.isArray(e)?hy:typeof e=="object"?je.test(e)?kf:dk:Co}function hy(e,t){const s=[...e],r=s.length,i=e.map((a,o)=>hh(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function dk(e,t){const s={...e,...t},r={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(r[i]=hh(e[i])(e[i],t[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function uk(e,t){const s=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],l=e.values[o]??0;s[i]=l,r[a]++}return s}const hk=(e,t)=>{const s=Hs.createTransformer(t),r=Ui(e),i=Ui(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?bd.has(e)&&!i.values.length||bd.has(t)&&!r.values.length?lk(e,t):sa(hy(uk(r,i),i.values),s):Co(e,t)};function my(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?ue(e,t,s):hh(e)(e,t)}const mk=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>le.update(t,s),stop:()=>Ws(t),now:()=>De.isProcessing?De.timestamp:Ze.now()}},fy=(e,t,s=10)=>{let r="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Eo=2e4;function mh(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<Eo;)t+=s,r=e.next(t);return t>=Eo?1/0:t}function fk(e,t=100,s){const r=s({...e,keyframes:[0,t]}),i=Math.min(mh(r),Eo);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:Qt(i)}}const pk=5;function py(e,t,s){const r=Math.max(t-pk,0);return G0(s-e(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jl=.001;function gk({duration:e=pe.duration,bounce:t=pe.bounce,velocity:s=pe.velocity,mass:r=pe.mass}){let i,a,o=1-t;o=ps(pe.minDamping,pe.maxDamping,o),e=ps(pe.minDuration,pe.maxDuration,Qt(e)),o<1?(i=d=>{const u=d*o,h=u*e,m=u-s,f=jd(d,o),p=Math.exp(-h);return Jl-m/f*p},a=d=>{const h=d*o*e,m=h*s+s,f=Math.pow(o,2)*Math.pow(d,2)*e,p=Math.exp(-h),v=jd(Math.pow(d,2),o);return(-i(d)+Jl>0?-1:1)*((m-f)*p)/v}):(i=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-Jl+u*h},a=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=yk(i,a,l);if(e=Yt(e),isNaN(c))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const xk=12;function yk(e,t,s){let r=s;for(let i=1;i<xk;i++)r=r-e(r)/t(r);return r}function jd(e,t){return e*Math.sqrt(1-t*t)}const vk=["duration","bounce"],wk=["stiffness","damping","mass"];function Sf(e,t){return t.some(s=>e[s]!==void 0)}function bk(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!Sf(e,wk)&&Sf(e,vk))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*ps(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:pe.mass,stiffness:i,damping:a}}else{const s=gk(e);t={...t,...s,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Ao(e=pe.visualDuration,t=pe.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=bk({...s,velocity:-Qt(s.velocity||0)}),p=m||0,v=d/(2*Math.sqrt(c*u)),_=o-a,g=Qt(Math.sqrt(c/u)),y=Math.abs(_)<5;r||(r=y?pe.restSpeed.granular:pe.restSpeed.default),i||(i=y?pe.restDelta.granular:pe.restDelta.default);let x;if(v<1){const N=jd(g,v);x=S=>{const C=Math.exp(-v*g*S);return o-C*((p+v*g*_)/N*Math.sin(N*S)+_*Math.cos(N*S))}}else if(v===1)x=N=>o-Math.exp(-g*N)*(_+(p+g*_)*N);else{const N=g*Math.sqrt(v*v-1);x=S=>{const C=Math.exp(-v*g*S),j=Math.min(N*S,300);return o-C*((p+v*g*_)*Math.sinh(j)+N*_*Math.cosh(j))/N}}const b={calculatedDuration:f&&h||null,next:N=>{const S=x(N);if(f)l.done=N>=h;else{let C=N===0?p:0;v<1&&(C=N===0?Yt(p):py(x,N,S));const j=Math.abs(C)<=r,k=Math.abs(o-S)<=i;l.done=j&&k}return l.value=l.done?o:S,l},toString:()=>{const N=Math.min(mh(b),Eo),S=fy(C=>b.next(N*C).value,N,30);return N+"ms "+S},toTransition:()=>{}};return b}Ao.applyToOptions=e=>{const t=fk(e,100,Ao);return e.ease=t.ease,e.duration=Yt(t.duration),e.type="keyframes",e};function Nd({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=j=>l!==void 0&&j<l||c!==void 0&&j>c,p=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let v=s*t;const _=h+v,g=o===void 0?_:o(_);g!==_&&(v=g-h);const y=j=>-v*Math.exp(-j/r),x=j=>g+y(j),b=j=>{const k=y(j),A=x(j);m.done=Math.abs(k)<=d,m.value=m.done?g:A};let N,S;const C=j=>{f(m.value)&&(N=j,S=Ao({keyframes:[m.value,p(m.value)],velocity:py(x,j,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&N===void 0&&(k=!0,b(j),C(j)),N!==void 0&&j>=N?S.next(j-N):(!k&&b(j),m)}}}function jk(e,t,s){const r=[],i=s||gs.mix||my,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||vt:t;l=sa(c,l)}r.push(l)}return r}function Nk(e,t,{clamp:s=!0,ease:r,mixer:i}={}){const a=e.length;if(So(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=jk(t,r,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=Mi(e[h],e[h+1],u);return l[h](m)};return s?u=>d(ps(e[0],e[a-1],u)):d}function _k(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const i=Mi(0,t,r);e.push(ue(s,1,i))}}function kk(e){const t=[0];return _k(t,e.length-1),t}function Sk(e,t){return e.map(s=>s*t)}function Ck(e,t){return e.map(()=>t||ry).splice(0,e.length-1)}function pi({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const i=$2(r)?r.map(wf):wf(r),a={done:!1,value:t[0]},o=Sk(s&&s.length===t.length?s:kk(t),e),l=Nk(o,t,{ease:Array.isArray(i)?i:Ck(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Ek=e=>e!==null;function fh(e,{repeat:t,repeatType:s="loop"},r,i=1){const a=e.filter(Ek),l=i<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const Ak={decay:Nd,inertia:Nd,tween:pi,keyframes:pi,spring:Ao};function gy(e){typeof e.type=="string"&&(e.type=Ak[e.type])}class ph{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Pk=e=>e/100;class gh extends ph{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:s}=this.options;s&&s.updatedAt!==Ze.now()&&this.tick(Ze.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gy(t);const{type:s=pi,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=s||pi;c!==pi&&typeof l[0]!="number"&&(this.mixKeyframes=sa(Pk,my(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=mh(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:f,type:p,onUpdate:v,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const g=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,b=r;if(h){const j=Math.min(this.currentTime,i)/l;let k=Math.floor(j),A=j%1;!A&&j>=1&&(A=1),A===1&&k--,k=Math.min(k,h+1),!!(k%2)&&(m==="reverse"?(A=1-A,f&&(A-=f/l)):m==="mirror"&&(b=o)),x=ps(0,1,A)*l}const N=y?{done:!1,value:u[0]}:b.next(x);a&&(N.value=a(N.value));let{done:S}=N;!y&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&p!==Nd&&(N.value=fh(u,this.options,_,this.speed)),v&&v(N.value),C&&this.finish(),N}then(t,s){return this.finished.then(t,s)}get duration(){return Qt(this.calculatedDuration)}get time(){return Qt(this.currentTime)}set time(t){var s;t=Yt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ze.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Qt(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=mk,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ze.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Tk(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const gr=e=>e*180/Math.PI,_d=e=>{const t=gr(Math.atan2(e[1],e[0]));return kd(t)},Dk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_d,rotateZ:_d,skewX:e=>gr(Math.atan(e[1])),skewY:e=>gr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},kd=e=>(e=e%360,e<0&&(e+=360),e),Cf=_d,Ef=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Af=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Rk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ef,scaleY:Af,scale:e=>(Ef(e)+Af(e))/2,rotateX:e=>kd(gr(Math.atan2(e[6],e[5]))),rotateY:e=>kd(gr(Math.atan2(-e[2],e[0]))),rotateZ:Cf,rotate:Cf,skewX:e=>gr(Math.atan(e[4])),skewY:e=>gr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Sd(e){return e.includes("scale")?1:0}function Cd(e,t){if(!e||e==="none")return Sd(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=Rk,i=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Dk,i=l}if(!i)return Sd(t);const a=r[t],o=i[1].split(",").map(Ik);return typeof a=="function"?a(o):o[a]}const Ok=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Cd(s,t)};function Ik(e){return parseFloat(e.trim())}const On=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],In=new Set(On),Pf=e=>e===Rn||e===q,Lk=new Set(["x","y","z"]),Fk=On.filter(e=>!Lk.has(e));function Mk(e){const t=[];return Fk.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const jr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Cd(t,"x"),y:(e,{transform:t})=>Cd(t,"y")};jr.translateX=jr.x;jr.translateY=jr.y;const Nr=new Set;let Ed=!1,Ad=!1,Pd=!1;function xy(){if(Ad){const e=Array.from(Nr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const i=Mk(r);i.length&&(s.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ad=!1,Ed=!1,Nr.forEach(e=>e.complete(Pd)),Nr.clear()}function yy(){Nr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ad=!0)})}function $k(){Pd=!0,yy(),xy(),Pd=!1}class xh{constructor(t,s,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Nr.add(this),Ed||(Ed=!0,le.read(yy),le.resolveKeyframes(xy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&s){const l=r.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}Tk(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nr.delete(this)}cancel(){this.state==="scheduled"&&(Nr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Uk=e=>e.startsWith("--");function Vk(e,t,s){Uk(t)?e.style.setProperty(t,s):e.style[t]=s}const zk=nh(()=>window.ScrollTimeline!==void 0),Bk={};function qk(e,t){const s=nh(e);return()=>Bk[t]??s()}const vy=qk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ei=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,Tf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ei([0,.65,.55,1]),circOut:ei([.55,0,1,.45]),backIn:ei([.31,.01,.66,-.59]),backOut:ei([.33,1.53,.69,.99])};function wy(e,t){if(e)return typeof e=="function"?vy()?fy(e,t):"ease-out":ny(e)?ei(e):Array.isArray(e)?e.map(s=>wy(s,t)||Tf.easeOut):Tf[e]}function Wk(e,t,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const h=wy(l,i);Array.isArray(h)&&(u.easing=h);const m={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function by(e){return typeof e=="function"&&"applyToOptions"in e}function Hk({type:e,...t}){return by(e)&&vy()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Kk extends ph{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,So(typeof t.type!="string");const d=Hk(t);this.animation=Wk(s,r,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=fh(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Vk(s,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return Qt(Number(t))}get time(){return Qt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Yt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&zk()?(this.animation.timeline=t,vt):s(this)}}const jy={anticipate:ey,backInOut:Z0,circInOut:sy};function Gk(e){return e in jy}function Yk(e){typeof e.ease=="string"&&Gk(e.ease)&&(e.ease=jy[e.ease])}const Df=10;class Qk extends Kk{constructor(t){Yk(t),gy(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new gh({...o,autoplay:!1}),c=Yt(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-Df).value,l.sample(c).value,Df),l.stop()}}const Rf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hs.test(e)||e==="0")&&!e.startsWith("url("));function Jk(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function Xk(e,t,s,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Rf(i,t),l=Rf(a,t);return!o||!l?!1:Jk(e)||(s==="spring"||by(s))&&r}function Td(e){e.duration=0,e.type}const Zk=new Set(["opacity","clipPath","filter","transform"]),eS=nh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tS(e){var u;const{motionValue:t,name:s,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return eS()&&s&&Zk.has(s)&&(s!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const sS=40;class rS extends ph{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var p;super(),this.stop=()=>{var v,_;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Ze.now();const m={autoplay:t,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:u,...h},f=(u==null?void 0:u.KeyframeResolver)||xh;this.keyframeResolver=new f(l,(v,_,g)=>this.onKeyframesResolved(v,_,m,!g),c,d,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,s,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Ze.now(),Xk(t,a,o,l)||((gs.instantAnimations||!c)&&(u==null||u(fh(t,r,s))),t[0]=t[t.length-1],Td(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>sS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},f=!d&&tS(m)?new Qk({...m,element:m.motionValue.owner.current}):new gh(m);f.finished.then(()=>this.notifyFinished()).catch(vt),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),$k()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const nS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iS(e){const t=nS.exec(e);if(!t)return[,];const[,s,r,i]=t;return[`--${s??r}`,i]}function Ny(e,t,s=1){const[r,i]=iS(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return W0(o)?parseFloat(o):o}return ch(i)?Ny(i,t,s+1):i}function yh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const _y=new Set(["width","height","top","left","right","bottom",...On]),aS={test:e=>e==="auto",parse:e=>e},ky=e=>t=>t.test(e),Sy=[Rn,q,Jt,Ns,J2,Q2,aS],Of=e=>Sy.find(ky(e));function oS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||K0(e):!0}const lS=new Set(["brightness","contrast","saturate","opacity"]);function cS(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(dh)||[];if(!r)return e;const i=s.replace(r,"");let a=lS.has(t)?1:0;return r!==s&&(a*=100),t+"("+a+i+")"}const dS=/\b([a-z-]*)\(.*?\)/gu,Dd={...Hs,getAnimatableNone:e=>{const t=e.match(dS);return t?t.map(cS).join(" "):e}},If={...Rn,transform:Math.round},uS={rotate:Ns,rotateX:Ns,rotateY:Ns,rotateZ:Ns,scale:Pa,scaleX:Pa,scaleY:Pa,scaleZ:Pa,skew:Ns,skewX:Ns,skewY:Ns,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:$i,originX:jf,originY:jf,originZ:q},vh={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q,...uS,zIndex:If,fillOpacity:$i,strokeOpacity:$i,numOctaves:If},hS={...vh,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:Dd,WebkitFilter:Dd},Cy=e=>hS[e];function Ey(e,t){let s=Cy(e);return s!==Dd&&(s=Hs),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const mS=new Set(["auto","none","0"]);function fS(e,t,s){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!mS.has(a)&&Ui(a).values.length&&(i=e[r]),r++}if(i&&s)for(const a of t)e[a]=Ey(s,i)}class pS extends xh{constructor(t,s,r,i,a){super(t,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),ch(d))){const u=Ny(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!_y.has(r)||t.length!==2)return;const[i,a]=t,o=Of(i),l=Of(a);if(o!==l)if(Pf(o)&&Pf(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else jr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||oS(t[i]))&&r.push(i);r.length&&fS(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=jr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function gS(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Ay=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function xS(e){return H0(e)&&"offsetHeight"in e}const Lf=30,yS=e=>!isNaN(parseFloat(e));class vS{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=Ze.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Ze.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new ih);const r=this.events[t].add(s);return t==="change"?()=>{r(),le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ze.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Lf)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Lf);return G0(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jn(e,t){return new vS(e,t)}const{schedule:wh,cancel:HE}=iy(queueMicrotask,!1),Ct={x:!1,y:!1};function Py(){return Ct.x||Ct.y}function wS(e){return e==="x"||e==="y"?Ct[e]?null:(Ct[e]=!0,()=>{Ct[e]=!1}):Ct.x||Ct.y?null:(Ct.x=Ct.y=!0,()=>{Ct.x=Ct.y=!1})}function Ty(e,t){const s=gS(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[s,i,()=>r.abort()]}function Ff(e){return!(e.pointerType==="touch"||Py())}function bS(e,t,s={}){const[r,i,a]=Ty(e,s),o=l=>{if(!Ff(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{Ff(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const Dy=(e,t)=>t?e===t?!0:Dy(e,t.parentElement):!1,bh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,jS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NS(e){return jS.has(e.tagName)||e.tabIndex!==-1}const Ya=new WeakSet;function Mf(e){return t=>{t.key==="Enter"&&e(t)}}function Xl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _S=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=Mf(()=>{if(Ya.has(s))return;Xl(s,"down");const i=Mf(()=>{Xl(s,"up")}),a=()=>Xl(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function $f(e){return bh(e)&&!Py()}function kS(e,t,s={}){const[r,i,a]=Ty(e,s),o=l=>{const c=l.currentTarget;if(!$f(l))return;Ya.add(c);const d=t(c,l),u=(f,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Ya.has(c)&&Ya.delete(c),$f(f)&&typeof d=="function"&&d(f,{success:p})},h=f=>{u(f,c===window||c===document||s.useGlobalTarget||Dy(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),xS(l)&&(l.addEventListener("focus",d=>_S(d,i)),!NS(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Ry(e){return H0(e)&&"ownerSVGElement"in e}function SS(e){return Ry(e)&&e.tagName==="svg"}const $e=e=>!!(e&&e.getVelocity),CS=[...Sy,je,Hs],ES=e=>CS.find(ky(e)),Oy=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function AS(e=!0){const t=w.useContext(th);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=t,a=w.useId();w.useEffect(()=>{if(e)return i(a)},[e]);const o=w.useCallback(()=>e&&r&&r(a),[a,r,e]);return!s&&r?[!1,o]:[!0]}const Iy=w.createContext({strict:!1}),Uf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nn={};for(const e in Uf)Nn[e]={isEnabled:t=>Uf[e].some(s=>!!t[s])};function PS(e){for(const t in e)Nn[t]={...Nn[t],...e[t]}}const TS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Po(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||TS.has(e)}let Ly=e=>!Po(e);function DS(e){typeof e=="function"&&(Ly=t=>t.startsWith("on")?!Po(t):e(t))}try{DS(require("@emotion/is-prop-valid").default)}catch{}function RS(e,t,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ly(i)||s===!0&&Po(i)||!t&&!Po(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const nl=w.createContext({});function il(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vi(e){return typeof e=="string"||Array.isArray(e)}const jh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nh=["initial",...jh];function al(e){return il(e.animate)||Nh.some(t=>Vi(e[t]))}function Fy(e){return!!(al(e)||e.variants)}function OS(e,t){if(al(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Vi(s)?s:void 0,animate:Vi(r)?r:void 0}}return e.inherit!==!1?t:{}}function IS(e){const{initial:t,animate:s}=OS(e,w.useContext(nl));return w.useMemo(()=>({initial:t,animate:s}),[Vf(t),Vf(s)])}function Vf(e){return Array.isArray(e)?e.join(" "):e}const zi={};function LS(e){for(const t in e)zi[t]=e[t],lh(t)&&(zi[t].isCSSVariable=!0)}function My(e,{layout:t,layoutId:s}){return In.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!zi[e]||e==="opacity")}const FS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MS=On.length;function $S(e,t,s){let r="",i=!0;for(let a=0;a<MS;a++){const o=On[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=Ay(l,vh[o]);if(!c){i=!1;const u=FS[o]||o;r+=`${u}(${d}) `}s&&(t[o]=d)}}return r=r.trim(),s?r=s(t,i?"":r):i&&(r="none"),r}function _h(e,t,s){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(In.has(c)){o=!0;continue}else if(lh(c)){i[c]=d;continue}else{const u=Ay(d,vh[c]);c.startsWith("origin")?(l=!0,a[c]=u):r[c]=u}}if(t.transform||(o||s?r.transform=$S(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${d} ${u}`}}const kh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $y(e,t,s){for(const r in t)!$e(t[r])&&!My(r,s)&&(e[r]=t[r])}function US({transformTemplate:e},t){return w.useMemo(()=>{const s=kh();return _h(s,t,e),Object.assign({},s.vars,s.style)},[t])}function VS(e,t){const s=e.style||{},r={};return $y(r,s,e),Object.assign(r,US(e,t)),r}function zS(e,t){const s={},r=VS(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const BS={offset:"stroke-dashoffset",array:"stroke-dasharray"},qS={offset:"strokeDashoffset",array:"strokeDasharray"};function WS(e,t,s=1,r=0,i=!0){e.pathLength=1;const a=i?BS:qS;e[a.offset]=q.transform(-r);const o=q.transform(t),l=q.transform(s);e[a.array]=`${o} ${l}`}function Uy(e,{attrX:t,attrY:s,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,u){if(_h(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),r!==void 0&&(h.scale=r),i!==void 0&&WS(h,i,a,o,!1)}const Vy=()=>({...kh(),attrs:{}}),zy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function HS(e,t,s,r){const i=w.useMemo(()=>{const a=Vy();return Uy(a,t,zy(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};$y(a,e.style,e),i.style={...a,...i.style}}return i}const KS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sh(e){return typeof e!="string"||e.includes("-")?!1:!!(KS.indexOf(e)>-1||/[A-Z]/u.test(e))}function GS(e,t,s,{latestValues:r},i,a=!1){const l=(Sh(e)?HS:zS)(t,r,i,e),c=RS(t,typeof e=="string",a),d=e!==w.Fragment?{...c,...l,ref:s}:{},{children:u}=t,h=w.useMemo(()=>$e(u)?u.get():u,[u]);return w.createElement(e,{...d,children:h})}function zf(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function Ch(e,t,s,r){if(typeof t=="function"){const[i,a]=zf(r);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=zf(r);t=t(s!==void 0?s:e.custom,i,a)}return t}function Qa(e){return $e(e)?e.get():e}function YS({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,i){return{latestValues:QS(s,r,i,e),renderState:t()}}function QS(e,t,s,r){const i={},a=r(e,{});for(const m in a)i[m]=Qa(a[m]);let{initial:o,animate:l}=e;const c=al(e),d=Fy(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!il(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const p=Ch(e,m[f]);if(p){const{transitionEnd:v,transition:_,...g}=p;for(const y in g){let x=g[y];if(Array.isArray(x)){const b=u?x.length-1:0;x=x[b]}x!==null&&(i[y]=x)}for(const y in v)i[y]=v[y]}}}return i}const By=e=>(t,s)=>{const r=w.useContext(nl),i=w.useContext(th),a=()=>YS(e,t,r,i);return s?a():T2(a)};function Eh(e,t,s){var a;const{style:r}=e,i={};for(const o in r)($e(r[o])||t.style&&$e(t.style[o])||My(o,e)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const JS=By({scrapeMotionValuesFromProps:Eh,createRenderState:kh});function qy(e,t,s){const r=Eh(e,t,s);for(const i in e)if($e(e[i])||$e(t[i])){const a=On.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const XS=By({scrapeMotionValuesFromProps:qy,createRenderState:Vy}),ZS=Symbol.for("motionComponentSymbol");function tn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function eC(e,t,s){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):tn(s)&&(s.current=r))},[t])}const Ah=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tC="framerAppearId",Wy="data-"+Ah(tC),Hy=w.createContext({});function sC(e,t,s,r,i){var v,_;const{visualElement:a}=w.useContext(nl),o=w.useContext(Iy),l=w.useContext(th),c=w.useContext(Oy).reducedMotion,d=w.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=w.useContext(Hy);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&rC(d.current,s,i,h);const m=w.useRef(!1);w.useInsertionEffect(()=>{u&&m.current&&u.update(s,l)});const f=s[Wy],p=w.useRef(!!f&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,f))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,f)));return D2(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,f)}),p.current=!1),u.enteringChildren=void 0)}),u}function rC(e,t,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Ky(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&tn(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function Ky(e){if(e)return e.options.allowProjection!==!1?e.projection:Ky(e.parent)}function Zl(e,{forwardMotionProps:t=!1}={},s,r){s&&PS(s);const i=Sh(e)?XS:JS;function a(l,c){let d;const u={...w.useContext(Oy),...l,layoutId:nC(l)},{isStatic:h}=u,m=IS(l),f=i(l,h);if(!h&&eh){iC();const p=aC(u);d=p.MeasureLayout,m.visualElement=sC(e,f,u,r,p.ProjectionNode)}return n.jsxs(nl.Provider,{value:m,children:[d&&m.visualElement?n.jsx(d,{visualElement:m.visualElement,...u}):null,GS(e,l,eC(f,m.visualElement,c),f,h,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=w.forwardRef(a);return o[ZS]=e,o}function nC({layoutId:e}){const t=w.useContext(q0).id;return t&&e!==void 0?t+"-"+e:e}function iC(e,t){w.useContext(Iy).strict}function aC(e){const{drag:t,layout:s}=Nn;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function oC(e,t){if(typeof Proxy>"u")return Zl;const s=new Map,r=(a,o)=>Zl(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(s.has(o)||s.set(o,Zl(o,void 0,e,t)),s.get(o))})}function Gy({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function lC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function cC(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function ec(e){return e===void 0||e===1}function Rd({scale:e,scaleX:t,scaleY:s}){return!ec(e)||!ec(t)||!ec(s)}function cr(e){return Rd(e)||Yy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Yy(e){return Bf(e.x)||Bf(e.y)}function Bf(e){return e&&e!=="0%"}function To(e,t,s){const r=e-s,i=t*r;return s+i}function qf(e,t,s,r,i){return i!==void 0&&(e=To(e,i,r)),To(e,s,r)+t}function Od(e,t=0,s=1,r,i){e.min=qf(e.min,t,s,r,i),e.max=qf(e.max,t,s,r,i)}function Qy(e,{x:t,y:s}){Od(e.x,t.translate,t.scale,t.originPoint),Od(e.y,s.translate,s.scale,s.originPoint)}const Wf=.999999999999,Hf=1.0000000000001;function dC(e,t,s,r=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&rn(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Qy(e,o)),r&&cr(a.latestValues)&&rn(e,a.latestValues))}t.x<Hf&&t.x>Wf&&(t.x=1),t.y<Hf&&t.y>Wf&&(t.y=1)}function sn(e,t){e.min=e.min+t,e.max=e.max+t}function Kf(e,t,s,r,i=.5){const a=ue(e.min,e.max,i);Od(e,t,s,a,r)}function rn(e,t){Kf(e.x,t.x,t.scaleX,t.scale,t.originX),Kf(e.y,t.y,t.scaleY,t.scale,t.originY)}function Jy(e,t){return Gy(cC(e.getBoundingClientRect(),t))}function uC(e,t,s){const r=Jy(e,s),{scroll:i}=t;return i&&(sn(r.x,i.offset.x),sn(r.y,i.offset.y)),r}const Gf=()=>({translate:0,scale:1,origin:0,originPoint:0}),nn=()=>({x:Gf(),y:Gf()}),Yf=()=>({min:0,max:0}),ye=()=>({x:Yf(),y:Yf()}),Id={current:null},Xy={current:!1};function hC(){if(Xy.current=!0,!!eh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Id.current=e.matches;e.addEventListener("change",t),t()}else Id.current=!1}const mC=new WeakMap;function fC(e,t,s){for(const r in t){const i=t[r],a=s[r];if($e(i))e.addValue(r,i);else if($e(a))e.addValue(r,jn(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,jn(o!==void 0?o:i,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const Qf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pC{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ze.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,le.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=al(s),this.isVariantNode=Fy(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in h){const f=h[m];c[m]!==void 0&&$e(f)&&f.set(c[m])}}mount(t){var s;this.current=t,mC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Xy.current||hC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Id.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ws(this.notifyUpdate),Ws(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=In.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Nn){const s=Nn[t];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Qf.length;r++){const i=Qf[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=fC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=jn(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(W0(r)||K0(r))?r=parseFloat(r):!ES(r)&&Hs.test(s)&&(r=Ey(t,s)),this.setBaseTarget(t,$e(r)?r.get():r)),$e(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=Ch(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!$e(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new ih),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){wh.render(this.render)}}class Zy extends pC{constructor(){super(...arguments),this.KeyframeResolver=pS}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$e(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function ev(e,{style:t,vars:s},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,r);for(o in s)a.setProperty(o,s[o])}function gC(e){return window.getComputedStyle(e)}class xC extends Zy{constructor(){super(...arguments),this.type="html",this.renderInstance=ev}readValueFromInstance(t,s){var r;if(In.has(s))return(r=this.projection)!=null&&r.isProjecting?Sd(s):Ok(t,s);{const i=gC(t),a=(lh(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Jy(t,s)}build(t,s,r){_h(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return Eh(t,s,r)}}const tv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yC(e,t,s,r){ev(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(tv.has(i)?i:Ah(i),t.attrs[i])}class vC extends Zy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(In.has(s)){const r=Cy(s);return r&&r.default||0}return s=tv.has(s)?s:Ah(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return qy(t,s,r)}build(t,s,r){Uy(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,i){yC(t,s,r,i)}mount(t){this.isSVGTag=zy(t.tagName),super.mount(t)}}const wC=(e,t)=>Sh(e)?new vC(t):new xC(t,{allowProjection:e!==w.Fragment});function mn(e,t,s){const r=e.getProps();return Ch(r,t,s!==void 0?s:r.custom,e)}const Ld=e=>Array.isArray(e);function bC(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,jn(s))}function jC(e){return Ld(e)?e[e.length-1]||0:e}function NC(e,t){const s=mn(e,t);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const l=jC(a[o]);bC(e,o,l)}}function _C(e){return!!($e(e)&&e.add)}function Fd(e,t){const s=e.getValue("willChange");if(_C(s))return s.add(t);if(!s&&gs.WillChange){const r=new gs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function sv(e){return e.props[Wy]}const kC=e=>e!==null;function SC(e,{repeat:t,repeatType:s="loop"},r){const i=e.filter(kC),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const CC={type:"spring",stiffness:500,damping:25,restSpeed:10},EC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),AC={type:"keyframes",duration:.8},PC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TC=(e,{keyframes:t})=>t.length>2?AC:In.has(e)?e.startsWith("scale")?EC(t[1]):CC:PC;function DC({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Ph=(e,t,s,r={},i,a)=>o=>{const l=yh(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Yt(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};DC(l)||Object.assign(u,TC(e,u)),u.duration&&(u.duration=Yt(u.duration)),u.repeatDelay&&(u.repeatDelay=Yt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Td(u),u.delay===0&&(h=!0)),(gs.instantAnimations||gs.skipAnimations)&&(h=!0,Td(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!a&&t.get()!==void 0){const m=SC(u.keyframes,l);if(m!==void 0){le.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new gh(u):new rS(u)};function RC({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function rv(e,t,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&RC(d,u))continue;const f={delay:s,...yh(a||{},u)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===p&&!f.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=sv(e);if(g){const y=window.MotionHandoffAnimation(g,u,le);y!==null&&(f.startTime=y,v=!0)}}Fd(e,u),h.start(Ph(u,h,m,e.shouldReduceMotion&&_y.has(u)?{type:!1}:f,e,v));const _=h.animation;_&&c.push(_)}return o&&Promise.all(c).then(()=>{le.update(()=>{o&&NC(e,o)})}),c}function nv(e,t,s,r=0,i=1){const a=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*r;return typeof s=="function"?s(a,o):i===1?a*r:l-a*r}function Md(e,t,s={}){var c;const r=mn(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const a=r?()=>Promise.all(rv(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=i;return OC(e,t,d,u,h,m,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>u())}else return Promise.all([a(),o(s.delay)])}function OC(e,t,s=0,r=0,i=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Md(c,t,{...o,delay:s+(typeof r=="function"?0:r)+nv(e.variantChildren,c,r,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function IC(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Md(e,a,s));r=Promise.all(i)}else if(typeof t=="string")r=Md(e,t,s);else{const i=typeof t=="function"?mn(e,t,s.custom):t;r=Promise.all(rv(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function iv(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const LC=Nh.length;function av(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?av(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<LC;s++){const r=Nh[s],i=e.props[r];(Vi(i)||i===!1)&&(t[r]=i)}return t}const FC=[...jh].reverse(),MC=jh.length;function $C(e){return t=>Promise.all(t.map(({animation:s,options:r})=>IC(e,s,r)))}function UC(e){let t=$C(e),s=Jf(),r=!0;const i=c=>(d,u)=>{var m;const h=mn(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:p,...v}=h;d={...d,...v,...p}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=av(e.parent)||{},h=[],m=new Set;let f={},p=1/0;for(let _=0;_<MC;_++){const g=FC[_],y=s[g],x=d[g]!==void 0?d[g]:u[g],b=Vi(x),N=g===c?y.isActive:null;N===!1&&(p=_);let S=x===u[g]&&x!==d[g]&&b;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...f},!y.isActive&&N===null||!x&&!y.prevProp||il(x)||typeof x=="boolean")continue;const C=VC(y.prevProp,x);let j=C||g===c&&y.isActive&&!S&&b||_>p&&b,k=!1;const A=Array.isArray(x)?x:[x];let P=A.reduce(i(g),{});N===!1&&(P={});const{prevResolvedValues:M={}}=y,B={...M,...P},O=K=>{j=!0,m.has(K)&&(k=!0,m.delete(K)),y.needsAnimating[K]=!0;const E=e.getValue(K);E&&(E.liveStyle=!1)};for(const K in B){const E=P[K],F=M[K];if(f.hasOwnProperty(K))continue;let I=!1;Ld(E)&&Ld(F)?I=!iv(E,F):I=E!==F,I?E!=null?O(K):m.add(K):E!==void 0&&m.has(K)?O(K):y.protectedKeys[K]=!0}y.prevProp=x,y.prevResolvedValues=P,y.isActive&&(f={...f,...P}),r&&e.blockInitialAnimation&&(j=!1);const J=S&&C;j&&(!J||k)&&h.push(...A.map(K=>{const E={type:g};if(typeof K=="string"&&r&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:F}=e,I=mn(F,K);if(F.enteringChildren&&I){const{delayChildren:V}=I.transition||{};E.delay=nv(F.enteringChildren,e,V)}}return{animation:K,options:E}}))}if(m.size){const _={};if(typeof d.initial!="boolean"){const g=mn(e,Array.isArray(d.initial)?d.initial[0]:d.initial);g&&g.transition&&(_.transition=g.transition)}m.forEach(g=>{const y=e.getBaseTarget(g),x=e.getValue(g);x&&(x.liveStyle=!0),_[g]=y??null}),h.push({animation:_})}let v=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function l(c,d){var h;if(s[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var f;return(f=m.animationState)==null?void 0:f.setActive(c,d)}),s[c].isActive=d;const u=o(c);for(const m in s)s[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=Jf(),r=!0}}}function VC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iv(t,e):!1}function ir(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jf(){return{animate:ir(!0),whileInView:ir(),whileHover:ir(),whileTap:ir(),whileDrag:ir(),whileFocus:ir(),exit:ir()}}class Zs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zC extends Zs{constructor(t){super(t),t.animationState||(t.animationState=UC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();il(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let BC=0;class qC extends Zs{constructor(){super(...arguments),this.id=BC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const WC={animation:{Feature:zC},exit:{Feature:qC}};function Bi(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function ia(e){return{point:{x:e.pageX,y:e.pageY}}}const HC=e=>t=>bh(t)&&e(t,ia(t));function gi(e,t,s,r){return Bi(e,t,HC(s),r)}const ov=1e-4,KC=1-ov,GC=1+ov,lv=.01,YC=0-lv,QC=0+lv;function We(e){return e.max-e.min}function JC(e,t,s){return Math.abs(e-t)<=s}function Xf(e,t,s,r=.5){e.origin=r,e.originPoint=ue(t.min,t.max,e.origin),e.scale=We(s)/We(t),e.translate=ue(s.min,s.max,e.origin)-e.originPoint,(e.scale>=KC&&e.scale<=GC||isNaN(e.scale))&&(e.scale=1),(e.translate>=YC&&e.translate<=QC||isNaN(e.translate))&&(e.translate=0)}function xi(e,t,s,r){Xf(e.x,t.x,s.x,r?r.originX:void 0),Xf(e.y,t.y,s.y,r?r.originY:void 0)}function Zf(e,t,s){e.min=s.min+t.min,e.max=e.min+We(t)}function XC(e,t,s){Zf(e.x,t.x,s.x),Zf(e.y,t.y,s.y)}function ep(e,t,s){e.min=t.min-s.min,e.max=e.min+We(t)}function yi(e,t,s){ep(e.x,t.x,s.x),ep(e.y,t.y,s.y)}function mt(e){return[e("x"),e("y")]}const cv=({current:e})=>e?e.ownerDocument.defaultView:null,tp=(e,t)=>Math.abs(e-t);function ZC(e,t){const s=tp(e.x,t.x),r=tp(e.y,t.y);return Math.sqrt(s**2+r**2)}class dv{constructor(t,s,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=sc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=ZC(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!p)return;const{point:v}=m,{timestamp:_}=De;this.history.push({...v,timestamp:_});const{onStart:g,onMove:y}=this.handlers;f||(g&&g(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=tc(f,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=sc(m.type==="pointercancel"?this.lastMoveEventInfo:tc(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,g),v&&v(m,g)},!bh(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=ia(t),c=tc(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=De;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=s;h&&h(t,sc(c,this.history)),this.removeListeners=sa(gi(this.contextWindow,"pointermove",this.handlePointerMove),gi(this.contextWindow,"pointerup",this.handlePointerUp),gi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ws(this.updatePoint)}}function tc(e,t){return t?{point:t(e.point)}:e}function sp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sc({point:e},t){return{point:e,delta:sp(e,uv(t)),offset:sp(e,e4(t)),velocity:t4(t,.1)}}function e4(e){return e[0]}function uv(e){return e[e.length-1]}function t4(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=uv(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>Yt(t)));)s--;if(!r)return{x:0,y:0};const a=Qt(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function s4(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?ue(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?ue(s,e,r.max):Math.min(e,s)),e}function rp(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function r4(e,{top:t,left:s,bottom:r,right:i}){return{x:rp(e.x,s,i),y:rp(e.y,t,r)}}function np(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function n4(e,t){return{x:np(e.x,t.x),y:np(e.y,t.y)}}function i4(e,t){let s=.5;const r=We(e),i=We(t);return i>r?s=Mi(t.min,t.max-r,e.min):r>i&&(s=Mi(e.min,e.max-i,t.min)),ps(0,1,s)}function a4(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const $d=.35;function o4(e=$d){return e===!1?e=0:e===!0&&(e=$d),{x:ip(e,"left","right"),y:ip(e,"top","bottom")}}function ip(e,t,s){return{min:ap(e,t),max:ap(e,s)}}function ap(e,t){return typeof e=="number"?e:e[t]||0}const l4=new WeakMap;class c4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ia(h).point)},o=(h,m)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wS(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mt(g=>{let y=this.getAxisMotionValue(g).get()||0;if(Jt.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[g];b&&(y=We(b)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&le.postRender(()=>v(h,m)),Fd(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=m;if(p&&this.currentDirection===null){this.currentDirection=d4(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,g),this.updateAxis("y",m.point,g),this.visualElement.render(),_&&_(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>mt(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new dv(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:cv(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&le.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:i}=this.getProps();if(!r||!Ta(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=s4(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&tn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=r4(r.layoutBox,t):this.constraints=!1,this.elastic=o4(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&mt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=a4(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!tn(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=uC(r,i.root,this.visualElement.getTransformPagePoint());let o=n4(i.layout.layoutBox,a);if(s){const l=s(lC(o));this.hasMutatedConstraints=!!l,l&&(o=Gy(l))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=mt(u=>{if(!Ta(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return Fd(this.visualElement,t),r.start(Ph(t,r,0,s,this.visualElement,!1))}stopAnimation(){mt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){mt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){mt(s=>{const{drag:r}=this.getProps();if(!Ta(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(t[s]-ue(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!tn(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};mt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=i4({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),mt(o=>{if(!Ta(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ue(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;l4.set(this.visualElement,this);const t=this.visualElement.current,s=gi(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();tn(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),le.read(r);const o=Bi(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(mt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=$d,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Ta(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function d4(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class u4 extends Zs{constructor(t){super(t),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new c4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const op=e=>(t,s)=>{e&&le.postRender(()=>e(t,s))};class h4 extends Zs{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(t){this.session=new dv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:op(t),onStart:op(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&le.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=gi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ja={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(q.test(e))e=parseFloat(e);else return e;const s=lp(e,t.target.x),r=lp(e,t.target.y);return`${s}% ${r}%`}},m4={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,i=Hs.parse(e);if(i.length>5)return r;const a=Hs.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=ue(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};let rc=!1;class f4 extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;LS(p4),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),rc&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ja.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,rc=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||le.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=t;rc=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hv(e){const[t,s]=AS(),r=w.useContext(q0);return n.jsx(f4,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(Hy),isPresent:t,safeToRemove:s})}const p4={borderRadius:{...Gn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gn,borderTopRightRadius:Gn,borderBottomLeftRadius:Gn,borderBottomRightRadius:Gn,boxShadow:m4};function g4(e,t,s){const r=$e(e)?e:jn(e);return r.start(Ph("",r,t,s)),r.animation}const x4=(e,t)=>e.depth-t.depth;class y4{constructor(){this.children=[],this.isDirty=!1}add(t){sh(this.children,t),this.isDirty=!0}remove(t){rh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(x4),this.isDirty=!1,this.children.forEach(t)}}function v4(e,t){const s=Ze.now(),r=({timestamp:i})=>{const a=i-s;a>=t&&(Ws(r),e(a-t))};return le.setup(r,!0),()=>Ws(r)}const mv=["TopLeft","TopRight","BottomLeft","BottomRight"],w4=mv.length,cp=e=>typeof e=="string"?parseFloat(e):e,dp=e=>typeof e=="number"||q.test(e);function b4(e,t,s,r,i,a){i?(e.opacity=ue(0,s.opacity??1,j4(r)),e.opacityExit=ue(t.opacity??1,0,N4(r))):a&&(e.opacity=ue(t.opacity??1,s.opacity??1,r));for(let o=0;o<w4;o++){const l=`border${mv[o]}Radius`;let c=up(t,l),d=up(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||dp(c)===dp(d)?(e[l]=Math.max(ue(cp(c),cp(d),r),0),(Jt.test(d)||Jt.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=ue(t.rotate||0,s.rotate||0,r))}function up(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const j4=fv(0,.5,ty),N4=fv(.5,.95,vt);function fv(e,t,s){return r=>r<e?0:r>t?1:s(Mi(e,t,r))}function hp(e,t){e.min=t.min,e.max=t.max}function ht(e,t){hp(e.x,t.x),hp(e.y,t.y)}function mp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fp(e,t,s,r,i){return e-=t,e=To(e,1/s,r),i!==void 0&&(e=To(e,1/i,r)),e}function _4(e,t=0,s=1,r=.5,i,a=e,o=e){if(Jt.test(t)&&(t=parseFloat(t),t=ue(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ue(a.min,a.max,r);e===a&&(l-=t),e.min=fp(e.min,t,s,l,i),e.max=fp(e.max,t,s,l,i)}function pp(e,t,[s,r,i],a,o){_4(e,t[s],t[r],t[i],t.scale,a,o)}const k4=["x","scaleX","originX"],S4=["y","scaleY","originY"];function gp(e,t,s,r){pp(e.x,t,k4,s?s.x:void 0,r?r.x:void 0),pp(e.y,t,S4,s?s.y:void 0,r?r.y:void 0)}function xp(e){return e.translate===0&&e.scale===1}function pv(e){return xp(e.x)&&xp(e.y)}function yp(e,t){return e.min===t.min&&e.max===t.max}function C4(e,t){return yp(e.x,t.x)&&yp(e.y,t.y)}function vp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function gv(e,t){return vp(e.x,t.x)&&vp(e.y,t.y)}function wp(e){return We(e.x)/We(e.y)}function bp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class E4{constructor(){this.members=[]}add(t){sh(this.members,t),t.scheduleRender()}remove(t){if(rh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A4(e,t,s){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:p}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),f&&(r+=`skewX(${f}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const nc=["","X","Y","Z"],P4=1e3;let T4=0;function ic(e,t,s,r){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function xv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=sv(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",le,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&xv(r)}function yv({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=T4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(O4),this.nodes.forEach(M4),this.nodes.forEach($4),this.nodes.forEach(I4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new y4)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ih),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ry(o)&&!SS(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;le.read(()=>{h=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,u&&u(),u=v4(m,250),Ja.hasAnimatedSinceResize&&(Ja.hasAnimatedSinceResize=!1,this.nodes.forEach(_p)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||q4,{onLayoutAnimationStart:v,onLayoutAnimationComplete:_}=d.getProps(),g=!this.targetLayout||!gv(this.targetLayout,f),y=!h&&m;if(this.options.layoutRoot||this.resumeFrom||y||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...yh(p,"layout"),onPlay:v,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(u,y)}else h||_p(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Np);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(F4),this.nodes.forEach(D4),this.nodes.forEach(R4)):this.nodes.forEach(Np),this.clearAllSnapshots();const l=Ze.now();De.delta=ps(0,1e3/60,l-De.timestamp),De.timestamp=l,De.isProcessing=!0,Kl.update.process(De),Kl.preRender.process(De),Kl.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L4),this.sharedNodes.forEach(V4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!We(this.snapshot.measuredBox.x)&&!We(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!pv(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||cr(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),W4(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return ye();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(H4))){const{scroll:u}=this.root;u&&(sn(l.x,u.offset.x),sn(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=ye();if(ht(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ht(l,o),sn(l.x,h.offset.x),sn(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=ye();ht(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&rn(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),cr(u.latestValues)&&rn(c,u.latestValues)}return cr(this.latestValues)&&rn(c,this.latestValues),c}removeTransform(o){const l=ye();ht(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!cr(d.latestValues))continue;Rd(d.latestValues)&&d.updateSnapshot();const u=ye(),h=d.measurePageBox();ht(u,h),gp(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return cr(this.latestValues)&&gp(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),yi(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ht(this.target,this.layout.layoutBox),Qy(this.target,this.targetDelta)):ht(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),yi(this.relativeTargetOrigin,this.target,f.target),ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Rd(this.parent.latestValues)||Yy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===De.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ht(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;dC(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ye());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mp(this.prevProjectionDelta.x,this.projectionDelta.x),mp(this.prevProjectionDelta.y,this.projectionDelta.y)),xi(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!bp(this.projectionDelta.x,this.prevProjectionDelta.x)||!bp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nn(),this.projectionDelta=nn(),this.projectionDeltaWithTransform=nn()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=nn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ye(),f=c?c.source:void 0,p=this.layout?this.layout.source:void 0,v=f!==p,_=this.getStack(),g=!_||_.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(B4));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const N=b/1e3;kp(h.x,o.x,N),kp(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yi(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z4(this.relativeTarget,this.relativeTargetOrigin,m,N),x&&C4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ye()),ht(x,this.relativeTarget)),v&&(this.animationValues=u,b4(u,d,this.latestValues,N,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{Ja.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jn(0)),this.currentAnimation=g4(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&vv(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ye();const h=We(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=We(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ht(l,c),rn(l,u),xi(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new E4),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&ic("z",o,d,this.animationValues);for(let u=0;u<nc.length;u++)ic(`rotate${nc[u]}`,o,d,this.animationValues),ic(`skew${nc[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Qa(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Qa(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!cr(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=A4(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:f}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in zi){if(u[p]===void 0)continue;const{correct:v,applyTo:_,isCSSVariable:g}=zi[p],y=h==="none"?u[p]:v(u[p],d);if(_){const x=_.length;for(let b=0;b<x;b++)o[_[b]]=y}else g?this.options.visualElement.renderState.vars[p]=y:o[p]=y}this.options.layoutId&&(o.pointerEvents=d===this?Qa(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(jp),this.root.sharedNodes.clear()}}}function D4(e){e.updateLayout()}function R4(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?mt(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],f=We(m);m.min=r[h].min,m.max=m.min+f}):vv(a,t.layoutBox,r)&&mt(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],f=We(r[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=nn();xi(l,r,t.layoutBox);const c=nn();o?xi(c,e.applyTransform(i,!0),t.measuredBox):xi(c,r,t.layoutBox);const d=!pv(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const p=ye();yi(p,t.layoutBox,m.layoutBox);const v=ye();yi(v,r,f.layoutBox),gv(p,v)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function O4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function I4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function L4(e){e.clearSnapshot()}function jp(e){e.clearMeasurements()}function Np(e){e.isLayoutDirty=!1}function F4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _p(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function M4(e){e.resolveTargetDelta()}function $4(e){e.calcProjection()}function U4(e){e.resetSkewAndRotation()}function V4(e){e.removeLeadSnapshot()}function kp(e,t,s){e.translate=ue(t.translate,0,s),e.scale=ue(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Sp(e,t,s,r){e.min=ue(t.min,s.min,r),e.max=ue(t.max,s.max,r)}function z4(e,t,s,r){Sp(e.x,t.x,s.x,r),Sp(e.y,t.y,s.y,r)}function B4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const q4={duration:.45,ease:[.4,0,.1,1]},Cp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ep=Cp("applewebkit/")&&!Cp("chrome/")?Math.round:vt;function Ap(e){e.min=Ep(e.min),e.max=Ep(e.max)}function W4(e){Ap(e.x),Ap(e.y)}function vv(e,t,s){return e==="position"||e==="preserve-aspect"&&!JC(wp(t),wp(s),.2)}function H4(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const K4=yv({attachResizeListener:(e,t)=>Bi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ac={current:void 0},wv=yv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ac.current){const e=new K4({});e.mount(window),e.setOptions({layoutScroll:!0}),ac.current=e}return ac.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),G4={pan:{Feature:h4},drag:{Feature:u4,ProjectionNode:wv,MeasureLayout:hv}};function Pp(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&le.postRender(()=>a(t,ia(t)))}class Y4 extends Zs{mount(){const{current:t}=this.node;t&&(this.unmount=bS(t,(s,r)=>(Pp(this.node,r,"Start"),i=>Pp(this.node,i,"End"))))}unmount(){}}class Q4 extends Zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sa(Bi(this.node.current,"focus",()=>this.onFocus()),Bi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tp(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&le.postRender(()=>a(t,ia(t)))}class J4 extends Zs{mount(){const{current:t}=this.node;t&&(this.unmount=kS(t,(s,r)=>(Tp(this.node,r,"Start"),(i,{success:a})=>Tp(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ud=new WeakMap,oc=new WeakMap,X4=e=>{const t=Ud.get(e.target);t&&t(e)},Z4=e=>{e.forEach(X4)};function eE({root:e,...t}){const s=e||document;oc.has(s)||oc.set(s,{});const r=oc.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Z4,{root:e,...t})),r[i]}function tE(e,t,s){const r=eE(t);return Ud.set(e,s),r.observe(e),()=>{Ud.delete(e),r.unobserve(e)}}const sE={some:0,all:1};class rE extends Zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sE[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return tE(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(nE(t,s))&&this.startObserver()}unmount(){}}function nE({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const iE={inView:{Feature:rE},tap:{Feature:J4},focus:{Feature:Q4},hover:{Feature:Y4}},aE={layout:{ProjectionNode:wv,MeasureLayout:hv}},oE={...WC,...iE,...G4,...aE},lc=oC(oE,wC),lE="/assets/company-hero-OvpvrqBF.jpg";function cE(){return n.jsxs("div",{className:"bg-[#FDFBF8] text-gray-800",children:[n.jsxs("section",{className:"relative h-[70vh] flex items-center justify-center bg-cover bg-center",style:{backgroundImage:`url(${lE})`},children:[n.jsx("div",{className:"absolute inset-0 bg-black/40"}),n.jsx(lc.h1,{className:"relative z-10 text-white text-3xl sm:text-4xl md:text-5xl font-bold text-center px-4",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:1},children:"Know About Us More"})]}),n.jsx("section",{className:"py-12 sm:py-16 lg:py-20 max-w-6xl mx-auto px-4 sm:px-6",children:n.jsx("div",{className:"grid md:grid-cols-2 gap-8 sm:gap-12 text-center",children:[{title:"Our Vision",text:"We believe that true wellness begins with what we eat. Our malt powder is crafted to nourish the body and soul..."},{title:"Our Mission",text:"Our mission is to empower well-being through nutrient-rich, food-first nourishment that honors the body's wisdom..."}].map((e,t)=>n.jsxs(lc.div,{className:"bg-white shadow-lg p-6 sm:p-8 rounded-2xl",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:t*.2},children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold mb-3 sm:mb-4 text-[#4A5C3D]",children:e.title}),n.jsx("p",{className:"text-base sm:text-lg leading-relaxed",children:e.text})]},t))})}),n.jsxs(lc.footer,{className:"bg-gray-100 py-10 text-center text-sm text-gray-600",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},children:[n.jsx("p",{children:"Manufactured by: Sree Shivani Foods"}),n.jsx("p",{children:"FSSAI No: 11225313000263 | ISO Certified"}),n.jsx("p",{children:"#5187/A-22, Banashankari Badavane Davangere-577004, Karnataka"}),n.jsx("p",{className:"mt-4",children:" 2025 Devanagari Health Mix. All rights reserved."})]})]})}const dE=()=>{const{showSuccess:e}=Zt(),[t,s]=w.useState({name:"",email:"",subject:"",message:""}),r=a=>{s(o=>({...o,[a.target.name]:a.target.value}))},i=a=>{a.preventDefault(),console.log("Form submitted:",t),e("Message Sent","Thank you for your message! We'll get back to you soon."),s({name:"",email:"",subject:"",message:""})};return n.jsxs("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:[n.jsxs("div",{className:"px-4 py-12 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-12 text-center sm:mb-16",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#4A5C3D] mb-3 sm:mb-4",children:"Get in Touch"}),n.jsx("p",{className:"max-w-2xl px-4 mx-auto text-lg text-gray-700 sm:text-xl",children:"We'd love to hear from you. Reach out with any questions or feedback."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2 sm:gap-12",children:[n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#4A5C3D] mb-6 sm:mb-8",children:"Contact Information"}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex items-start p-4 space-x-3 bg-white shadow-lg sm:space-x-4 sm:p-6 rounded-xl",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#4A5C3D] rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(Pr,{className:"text-white sm:w-5 sm:h-5",size:18})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-[#4A5C3D] text-sm sm:text-base",children:"Address"}),n.jsx("p",{className:"text-sm text-gray-700 sm:text-base",children:"#5187/A-22, Banashankari Badavane Davangere-577004, Karnataka"})]})]}),n.jsxs("div",{className:"flex items-start p-4 space-x-3 bg-white shadow-lg sm:space-x-4 sm:p-6 rounded-xl",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#A88B67] rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(qu,{className:"text-white sm:w-5 sm:h-5",size:18})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-[#4A5C3D] text-sm sm:text-base",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-700 sm:text-base",children:"sreeshivanifoods@gmail.com"})]})]}),n.jsxs("div",{className:"flex items-start p-4 space-x-3 bg-white shadow-lg sm:space-x-4 sm:p-6 rounded-xl",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#4A5C3D] rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(Wu,{className:"text-white sm:w-5 sm:h-5",size:18})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-[#4A5C3D] text-sm sm:text-base",children:"Phone"}),n.jsx("p",{className:"text-sm text-gray-700 sm:text-base",children:"9964560622"})]})]})]})]}),n.jsxs("div",{className:"bg-[#E6D9C5] p-6 rounded-xl",children:[n.jsx("h3",{className:"text-xl font-bold text-[#4A5C3D] mb-4",children:"Business Hours"}),n.jsxs("div",{className:"space-y-2 text-gray-700",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Monday - Friday:"}),n.jsx("span",{children:"9:00 AM - 6:00 PM"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Saturday:"}),n.jsx("span",{children:"10:00 AM - 4:00 PM"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Sunday:"}),n.jsx("span",{children:"Closed"})]})]})]})]}),n.jsxs("form",{onSubmit:i,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-[#4A5C3D] mb-2",children:"Your Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:r,required:!0,className:`w-full px-4 py-3 border border-gray-300 rounded-lg 
                focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent transition-all`,placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-[#4A5C3D] mb-2",children:"Your Email *"}),n.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:r,required:!0,className:`w-full px-4 py-3 border border-gray-300 rounded-lg 
                focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent transition-all`,placeholder:"Enter your email address"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-semibold text-[#4A5C3D] mb-2",children:"Subject *"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:r,required:!0,className:`w-full px-4 py-3 border border-gray-300 rounded-lg 
                focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent transition-all`,placeholder:"What's this about?"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-[#4A5C3D] mb-2",children:"Your Message *"}),n.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:r,required:!0,rows:6,className:`w-full px-4 py-3 border border-gray-300 rounded-lg 
                focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent transition-all resize-none`,placeholder:"Tell us how we can help you..."})]}),n.jsxs("button",{type:"submit",className:`w-full bg-[#4A5C3D] text-white py-4 rounded-lg font-semibold 
              hover:bg-[#3a4a2f] transition-colors duration-200 flex items-center justify-center 
              space-x-2 shadow-lg hover:shadow-xl`,children:[n.jsx(W1,{size:20}),n.jsx("span",{children:"Send Message"})]}),n.jsx("div",{className:"text-center pt-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["By submitting this form, you agree to our"," ",n.jsx("a",{href:"/terms",className:"text-[#4A5C3D] hover:text-[#3a4a2f] underline font-medium transition-colors",children:"Terms and Conditions"})]})})]})]})]}),n.jsx("section",{className:"py-20 bg-[#E6D9C5]",children:n.jsxs("div",{className:"px-4 mx-auto text-center max-w-7xl sm:px-6 lg:px-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-[#4A5C3D] mb-8",children:"We're Here to Help"}),n.jsx("p",{className:"max-w-3xl mx-auto mb-8 text-lg text-gray-700",children:"Whether you have questions about our ingredients, need help with your order, or want to learn more about incorporating Devanagari Health Mix into your wellness routine, our team is ready to assist."}),n.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[n.jsxs("div",{className:"p-6 bg-white shadow-lg rounded-xl",children:[n.jsx("h3",{className:"font-bold text-[#4A5C3D] mb-2",children:"Product Questions"}),n.jsx("p",{className:"text-gray-600",children:"Learn about ingredients and preparation"})]}),n.jsxs("div",{className:"p-6 bg-white shadow-lg rounded-xl",children:[n.jsx("h3",{className:"font-bold text-[#4A5C3D] mb-2",children:"Order Support"}),n.jsx("p",{className:"text-gray-600",children:"Help with orders and shipping"})]}),n.jsxs("div",{className:"p-6 bg-white shadow-lg rounded-xl",children:[n.jsx("h3",{className:"font-bold text-[#4A5C3D] mb-2",children:"Wellness Guidance"}),n.jsx("p",{className:"text-gray-600",children:"Tips for your health journey"})]})]})]})})]})},uE=()=>n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:n.jsxs("div",{className:"px-4 py-12 mx-auto max-w-4xl sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs(Q,{to:"/contact",className:"inline-flex items-center text-[#4A5C3D] hover:text-[#3a4a2f] transition-colors mb-6",children:[n.jsx(Us,{size:20,className:"mr-2"}),"Back to Contact"]}),n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-[#4A5C3D] rounded-full flex items-center justify-center mr-4",children:n.jsx(F1,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-[#4A5C3D]",children:"Terms and Conditions"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 space-y-8",children:[n.jsx("div",{className:"border-l-4 border-[#4A5C3D] pl-6",children:n.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Welcome to ",n.jsx("strong",{children:"SREE SHIVANI FOODS"}),". By accessing or using our website,"," ",n.jsx("a",{href:"https://www.sreeshivanifoods.com",className:"text-[#4A5C3D] hover:underline font-semibold",target:"_blank",rel:"noopener noreferrer",children:"www.sreeshivanifoods.com"}),", you agree to comply with and be bound by the following Terms and Conditions. Please read them carefully before using our Website or purchasing our products."]})}),n.jsxs("section",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4 flex items-center",children:[n.jsx(q1,{className:"mr-3",size:24}),"1. General Information"]}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["We are a food manufacturing and distribution company based in"," ",n.jsx("strong",{children:"DAVANAGERE"}),"."]}),n.jsx("p",{children:"All products displayed on this Website are manufactured, packed, and distributed in accordance with applicable Food Safety and Standards Authority of India (FSSAI) guidelines and other relevant regulations."}),n.jsx("p",{children:"By using this Website, you confirm that you are at least 18 years old or accessing under the supervision of a parent/guardian."})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"2. Use of Website"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"You agree to use this Website only for lawful purposes."}),n.jsx("p",{children:"You may not misuse the Website by introducing viruses, trojans, or any malicious technology."}),n.jsx("p",{children:"Unauthorized use of this Website may give rise to legal claims and/or be a criminal offense."})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"3. Product Information & Disclaimer"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We make every effort to provide accurate product descriptions, images, nutritional details, and ingredients. However, minor variations may occur."}),n.jsx("p",{children:"Our food products may contain or be processed in facilities handling nuts, gluten, dairy, soy, or other allergens. Customers are responsible for reviewing ingredient lists before consumption."}),n.jsxs("div",{className:"bg-[#FFF3CD] border border-[#FFEAA7] rounded-lg p-4",children:[n.jsx("p",{className:"font-semibold text-[#856404] mb-2",children:"Important Storage Notice:"}),n.jsxs("p",{className:"text-[#856404]",children:["The respective shelf life offered is only valid if the product is kept in airtight containers as suggested."," ",n.jsx("strong",{children:"WE DO NOT ASSURE THE SAME SHELF LIFE IF THE PRODUCT IS EXPOSED TO MOISTURE AND NOT STORED IN THE SUGGESTED CONDITIONS."})]})]}),n.jsx("p",{children:"We do not guarantee that the products will meet your specific dietary requirements unless explicitly stated."})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"4. Orders, Pricing & Payments"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["All prices displayed are in ",n.jsx("strong",{children:"INR"})," and subject to change without prior notice."]}),n.jsx("p",{children:"Orders are considered confirmed only after successful payment and acknowledgment from us."}),n.jsx("p",{children:"We reserve the right to refuse, cancel, or limit orders at our discretion (e.g., due to incorrect pricing, product unavailability, or suspected fraudulent activity)."})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"5. Shipping & Delivery"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"Delivery timelines mentioned on the Website are estimates and may vary due to factors beyond our control."}),n.jsx("p",{children:"Risk of loss and title for products pass to the customer upon delivery."}),n.jsx("p",{children:"We are not liable for delays, damages, or losses caused by courier/logistics providers."})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"6. Returns & Refunds"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"Due to the perishable nature of our products, returns are generally not accepted unless:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"The product is damaged during delivery,"}),n.jsx("li",{children:"The product delivered is incorrect, or"}),n.jsx("li",{children:"The product is expired at the time of delivery."})]}),n.jsxs("div",{className:"bg-[#E8F5E8] border border-[#C3E6C3] rounded-lg p-4",children:[n.jsx("p",{className:"font-semibold text-[#2D5A2D] mb-2",children:"Return/Refund Process:"}),n.jsxs("p",{className:"text-[#2D5A2D]",children:["For returns or refunds, one has to send a detailed description mentioning order details and valid reason for return or refund to our email or WhatsApp."," ",n.jsx("strong",{children:"EXCHANGE will be offered in the first case, and will be refunded ONLY IF THE PRODUCT IS UNAVAILABLE at the moment."})]})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"7. Intellectual Property"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["All content on this Website, including but not limited to text, logos, product images, recipes, graphics, and design, is the property of ",n.jsx("strong",{children:"SREE SHIVANI FOODS"})," and protected under applicable copyright and trademark laws."]}),n.jsx("p",{children:"You may not reproduce, distribute, or use any content from this Website without prior written consent."})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"8. Limitation of Liability"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["To the maximum extent permitted by law,"," ",n.jsx("strong",{children:"SREE SHIVANI FOODS"})," shall not be held liable for:"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Any direct, indirect, incidental, or consequential damages arising from the use of our products or Website."}),n.jsx("li",{children:"Any allergic reactions, health conditions, or adverse effects resulting from the consumption of our products, unless caused by proven negligence on our part."})]}),n.jsx("p",{children:n.jsx("strong",{children:"Customers are solely responsible for ensuring that products are suitable for their consumption."})})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"9. Privacy & Data Protection"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We respect your privacy. Information collected on this Website (such as name, contact details, and payment information) is used only for processing orders and improving services."}),n.jsx("p",{children:"We will not share or sell your personal data to third parties, except where required by law or necessary for order fulfillment (e.g., logistics partners)."}),n.jsx("p",{children:"For more details, refer to our Privacy Policy."})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"10. Governing Law & Jurisdiction"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of India."}),n.jsx("p",{children:"Any disputes shall be subject to the exclusive jurisdiction of the courts at Karnataka."})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"11. Modifications"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We reserve the right to amend these Terms at any time without prior notice."}),n.jsx("p",{children:"Continued use of the Website after changes constitutes acceptance of the revised Terms."})]})]}),n.jsxs("div",{className:"bg-[#E6D9C5] rounded-lg p-6 mt-8",children:[n.jsx("h3",{className:"text-xl font-bold text-[#4A5C3D] mb-4",children:"Contact Us"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions about these Terms and Conditions, please contact us:"}),n.jsxs("div",{className:"space-y-2 text-gray-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," sreeshivanifoods@gamil.com"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," 9964560622"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," #5187/A-22, Banashankari Badavane, Davangere-577004, Karnataka"]})]})]})]})]})}),hE=()=>{var d,u,h,m,f;const{user:e}=ut(),{showError:t}=Zt(),[s,r]=w.useState([]),[i,a]=w.useState(!0),[o,l]=w.useState(!1);w.useEffect(()=>{(async()=>{if(e)try{console.log(" Fetching user orders..."),console.log("User ID:",e.id);const v=await qt.getUserOrders(e.id);console.log(" Orders fetched:",v.length),r(v)}catch(v){console.error(" Error fetching orders:",v),t("Order History Error","Failed to load your order history. Please try again."),r([])}finally{console.log(" Orders fetch completed - setting loading to false"),a(!1)}})()},[e]);const c=async()=>{if(e){l(!0);try{console.log(" Refreshing user orders...");const p=await qt.getUserOrders(e.id);console.log(" Orders refreshed:",p.length),r(p)}catch(p){console.error(" Error refreshing orders:",p),t("Refresh Error","Failed to refresh order history. Please try again.")}finally{l(!1)}}};return e?n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsx("div",{className:"mb-6",children:n.jsx(Zu,{text:"Back to Home"})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 space-y-4 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[(d=e.user_metadata)!=null&&d.avatar_url?n.jsx("img",{src:e.user_metadata.avatar_url,alt:e.user_metadata.full_name||"User",className:"h-16 w-16 rounded-full border-2 border-[#4A5C3D] shadow-lg object-cover",onError:p=>{var v;p.currentTarget.style.display="none",(v=p.currentTarget.nextElementSibling)==null||v.classList.remove("hidden")}}):null,n.jsx("div",{className:`h-16 w-16 rounded-full bg-gray-200 border-2 border-[#4A5C3D] flex items-center justify-center flex-shrink-0 ${(u=e.user_metadata)!=null&&u.avatar_url?"hidden":""}`,children:n.jsx("span",{className:"text-2xl font-bold text-[#4A5C3D]",children:(((h=e.user_metadata)==null?void 0:h.full_name)||e.email||"U").charAt(0).toUpperCase()})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-[#4A5C3D] truncate",children:((m=e.user_metadata)==null?void 0:m.full_name)||"User"}),n.jsx("div",{className:"text-base sm:text-lg text-gray-600 truncate",children:e.email})]})]}),n.jsx("div",{className:"flex justify-end sm:justify-start",children:n.jsxs(Q,{to:"/settings",className:"bg-[#4A5C3D] text-white px-4 py-2 rounded-lg hover:bg-[#3a4a2f] transition-colors flex items-center space-x-2 text-sm sm:text-base",children:[n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.jsx("span",{children:"Settings"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow p-4 sm:p-6 border border-gray-100 mb-8",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[#4A5C3D] mb-4",children:"Profile Information"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),n.jsx("div",{className:"text-base sm:text-lg text-[#4A5C3D] font-medium truncate",children:((f=e.user_metadata)==null?void 0:f.full_name)||"Not provided"})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),n.jsx("div",{className:"text-base sm:text-lg text-[#4A5C3D] font-medium truncate",children:e.email||"Not provided"})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[n.jsx("span",{className:"font-medium",children:"Note:"})," Your profile information is automatically synced from your account. To update your name or photo, please change it in your account settings."]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow p-4 sm:p-6 border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 space-y-2 sm:space-y-0",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[#4A5C3D]",children:"Order History"}),n.jsx("button",{onClick:c,disabled:o||i,className:"text-[#4A5C3D] hover:text-[#3a4a2f] disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-1",children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-[#4A5C3D]"}),n.jsx("span",{children:"Refreshing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:"Refresh"})]})})]}),i?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4A5C3D] mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]}):s.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"No orders yet"}),n.jsx("a",{href:"/shop",className:"inline-block bg-[#4A5C3D] text-white px-4 py-2 rounded-lg hover:bg-[#3a4a2f] transition-colors",children:"Start Shopping"})]}):n.jsx("div",{className:"space-y-4",children:s.map(p=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-[#4A5C3D] transition-colors",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-[#4A5C3D]",children:["Order #",p.id.slice(0,8)]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(p.created_at).toLocaleDateString()}),p.payment_id&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Payment ID: ",p.payment_id.slice(0,20),"..."]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-semibold text-[#4A5C3D]",children:["",p.total.toFixed(2)," ",p.currency||"INR"]}),n.jsxs("div",{className:"flex space-x-1 mt-1",children:[n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${p.status==="pending"?"bg-yellow-100 text-yellow-800":p.status==="processing"?"bg-blue-100 text-blue-800":p.status==="shipped"?"bg-purple-100 text-purple-800":p.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)}),p.payment_status&&n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${p.payment_status==="paid"?"bg-green-100 text-green-800":p.payment_status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:p.payment_status.charAt(0).toUpperCase()+p.payment_status.slice(1)})]})]})]}),n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Order Total"}),n.jsxs("span",{children:["",p.total.toFixed(2)," ",p.currency||"INR"]})]}),p.order_items&&p.order_items.length>0?p.order_items.map(v=>{var _;return n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:[v.product_name||((_=v.product)==null?void 0:_.name)||"Product"," "," ",v.quantity]}),n.jsxs("span",{children:["",v.product_price.toFixed(2)," ",p.currency||"INR"]})]},v.id)}):n.jsx("div",{className:"text-sm text-gray-500",children:"Order items not loaded (simplified view)"})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[n.jsxs("div",{className:"flex space-x-2 text-xs text-gray-500",children:[p.payment_method&&n.jsxs("span",{children:["Payment: ",p.payment_method]}),p.currency&&n.jsxs("span",{children:["Currency: ",p.currency]})]}),n.jsx(Q,{to:`/order/${p.id}`,className:"text-sm text-[#4A5C3D] hover:text-[#3a4a2f] font-medium",children:"View Details "})]})]},p.id))})]}),n.jsx("div",{className:"bg-white rounded-xl shadow p-4 sm:p-6 border border-gray-100",children:n.jsx(B0,{})})]})]})}):n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-gray-600",children:"Please sign in to view your profile"})})})},mE=()=>{const{user:e,updateUser:t,refreshUser:s}=ut(),{showSuccess:r,showError:i,showWarning:a}=Zt(),o=Qs(),[l]=_1(),[c,d]=w.useState("profile"),[u,h]=w.useState(!1),[m,f]=w.useState(!1),[p,v]=w.useState(!1),[_,g]=w.useState(null),[y,x]=w.useState({full_name:"",email:"",phone:""}),[b,N]=w.useState([]),[S,C]=w.useState(!1),[j,k]=w.useState(null),[A,P]=w.useState({name:"",phone:"",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"India",is_default:!1}),[M,B]=w.useState(null),[O,J]=w.useState(null);w.useEffect(()=>{var T,U,re,we;e&&(x({full_name:((T=e.user_metadata)==null?void 0:T.full_name)||"",email:e.email||"",phone:((U=e.user_metadata)==null?void 0:U.phone)||((re=e.user_metadata)==null?void 0:re.phone_number)||""}),J(((we=e.user_metadata)==null?void 0:we.avatar_url)||null))},[e]),w.useEffect(()=>{l.get("tab")==="addresses"&&d("addresses")},[l]),w.useEffect(()=>{e&&ee()},[e]);const ee=async()=>{if(e){h(!0);try{const{data:T,error:U}=await D.from("user_addresses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(U)throw U;N(T||[])}catch(T){console.error("Error fetching addresses:",T),i("Address Error","Failed to load addresses")}finally{h(!1)}}},K=async T=>{try{if(console.log(" Starting avatar upload..."),console.log(" File details:",{name:T.name,size:T.size,type:T.type}),T.size>2*1024*1024)throw console.error(" File too large:",T.size,"bytes"),new Error("File size must be less than 2MB");const U=T.name.split(".").pop(),we=`${e==null?void 0:e.id}-${Date.now()}.${U}`;console.log(" Uploading to path:",we);const Ie=D.storage.from("avatars").upload(we,T),rt=new Promise((Dh,aa)=>setTimeout(()=>aa(new Error("Avatar upload timeout")),15e3)),{error:es}=await Promise.race([Ie,rt]);if(es)throw console.error(" Upload error:",es),es.message.includes("not found")||es.message.includes("bucket")?(console.error(" Avatars bucket not found. Please create a 'avatars' bucket in Supabase Storage."),new Error("Storage bucket 'avatars' not found. Please contact administrator.")):es;const{data:er}=D.storage.from("avatars").getPublicUrl(we);return console.log(" Avatar uploaded successfully:",er.publicUrl),er.publicUrl}catch(U){return console.error(" Error uploading avatar:",U),null}},E=async()=>{var T;if(e){console.log(" Starting profile update..."),f(!0);try{let U=(T=e.user_metadata)==null?void 0:T.avatar_url;if(M){console.log(" Uploading avatar to storage...");try{const Ie=await K(M);Ie?(U=Ie,console.log(" Avatar uploaded successfully:",Ie)):console.warn(" Avatar upload failed, using existing avatar")}catch(Ie){console.warn(" Avatar upload failed, continuing without avatar update:",Ie)}}console.log(" Saving profile to database..."),console.log(" Profile data being saved:",{id:e.id,email:e.email||"",name:y.full_name,avatar_url:U});const re=vd.createOrUpdateUser({id:e.id,email:e.email||"",name:y.full_name,avatar_url:U}),we=new Promise((Ie,rt)=>setTimeout(()=>rt(new Error("Database save timeout")),1e4));try{await Promise.race([re,we]),console.log(" Profile successfully saved to database!"),await s()}catch(Ie){console.warn(" Database save failed, updating local state only:",Ie);const rt={...e,user_metadata:{...e.user_metadata,full_name:y.full_name,phone:y.phone,phone_number:y.phone,name:y.full_name,avatar_url:U}};t(rt)}console.log(" Profile updated in database and refreshed locally!"),r("Profile Updated","Your profile has been updated successfully!"),B(null),setTimeout(()=>{o("/profile")},1500)}catch(U){console.error(" Error updating profile:",U);let re="Failed to update profile";U instanceof Error&&(U.message.includes("timeout")?re="Profile update timed out. Please try again.":U.message.includes("Database")?re="Database connection issue. Please try again.":re=`Error: ${U.message}`),i("Profile Update Failed",re)}finally{console.log(" Profile update process finished - setting saving to false"),f(!1)}}},F=async T=>{if(T.preventDefault(),!!e){f(!0);try{if(j){const{error:U}=await D.from("user_addresses").update(A).eq("id",j.id).eq("user_id",e.id);if(U)throw U;r("Address Updated","Address updated successfully!")}else{const{error:U}=await D.from("user_addresses").insert({...A,user_id:e.id});if(U)throw U;r("Address Added","Address added successfully!")}P({name:"",phone:"",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"India",is_default:!1}),C(!1),k(null),ee()}catch(U){console.error("Error saving address:",U),i("Address Error","Failed to save address")}finally{f(!1)}}},I=T=>{g(T),v(!0)},V=async()=>{if(!(!e||!_)){f(!0);try{const{error:T}=await D.from("user_addresses").delete().eq("id",_).eq("user_id",e.id);if(T)throw T;r("Address Deleted","Address deleted successfully!"),ee()}catch(T){console.error("Error deleting address:",T),i("Delete Error","Failed to delete address")}finally{f(!1),v(!1),g(null)}}},W=async T=>{if(e){f(!0);try{await D.from("user_addresses").update({is_default:!1}).eq("user_id",e.id);const{error:U}=await D.from("user_addresses").update({is_default:!0}).eq("id",T).eq("user_id",e.id);if(U)throw U;r("Default Address Updated","Default address updated!"),ee()}catch(U){console.error("Error setting default address:",U),i("Update Error","Failed to update default address")}finally{f(!1)}}},xe=T=>{P({name:T.name,phone:T.phone,address_line_1:T.address_line_1,address_line_2:T.address_line_2||"",city:T.city,state:T.state,postal_code:T.postal_code,country:T.country,is_default:T.is_default}),k(T),C(!0)},fe=T=>{var re;const U=(re=T.target.files)==null?void 0:re[0];if(U){B(U);const we=new FileReader;we.onload=Ie=>{var rt;J((rt=Ie.target)==null?void 0:rt.result)},we.readAsDataURL(U)}};return e?n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsx("div",{className:"mb-6",children:n.jsx(Zu,{text:"Back to Profile"})}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-[#4A5C3D] mb-2",children:"Settings"}),n.jsx("p",{className:"text-gray-600",children:"Manage your profile and addresses"})]}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsx("button",{onClick:()=>d("profile"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="profile"?"border-[#4A5C3D] text-[#4A5C3D]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Profile Settings"}),n.jsx("button",{onClick:()=>d("addresses"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="addresses"?"border-[#4A5C3D] text-[#4A5C3D]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Address Management"})]})})}),c==="profile"&&n.jsxs("div",{className:"bg-white rounded-xl shadow p-6 border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-[#4A5C3D] mb-6",children:"Profile Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[O?n.jsx("img",{src:O,alt:"Profile",className:"h-20 w-20 rounded-full border-2 border-[#4A5C3D] object-cover",onError:T=>{var U;T.currentTarget.style.display="none",(U=T.currentTarget.nextElementSibling)==null||U.classList.remove("hidden")}}):null,n.jsx("div",{className:`h-20 w-20 rounded-full bg-gray-200 border-2 border-[#4A5C3D] flex items-center justify-center flex-shrink-0 ${O?"hidden":""}`,children:n.jsx("span",{className:"text-2xl font-bold text-[#4A5C3D]",children:y.full_name.charAt(0).toUpperCase()||"U"})})]}),n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",onChange:fe,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-[#4A5C3D] file:text-white hover:file:bg-[#3a4a2f]"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 2MB."})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:y.full_name,onChange:T=>x({...y,full_name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:y.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed. Contact support if needed."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:y.phone,onChange:T=>x({...y,phone:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Enter your phone number"})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{onClick:E,disabled:m,className:"bg-[#4A5C3D] text-white px-6 py-2 rounded-lg hover:bg-[#3a4a2f] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":"Save Changes"})})]})]}),c==="addresses"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-[#4A5C3D]",children:"Address Management"}),n.jsx("button",{onClick:()=>{C(!0),k(null),P({name:"",phone:"",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"India",is_default:!1})},className:"bg-[#4A5C3D] text-white px-4 py-2 rounded-lg hover:bg-[#3a4a2f] transition-colors",children:"Add New Address"})]}),S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#4A5C3D]",children:j?"Edit Address":"Add New Address"}),n.jsx("button",{onClick:()=>{C(!1),k(null)},className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("form",{onSubmit:F,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),n.jsx("input",{type:"text",required:!0,value:A.name,onChange:T=>P({...A,name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),n.jsx("input",{type:"tel",required:!0,value:A.phone,onChange:T=>P({...A,phone:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),n.jsx("input",{type:"text",required:!0,value:A.address_line_1,onChange:T=>P({...A,address_line_1:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Street address, P.O. box, etc."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),n.jsx("input",{type:"text",value:A.address_line_2,onChange:T=>P({...A,address_line_2:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Apartment, suite, unit, building, floor, etc."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",required:!0,value:A.city,onChange:T=>P({...A,city:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"City"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),n.jsx("input",{type:"text",required:!0,value:A.state,onChange:T=>P({...A,state:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"State"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),n.jsx("input",{type:"text",required:!0,value:A.postal_code,onChange:T=>P({...A,postal_code:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"Postal code"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),n.jsxs("select",{required:!0,value:A.country,onChange:T=>P({...A,country:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",children:[n.jsx("option",{value:"India",children:"India"}),n.jsx("option",{value:"United States",children:"United States"}),n.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),n.jsx("option",{value:"Canada",children:"Canada"}),n.jsx("option",{value:"Australia",children:"Australia"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"is_default",checked:A.is_default,onChange:T=>P({...A,is_default:T.target.checked}),className:"h-4 w-4 text-[#4A5C3D] focus:ring-[#4A5C3D] border-gray-300 rounded"}),n.jsx("label",{htmlFor:"is_default",className:"ml-2 block text-sm text-gray-700",children:"Set as default address"})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"submit",disabled:m,className:"flex-1 bg-[#4A5C3D] text-white py-2 rounded-lg hover:bg-[#3a4a2f] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":j?"Update Address":"Add Address"}),n.jsx("button",{type:"button",onClick:()=>{C(!1),k(null)},className:"flex-1 bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})})}),u?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4A5C3D] mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading addresses..."})]}):b.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow p-6 border border-gray-100 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"No addresses saved yet"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add your first address to make checkout faster"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(T=>n.jsxs("div",{className:"bg-white rounded-xl shadow p-6 border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-[#4A5C3D]",children:T.name}),T.is_default&&n.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full mt-1",children:"Default"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>xe(T),className:"text-[#4A5C3D] hover:text-[#3a4a2f] text-sm",children:"Edit"}),n.jsx("button",{onClick:()=>I(T.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("p",{children:T.address_line_1}),T.address_line_2&&n.jsx("p",{children:T.address_line_2}),n.jsxs("p",{children:[T.city,", ",T.state," ",T.postal_code]}),n.jsx("p",{children:T.country}),n.jsx("p",{className:"font-medium",children:T.phone})]}),!T.is_default&&n.jsx("button",{onClick:()=>W(T.id),className:"mt-4 text-sm text-[#4A5C3D] hover:text-[#3a4a2f] font-medium",children:"Set as Default"})]},T.id))})]}),n.jsx(Xu,{isOpen:p,onClose:()=>v(!1),onConfirm:V,title:"Delete Address",message:"Are you sure you want to delete this address? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"warning",isLoading:m})]})}):n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-gray-600",children:"Please sign in to view settings"})})})},fE=()=>{var S,C;const{orderId:e}=Rj(),{user:t}=ut(),{showSuccess:s,showError:r,showInfo:i}=Zt(),a=Qs(),[o,l]=w.useState(null),[c,d]=w.useState(!0),[u,h]=w.useState(null),[m,f]=w.useState(null);w.useEffect(()=>{(async()=>{if(!e||!t){h("Order ID or user not found"),d(!1);return}try{const A=(await qt.getUserOrders(t.id)).find(P=>P.id===e);A?l(A):h("Order not found")}catch(k){console.error("Error fetching order:",k),h("Failed to load order details")}finally{d(!1)}})()},[e,t]);const p=async j=>{if(o){f(j);try{j==="cancel"?await _():(await new Promise(k=>setTimeout(k,1e3)),s("Request Submitted",`${j.charAt(0).toUpperCase()+j.slice(1)} request submitted successfully!`))}catch(k){console.error(`Error ${j}ing order:`,k),r("Action Failed",`Failed to ${j} order. Please try again.`)}finally{f(null)}}},v=async()=>{if(!(!e||!t))try{const k=(await qt.getUserOrders(t.id)).find(A=>A.id===e);k&&l(k)}catch(j){console.error("Error refetching order:",j)}},_=async()=>{if(!o)throw new Error("Order not found");if(!o.payment_id){await qt.cancelOrder(o.id),await v(),s("Order Cancelled","Order cancelled successfully!"),setTimeout(()=>{a("/profile")},2e3);return}try{console.log(" Processing refund for order:",{order_id:o.id,payment_id:o.payment_id,order_total:o.total,refund_amount_inr:o.total,refund_amount_paise:Math.round(o.total*100)});const j=await br.processRefund(o.payment_id,o.total,"Order cancelled by customer","normal"),k={refund_id:j.id,refund_amount:j.amount/100,refund_reason:"Order cancelled by customer",refund_status:j.status,refunded_at:new Date(j.created_at*1e3).toISOString()};await qt.cancelOrder(o.id,k),await v(),s("Order Cancelled",`Order cancelled successfully!

Refund ID: ${j.id}
Refund Amount: ${o.total.toFixed(2)}

Your refund will be processed within 5-7 business days.`),setTimeout(()=>{a("/profile")},2e3)}catch(j){console.error(" Error processing cancellation:",j);let k="Unknown error occurred";j instanceof Error&&(k=j.message,console.error(" Error details:",{message:j.message,stack:j.stack,paymentId:o.payment_id,orderId:o.id,total:o.total})),o.payment_status==="paid"?(await qt.cancelOrder(o.id),await v(),r("Refund Processing Failed",`Order cancelled, but refund processing failed.

Error: ${k}

Please contact support with Order ID: ${o.id}`),setTimeout(()=>{a("/profile")},2e3)):(await qt.cancelOrder(o.id),await v(),s("Order Cancelled","Order cancelled successfully!"),setTimeout(()=>{a("/profile")},2e3))}},g=(j,k)=>{if(k==="failed")return n.jsx(Ht,{className:"w-6 h-6 text-red-500"});switch(j){case"pending":return n.jsx(vr,{className:"w-6 h-6 text-yellow-500"});case"processing":return n.jsx(Vs,{className:"w-6 h-6 text-blue-500"});case"shipped":return n.jsx(hn,{className:"w-6 h-6 text-purple-500"});case"delivered":return n.jsx(Ke,{className:"w-6 h-6 text-green-500"});case"cancelled":return n.jsx(Ht,{className:"w-6 h-6 text-red-500"});default:return n.jsx(vr,{className:"w-6 h-6 text-gray-500"})}},y=(j,k)=>{if(k==="failed")return"text-red-600 bg-red-100";switch(j){case"pending":return"text-yellow-600 bg-yellow-100";case"processing":return"text-blue-600 bg-blue-100";case"shipped":return"text-purple-600 bg-purple-100";case"delivered":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},x=(j,k)=>k==="failed"?"Payment Failed":j.charAt(0).toUpperCase()+j.slice(1),b=j=>j.status==="pending"||j.status==="processing",N=j=>j.status==="shipped"||j.status==="delivered";return c?n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4A5C3D] mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})}):u||!o?n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ht,{className:"mx-auto h-16 w-16 text-red-500 mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:u||"Order not found"}),n.jsxs("button",{onClick:()=>a("/profile"),className:"inline-flex items-center px-4 py-2 bg-[#4A5C3D] text-white rounded-lg hover:bg-[#3a4a2f] transition-colors",children:[n.jsx(Us,{className:"w-4 h-4 mr-2"}),"Back to Orders"]})]})}):n.jsx("div",{className:"bg-[#FDFBF8] pt-16 min-h-screen",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>a("/profile"),className:"inline-flex items-center text-[#4A5C3D] hover:text-[#3a4a2f] transition-colors mb-4",children:[n.jsx(Us,{className:"w-4 h-4 mr-2"}),"Back to Orders"]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-[#4A5C3D]",children:"Order Details"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Order #",o.order_number||o.id.slice(0,8),"  Placed on"," ",new Date(o.created_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[g(o.status,o.payment_status),n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${y(o.status,o.payment_status)}`,children:x(o.status,o.payment_status)})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold text-[#4A5C3D] mb-6",children:"Order Timeline"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Ke,{className:"w-4 h-4 text-green-600"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Order Placed"}),n.jsx("p",{className:"text-sm text-gray-500",children:new Date(o.created_at).toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${o.payment_status==="paid"?"bg-green-100":o.payment_status==="failed"?"bg-red-100":"bg-yellow-100"}`,children:n.jsx(zu,{className:`w-4 h-4 ${o.payment_status==="paid"?"text-green-600":o.payment_status==="failed"?"text-red-600":"text-yellow-600"}`})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:["Payment"," ",o.payment_status==="paid"?"Confirmed":o.payment_status==="failed"?"Failed":"Pending"]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[o.payment_method||"Razorpay"," "," ",o.currency||"INR"]})]})]}),o.status!=="pending"&&n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Vs,{className:"w-4 h-4 text-blue-600"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Processing"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Your order is being prepared"})]})]}),o.status==="shipped"&&n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(hn,{className:"w-4 h-4 text-purple-600"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Shipped"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Your order is on its way"})]})]}),o.status==="delivered"&&n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Ke,{className:"w-4 h-4 text-green-600"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Delivered"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Your order has been delivered"})]})]}),o.status==="cancelled"&&n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(Ht,{className:"w-4 h-4 text-red-600"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Cancelled"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["This order has been cancelled",o.refund_id&&n.jsxs("span",{className:"block text-green-600",children:["Refund ID: ",o.refund_id]})]})]})]}),o.refund_id&&n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${o.refund_status==="processed"?"bg-green-100":o.refund_status==="failed"?"bg-red-100":"bg-yellow-100"}`,children:n.jsx(Ot,{className:`w-4 h-4 ${o.refund_status==="processed"?"text-green-600":o.refund_status==="failed"?"text-red-600":"text-yellow-600"}`})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:["Refund"," ",o.refund_status==="processed"?"Processed":o.refund_status==="failed"?"Failed":"Pending"]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[o.refund_status==="processed"?`Refund of $${(S=o.refund_amount)==null?void 0:S.toFixed(2)} processed`:o.refund_status==="failed"?"Refund processing failed - contact support":"Refund is being processed",o.refunded_at&&n.jsx("span",{className:"block",children:new Date(o.refunded_at).toLocaleString()})]})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold text-[#4A5C3D] mb-6",children:"Order Items"}),n.jsx("div",{className:"space-y-4",children:o.order_items.map(j=>n.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-[#E6D9C5] rounded-lg flex items-center justify-center",children:n.jsx(Vs,{className:"w-8 h-8 text-[#4A5C3D]"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:j.product_name||"Product"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",j.quantity]}),n.jsxs("p",{className:"text-sm font-medium text-[#4A5C3D]",children:["",j.product_price.toFixed(2)," ",o.currency||"INR"," each"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-bold text-[#4A5C3D]",children:["",j.total_price.toFixed(2)," ",o.currency||"INR"]})})]},j.id))})]}),o.shipping_address&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold text-[#4A5C3D] mb-4",children:"Shipping Information"}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Pr,{className:"w-5 h-5 text-[#4A5C3D] mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:o.shipping_address.name||"Recipient Name"}),n.jsx("p",{className:"text-gray-600",children:o.shipping_address.address||"Address not provided"}),n.jsxs("p",{className:"text-gray-600",children:[o.shipping_address.city,","," ",o.shipping_address.state," ",o.shipping_address.zip]}),n.jsx("p",{className:"text-gray-600",children:o.shipping_address.country})]})]})]}),o.payment_id&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold text-[#4A5C3D] mb-4",children:"Payment Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Payment ID:"}),n.jsx("p",{className:"text-gray-900 font-mono",children:o.payment_id})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Payment Method:"}),n.jsx("p",{className:"text-gray-900 capitalize",children:o.payment_method||"Razorpay"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Currency:"}),n.jsx("p",{className:"text-gray-900",children:o.currency||"INR"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Payment Status:"}),n.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${o.payment_status==="paid"?"bg-green-100 text-green-800":o.payment_status==="failed"?"bg-red-100 text-red-800":o.payment_status==="refunded"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:o.payment_status||"Pending"})]})]}),o.refund_id&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Refund Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Refund ID:"}),n.jsx("p",{className:"text-gray-900 font-mono",children:o.refund_id})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Refund Amount:"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:["$",(()=>{const j=o.refund_amount||0;return(j>100?j/83:j).toFixed(2)})()," ",o.currency||"USD"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Refund Status:"}),n.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${o.refund_status==="processed"?"bg-green-100 text-green-800":o.refund_status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.refund_status||"Pending"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Refund Date:"}),n.jsx("p",{className:"text-gray-900",children:o.refunded_at?new Date(o.refunded_at).toLocaleDateString():"N/A"})]}),o.refund_reason&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Refund Reason:"}),n.jsx("p",{className:"text-gray-900",children:o.refund_reason})]})]})]})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 sticky top-24",children:[n.jsx("h2",{className:"text-xl font-bold text-[#4A5C3D] mb-6",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsxs("span",{className:"text-gray-900",children:["",o.subtotal.toFixed(2)," ",o.currency||"INR"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shipping:"}),n.jsxs("span",{className:"text-gray-900",children:["",((C=o.shipping_amount)==null?void 0:C.toFixed(2))||"0.00"," ",o.currency||"INR"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Items:"}),n.jsx("span",{className:"text-gray-900",children:o.order_items.reduce((j,k)=>j+k.quantity,0)})]}),n.jsx("div",{className:"border-t pt-3",children:n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{className:"text-[#4A5C3D]",children:"Total:"}),n.jsxs("span",{className:"text-[#A88B67]",children:["",o.total.toFixed(2)," ",o.currency||"INR"]})]})})]}),n.jsxs("div",{className:"mt-6 space-y-3",children:[b(o)&&n.jsxs("button",{onClick:()=>p("cancel"),disabled:m==="cancel",className:"w-full bg-red-600 text-white py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[m==="cancel"?n.jsx(Ot,{className:"w-4 h-4 animate-spin"}):n.jsx(is,{className:"w-4 h-4"}),n.jsx("span",{children:"Cancel Order"})]}),N(o)&&n.jsxs("button",{onClick:()=>p("track"),disabled:m==="track",className:"w-full border-2 border-blue-600 text-blue-600 py-2 rounded-lg font-semibold hover:bg-blue-600 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[m==="track"?n.jsx(Ot,{className:"w-4 h-4 animate-spin"}):n.jsx(hn,{className:"w-4 h-4"}),n.jsx("span",{children:"Track Package"})]}),n.jsxs("button",{onClick:()=>window.print(),className:"w-full border border-gray-300 text-gray-700 py-2 rounded-lg font-semibold hover:bg-gray-50 transition-colors flex items-center justify-center space-x-2",children:[n.jsx(I1,{className:"w-4 h-4"}),n.jsx("span",{children:"Download Invoice"})]}),n.jsxs("button",{onClick:()=>a("/contact"),className:"w-full border border-gray-300 text-gray-700 py-2 rounded-lg font-semibold hover:bg-gray-50 transition-colors flex items-center justify-center space-x-2",children:[n.jsx(Wu,{className:"w-4 h-4"}),n.jsx("span",{children:"Contact Support"})]})]}),n.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ar,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium text-yellow-800 mb-1",children:"Important Notes:"}),n.jsxs("ul",{className:"text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Orders can be cancelled within 24 hours"}),n.jsx("li",{children:" Returns accepted within 30 days"}),n.jsx("li",{children:" Contact support for any issues"})]})]})]})})]})})]})]})})},ur={products:{count:3,data:[{id:"1",name:"Devanagari Health Mix 200g",price:19.99,stock:100,category:"health_mix"},{id:"2",name:"Devanagari Health Mix 450g",price:29.99,stock:100,category:"health_mix"},{id:"3",name:"Devanagari Health Mix 900g",price:49.99,stock:100,category:"health_mix"}]},orders:{count:0,data:[]},users:{count:1,data:[{id:"7766c47a-312c-446c-82a5-0ea607607a0c",email:"adityapiyush71@gmail.com",name:"Admin User",is_admin:!0,role:"super_admin"}]},refunds:{count:0,data:[]}},Th=(e=100)=>new Promise(t=>setTimeout(t,e)),ze="https://pechixnsvyzcuprgtkga.supabase.co",Dp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBlY2hpeG5zdnl6Y3Vwcmd0a2dhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyNzQ2ODgsImV4cCI6MjA3Mzg1MDY4OH0.VWYG17Q5dOcyALCEKTx-tbhE3felirejGjqXpF5PidE",Be={apikey:Dp,"Content-Type":"application/json",Authorization:`Bearer ${Dp}`},Da="https://sreeshivanifoods.com/api",gt={async getProducts(){const e=await fetch(`${ze}/rest/v1/products?select=*`,{method:"GET",headers:Be});if(!e.ok)throw new Error(`Products fetch failed: ${e.status}`);return await e.json()},async getProductsCount(){var s;const e=await fetch(`${ze}/rest/v1/products?select=count`,{method:"GET",headers:{...Be,Prefer:"count=exact"}});if(!e.ok)throw new Error(`Products count fetch failed: ${e.status}`);const t=((s=e.headers.get("content-range"))==null?void 0:s.split("/")[1])||"0";return parseInt(t,10)||0},async getOrders(){const e=await fetch(`${ze}/rest/v1/orders?select=*,user:users(name,email),order_items(*,product:products(name,image_url))&order=created_at.desc`,{method:"GET",headers:Be});if(!e.ok)throw new Error(`Orders fetch failed: ${e.status}`);return await e.json()},async getOrdersCount(){var s;const e=await fetch(`${ze}/rest/v1/orders?select=count`,{method:"GET",headers:{...Be,Prefer:"count=exact"}});if(!e.ok)throw new Error(`Orders count fetch failed: ${e.status}`);const t=((s=e.headers.get("content-range"))==null?void 0:s.split("/")[1])||"0";return parseInt(t,10)||0},async getUsers(){const e=await fetch(`${ze}/rest/v1/users?select=*`,{method:"GET",headers:Be});if(!e.ok){const t=await e.text();throw new Error(`Users fetch failed: ${e.status} - ${t}`)}return await e.json()},async getUsersCount(){var s;const e=await fetch(`${ze}/rest/v1/users?select=count`,{method:"GET",headers:{...Be,Prefer:"count=exact"}});if(!e.ok){const r=await e.text();throw new Error(`Users count fetch failed: ${e.status} - ${r}`)}const t=((s=e.headers.get("content-range"))==null?void 0:s.split("/")[1])||"0";return parseInt(t,10)||0},async getRefunds(){try{const e=await fetch(`${ze}/rest/v1/orders?select=*,user:users(name,email)&or=(refund_id.not.is.null,status.eq.cancelled)&order=refunded_at.desc.nulls.last,created_at.desc`,{method:"GET",headers:Be});if(e.ok){const t=await e.json();return console.log(" Refunds query result (OR):",t.length,"items"),t}else throw console.warn("OR query failed, trying alternative approach..."),new Error(`OR query failed: ${e.status}`)}catch(e){console.warn("OR query failed, trying separate queries...",e);try{const t=await fetch(`${ze}/rest/v1/orders?select=*,user:users(name,email)&refund_id=not.is.null&order=refunded_at.desc`,{method:"GET",headers:Be}),s=await fetch(`${ze}/rest/v1/orders?select=*,user:users(name,email)&status=eq.cancelled&order=created_at.desc`,{method:"GET",headers:Be});let r=[],i=[];t.ok&&(r=await t.json(),console.log(" Orders with refund_id:",r.length,"items")),s.ok&&(i=await s.json(),console.log(" Cancelled orders:",i.length,"items"));const o=[...r,...i].filter((l,c,d)=>c===d.findIndex(u=>u.id===l.id));return console.log(" Combined refunds result:",o.length,"items"),o}catch(t){const s=t instanceof Error?t.message:String(t);throw console.error("Both queries failed:",t),new Error(`Refunds fetch failed: ${s}`)}}},async getUserById(e){const t=await fetch(`${ze}/rest/v1/users?select=is_admin,role,full_name,is_active,last_login,created_at&id=eq.${e}`,{method:"GET",headers:Be});if(!t.ok)throw new Error(`User fetch failed: ${t.status}`);return(await t.json())[0]||null},async updateUser(e,t){const s=await fetch(`${ze}/rest/v1/users?id=eq.${e}`,{method:"PATCH",headers:Be,body:JSON.stringify(t)});if(!s.ok)throw new Error(`User update failed: ${s.status}`);return await s.json()}},pE=async()=>{console.log(" Testing Supabase REST API"),console.log("============================");try{console.log("1. Testing products...");const e=await gt.getProducts();console.log(" Products:",e.length,"items"),console.log("2. Testing orders...");const t=await gt.getOrders();console.log(" Orders:",t.length,"items"),t.length>0&&(console.log(" Order details:"),t.forEach((i,a)=>{console.log(`  Order ${a+1}:`,{id:i.id,status:i.status,payment_status:i.payment_status,refund_id:i.refund_id,refund_status:i.refund_status,created_at:i.created_at})})),console.log("3. Testing users...");const s=await gt.getUsers();console.log(" Users:",s.length,"items"),console.log("4. Testing refunds...");const r=await gt.getRefunds();return console.log(" Refunds:",r.length,"items"),r.length>0&&(console.log(" Refund details:"),r.forEach((i,a)=>{console.log(`  Refund ${a+1}:`,{id:i.id,status:i.status,payment_status:i.payment_status,refund_id:i.refund_id,refund_status:i.refund_status,refund_amount:i.refund_amount,created_at:i.created_at})})),console.log(`
 REST API is working! Your real data is accessible!`),!0}catch(e){return console.error(" REST API test failed:",e),!1}},gE=async()=>{console.log(" Testing Refunds Query"),console.log("========================");try{console.log("1. Fetching all orders...");const e=await fetch(`${ze}/rest/v1/orders?select=*&order=created_at.desc`,{method:"GET",headers:Be});if(!e.ok)throw new Error(`All orders fetch failed: ${e.status}`);const t=await e.json();if(console.log(` Found ${t.length} total orders`),t.length>0){console.log(" All orders status breakdown:");const r=t.reduce((o,l)=>(o[l.status]=(o[l.status]||0)+1,o),{});console.log("Status counts:",r);const i=t.filter(o=>o.refund_id);console.log(` Orders with refund_id: ${i.length}`);const a=t.filter(o=>o.status==="cancelled");console.log(` Cancelled orders: ${a.length}`),a.length>0&&(console.log("Cancelled order details:"),a.forEach((o,l)=>{console.log(`  ${l+1}. Order ${o.id}:`,{status:o.status,payment_status:o.payment_status,refund_id:o.refund_id,refund_status:o.refund_status,created_at:o.created_at})}))}else console.log(" NO ORDERS FOUND IN DATABASE!"),console.log(" This means:"),console.log("   - No orders have been created yet"),console.log("   - Orders table might be empty"),console.log("   - There might be a database connection issue"),console.log(`
 To test refunds, you need to:`),console.log("   1. Create an order first (go to shop, add items, checkout)"),console.log("   2. Cancel that order"),console.log("   3. Then check refunds section");console.log(`
2. Testing refunds query...`);const s=await gt.getRefunds();return console.log(` Refunds query returned: ${s.length} items`),s.length>0?(console.log(" Refund query results:"),s.forEach((r,i)=>{console.log(`  ${i+1}. Order ${r.id}:`,{status:r.status,payment_status:r.payment_status,refund_id:r.refund_id,refund_status:r.refund_status,refund_amount:r.refund_amount,created_at:r.created_at})})):(console.log(" No refunds found. This could mean:"),console.log("   - No orders have been cancelled"),console.log("   - No orders have refund_id set"),console.log("   - The query filter is too restrictive")),s}catch(e){return console.error(" Refunds test failed:",e),[]}},xE=async()=>{var e,t,s;console.log(" Testing Database Tables"),console.log("==========================");try{console.log("1. Testing orders table...");const r=await fetch(`${ze}/rest/v1/orders?select=count`,{method:"GET",headers:{...Be,Prefer:"count=exact"}});if(r.ok){const o=((e=r.headers.get("content-range"))==null?void 0:e.split("/")[1])||"0",l=parseInt(o,10)||0;console.log(` Orders table: ${l} records`)}else console.log(" Orders table error:",r.status);console.log("2. Testing products table...");const i=await fetch(`${ze}/rest/v1/products?select=count`,{method:"GET",headers:{...Be,Prefer:"count=exact"}});if(i.ok){const o=((t=i.headers.get("content-range"))==null?void 0:t.split("/")[1])||"0",l=parseInt(o,10)||0;console.log(` Products table: ${l} records`)}else console.log(" Products table error:",i.status);console.log("3. Testing users table...");const a=await fetch(`${ze}/rest/v1/users?select=count`,{method:"GET",headers:{...Be,Prefer:"count=exact"}});if(a.ok){const o=((s=a.headers.get("content-range"))==null?void 0:s.split("/")[1])||"0",l=parseInt(o,10)||0;console.log(` Users table: ${l} records`)}else console.log(" Users table error:",a.status);return console.log(`
 Database table test completed!`),!0}catch(r){return console.error(" Database table test failed:",r),!1}},yE=async()=>{console.log(" Testing Razorpay Server"),console.log("=========================");try{console.log(" API Base URL:",Da),console.log("1. Testing server health...");const e=await fetch(`${Da.replace("/api","")}/health`);if(e.ok){const r=await e.json();console.log(" Server health:",r)}else console.log(" Server health check failed:",e.status);console.log("2. Testing Razorpay config...");const t=await fetch(`${Da}/razorpay/config`);if(t.ok){const r=await t.json();console.log(" Razorpay config:",r)}else{console.log(" Razorpay config failed:",t.status);const r=await t.text();console.log("Error details:",r)}console.log("3. Testing create order endpoint...");const s=await fetch(`${Da}/razorpay/create-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:100,currency:"INR",receipt:"test_receipt",notes:{test:!0}})});if(s.ok){const r=await s.json();console.log(" Create order test successful:",r)}else{console.log(" Create order test failed:",s.status);const r=await s.text();console.log("Error details:",r)}return console.log(`
 Razorpay server test completed!`),!0}catch(e){return console.error(" Razorpay server test failed:",e),!1}};window.testRestApi=pE;window.testRefundsQuery=gE;window.testDatabaseTables=xE;window.testRazorpayServer=yE;const vE=()=>{const{adminActions:e}=Xt(),[t,s]=w.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalRevenue:0,recentOrders:[],recentUsers:[],recentActions:[]}),[r,i]=w.useState(!0),[a,o]=w.useState(!1);w.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0),console.log(" Fetching dashboard data...");try{console.log(" Using authenticated Supabase client to fetch real data...");const{count:h,error:m}=await D.from("products").select("*",{count:"exact",head:!0});if(m)throw m;const{data:f,error:p}=await D.from("orders").select(`
            *,
            user:users(name,email),
            order_items(*,product:products(name,image_url))
          `).order("created_at",{ascending:!1});if(p)throw p;const{count:v,error:_}=await D.from("users").select("*",{count:"exact",head:!0});if(_)throw _;const{data:g,error:y}=await D.from("users").select("*").order("created_at",{ascending:!1}).limit(5);if(y)throw y;const x=(f==null?void 0:f.slice(0,5))||[];console.log(" Dashboard data loaded from authenticated Supabase");const b=(f||[]).filter(N=>N.status==="delivered").reduce((N,S)=>N+S.total,0);console.log(" Dashboard data loaded (real data from authenticated Supabase)"),s({totalProducts:h||0,totalOrders:(f==null?void 0:f.length)||0,totalUsers:v||0,totalRevenue:b,recentOrders:x,recentUsers:g||[],recentActions:e.slice(0,5)})}catch(h){console.warn(" Authenticated Supabase failed, trying REST API:",h);try{console.log(" Using REST API as fallback...");const[m,f,p,v,_]=await Promise.all([gt.getProductsCount(),gt.getOrders(),gt.getUsersCount(),gt.getOrders().then(y=>y.slice(0,5)),gt.getUsers().then(y=>y.slice(0,5))]);console.log(" Dashboard data loaded from REST API");const g=f.filter(y=>y.status==="delivered").reduce((y,x)=>y+x.total,0);console.log(" Dashboard data loaded (real data from REST API)"),s({totalProducts:m,totalOrders:f.length,totalUsers:p,totalRevenue:g,recentOrders:v,recentUsers:_,recentActions:e.slice(0,5)})}catch(m){console.warn(" REST API also failed, using mock data:",m),console.log(" Using mock data as fallback"),await Th(500),s({totalProducts:ur.products.count,totalOrders:ur.orders.count,totalUsers:ur.users.count,totalRevenue:0,recentOrders:ur.orders.data,recentUsers:ur.users.data,recentActions:e.slice(0,5)})}}}catch(h){console.error(" Error fetching dashboard data:",h),s({totalProducts:0,totalOrders:0,totalUsers:0,totalRevenue:0,recentOrders:[],recentUsers:[],recentActions:e.slice(0,5)})}finally{i(!1)}},c=h=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(h),d=h=>new Date(h).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=h=>{switch(h){case"delivered":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${a?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>o(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[n.jsx("a",{href:"/",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-200 mb-2",children:" Return to Home"}),n.jsx("a",{href:"/admin",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md bg-blue-100 text-blue-900",children:" Dashboard"}),n.jsx("a",{href:"/admin/products",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Products"}),n.jsx("a",{href:"/admin/orders",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Orders"}),n.jsx("a",{href:"/admin/users",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Users"}),n.jsx("a",{href:"/admin/analytics",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Analytics"}),n.jsx("a",{href:"/admin/refunds",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Refunds"}),n.jsx("a",{href:"/admin/settings",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Settings"})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("button",{type:"button",className:"lg:hidden -m-2.5 p-2.5 text-gray-700",onClick:()=>o(!0),children:n.jsx(Js,{className:"h-6 w-6"})})}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Overview of your e-commerce platform"})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Vs,{className:"h-6 w-6 text-gray-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Products"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t.totalProducts})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(zs,{className:"h-6 w-6 text-gray-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t.totalOrders})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(di,{className:"h-6 w-6 text-gray-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t.totalUsers})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Pn,{className:"h-6 w-6 text-gray-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c(t.totalRevenue)})]})})]})})})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-5 lg:grid-cols-3",children:[n.jsx("div",{className:"bg-white shadow rounded-lg",children:n.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Recent Orders"}),n.jsx("div",{className:"flow-root",children:t.recentOrders.length>0?n.jsx("ul",{className:"-my-5 divide-y divide-gray-200",children:t.recentOrders.map(h=>{var m,f;return n.jsx("li",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(zs,{className:"h-5 w-5 text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((m=h.users)==null?void 0:m.name)||((f=h.users)==null?void 0:f.email)}),n.jsx("p",{className:"text-sm text-gray-500",children:c(h.total)})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(h.status)}`,children:h.status})})]})},h.id)})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(zs,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No recent orders"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Orders will appear here once customers start placing them."})]})})]})}),n.jsx("div",{className:"bg-white shadow rounded-lg",children:n.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Recent Users"}),n.jsx("div",{className:"flow-root",children:t.recentUsers.length>0?n.jsx("ul",{className:"-my-5 divide-y divide-gray-200",children:t.recentUsers.map(h=>n.jsx("li",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(di,{className:"h-5 w-5 text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h.name||h.email}),n.jsx("p",{className:"text-sm text-gray-500",children:d(h.created_at)})]})]})},h.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(di,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No recent users"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"New user registrations will appear here."})]})})]})}),n.jsx("div",{className:"bg-white shadow rounded-lg",children:n.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Recent Actions"}),n.jsx("div",{className:"flow-root",children:t.recentActions.length>0?n.jsx("ul",{className:"-my-5 divide-y divide-gray-200",children:t.recentActions.map(h=>n.jsx("li",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(vr,{className:"h-5 w-5 text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[h.action_type," ",h.resource_type]}),n.jsx("p",{className:"text-sm text-gray-500",children:d(h.created_at)})]})]})},h.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(vr,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No recent actions"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Admin actions will appear here as you manage the system."})]})})]})})]})]})},wE=()=>{const{logAdminAction:e}=Xt(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,o]=w.useState(""),[l,c]=w.useState(!1),[d,u]=w.useState(!1),[h,m]=w.useState(null),[f,p]=w.useState({name:"",description:"",price:"",image_url:"",stock:"",weight:""});w.useEffect(()=>{v()},[]);const v=async()=>{try{i(!0);const{data:b,error:N}=await D.from("products").select("*").order("created_at",{ascending:!1});if(N)throw N;s(b||[])}catch(b){console.error("Error fetching products:",b)}finally{i(!1)}},_=async b=>{b.preventDefault();try{const N={name:f.name,description:f.description,price:parseFloat(f.price),image_url:f.image_url,stock:parseInt(f.stock),weight:parseInt(f.weight)};if(h){const{error:S}=await D.from("products").update(N).eq("id",h.id);if(S)throw S;await e({action_type:"update",resource_type:"product",resource_id:h.id,old_values:h,new_values:N,ip_address:null,user_agent:navigator.userAgent}),s(t.map(C=>C.id===h.id?{...C,...N}:C))}else{const{data:S,error:C}=await D.from("products").insert([N]).select().single();if(C)throw C;await e({action_type:"create",resource_type:"product",resource_id:S.id,old_values:null,new_values:N,ip_address:null,user_agent:navigator.userAgent}),s([S,...t])}u(!1),m(null),p({name:"",description:"",price:"",image_url:"",stock:"",weight:""})}catch(N){console.error("Error saving product:",N)}},g=b=>{m(b),p({name:b.name,description:b.description,price:b.price.toString(),image_url:b.image_url,stock:b.stock.toString(),weight:b.weight.toString()}),u(!0)},y=async b=>{if(confirm(`Are you sure you want to delete "${b.name}"?`))try{const{error:N}=await D.from("products").delete().eq("id",b.id);if(N)throw N;await e({action_type:"delete",resource_type:"product",resource_id:b.id,old_values:b,new_values:null,ip_address:null,user_agent:navigator.userAgent}),s(t.filter(S=>S.id!==b.id))}catch(N){console.error("Error deleting product:",N)}},x=t.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase()));return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${l?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>c(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[n.jsx("a",{href:"/",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-200 mb-2",children:" Return to Home"}),n.jsx("a",{href:"/admin",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Dashboard"}),n.jsx("a",{href:"/admin/products",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md bg-blue-100 text-blue-900",children:" Products"}),n.jsx("a",{href:"/admin/orders",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Orders"}),n.jsx("a",{href:"/admin/users",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Users"}),n.jsx("a",{href:"/admin/analytics",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Analytics"}),n.jsx("a",{href:"/admin/refunds",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Refunds"}),n.jsx("a",{href:"/admin/settings",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Settings"})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("button",{type:"button",className:"lg:hidden -m-2.5 p-2.5 text-gray-700",onClick:()=>c(!0),children:n.jsx(Js,{className:"h-6 w-6"})})}),n.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage your product catalog"})]}),n.jsx("div",{className:"mt-4 sm:mt-0",children:n.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Add Product"]})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search products...",value:a,onChange:b=>o(b.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),n.jsx("div",{className:"mt-8 flex flex-col",children:n.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:n.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:n.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weight"}),n.jsx("th",{className:"relative px-6 py-3",children:n.jsx("span",{className:"sr-only",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(b=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:n.jsx("img",{className:"h-10 w-10 rounded-lg object-cover",src:b.image_url,alt:b.name})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.name}),n.jsx("div",{className:"text-sm text-gray-500",children:b.description})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",b.price]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.stock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[b.weight,"g"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>g(b),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Jo,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>y(b),className:"text-red-600 hover:text-red-900",children:n.jsx(Xo,{className:"h-4 w-4"})})]})})]},b.id))})]})})})})}),d&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>u(!1)}),n.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:n.jsxs("form",{onSubmit:_,children:[n.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:h?"Edit Product":"Add New Product"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("input",{type:"text",required:!0,value:f.name,onChange:b=>p({...f,name:b.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{required:!0,value:f.description,onChange:b=>p({...f,description:b.target.value}),rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price ()"}),n.jsx("input",{type:"number",step:"0.01",required:!0,value:f.price,onChange:b=>p({...f,price:b.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Weight (g)"}),n.jsx("input",{type:"number",required:!0,value:f.weight,onChange:b=>p({...f,weight:b.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),n.jsx("input",{type:"number",required:!0,value:f.stock,onChange:b=>p({...f,stock:b.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image URL"}),n.jsx("input",{type:"url",required:!0,value:f.image_url,onChange:b=>p({...f,image_url:b.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[n.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:h?"Update":"Create"}),n.jsx("button",{type:"button",onClick:()=>u(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},bE=()=>{var j,k,A;const{logAdminAction:e}=Xt(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,o]=w.useState(""),[l,c]=w.useState("all"),[d,u]=w.useState(null),[h,m]=w.useState(!1),[f,p]=w.useState(!1);w.useEffect(()=>{v()},[]),w.useEffect(()=>{console.log(" selectedOrder changed:",d),console.log(" showModal:",h)},[d,h]);const v=async()=>{try{i(!0),console.log(" Fetching orders from database...");try{console.log(" Using authenticated Supabase client to fetch orders...");const{data:P,error:M}=await D.from("orders").select(`
            *,
            user:users(name,email),
            order_items(*,product:products(name,image_url))
          `).order("created_at",{ascending:!1});if(M)throw console.error(" Error fetching orders:",M),M;console.log(" Orders loaded (real data from authenticated Supabase):",(P==null?void 0:P.length)||0,"orders"),s(P||[])}catch(P){console.warn(" Authenticated Supabase failed, trying REST API:",P);try{console.log(" Using REST API as fallback...");const M=await gt.getOrders();console.log(" Orders loaded (real data from REST API):",M.length,"orders"),s(M)}catch(M){console.warn(" REST API also failed, using mock data:",M),console.log(" Using mock data as fallback"),await Th(300),s(ur.orders.data)}}}catch(P){console.error("Error fetching orders:",P),s([])}finally{i(!1)}},_=async(P,M)=>{var B;try{const{error:O}=await D.from("orders").update({status:M,updated_at:new Date().toISOString()}).eq("id",P);if(O)throw O;await e({action_type:"update",resource_type:"order",resource_id:P,old_values:{status:(B=t.find(J=>J.id===P))==null?void 0:B.status},new_values:{status:M},ip_address:null,user_agent:navigator.userAgent}),s(t.map(J=>J.id===P?{...J,status:M,updated_at:new Date().toISOString()}:J))}catch(O){console.error("Error updating order status:",O)}},g=P=>{switch(P){case"pending":return n.jsx(vr,{className:"h-4 w-4 text-yellow-500"});case"processing":return n.jsx(Vs,{className:"h-4 w-4 text-blue-500"});case"shipped":return n.jsx(hn,{className:"h-4 w-4 text-purple-500"});case"delivered":return n.jsx(Ke,{className:"h-4 w-4 text-green-500"});case"cancelled":return n.jsx(Ht,{className:"h-4 w-4 text-red-500"});case"refunded":return n.jsx(Ot,{className:"h-4 w-4 text-blue-500"});default:return n.jsx(vr,{className:"h-4 w-4 text-gray-500"})}},y=P=>{switch(P){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},x=t.filter(P=>{var O,J,ee,K;const M=((J=(O=P.user)==null?void 0:O.name)==null?void 0:J.toLowerCase().includes(a.toLowerCase()))||((K=(ee=P.user)==null?void 0:ee.email)==null?void 0:K.toLowerCase().includes(a.toLowerCase()))||P.id.toLowerCase().includes(a.toLowerCase()),B=l==="all"||P.status===l;return M&&B}),b=t.filter(P=>P.status==="delivered").reduce((P,M)=>P+M.total,0),N=t.length,S=t.filter(P=>P.status==="pending").length,C=t.filter(P=>P.status==="delivered").length;return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${f?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>p(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),n.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[n.jsx("a",{href:"/",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-200 mb-2",children:" Return to Home"}),n.jsx("a",{href:"/admin",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Dashboard"}),n.jsx("a",{href:"/admin/products",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Products"}),n.jsx("a",{href:"/admin/orders",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md bg-blue-100 text-blue-900",children:" Orders"}),n.jsx("a",{href:"/admin/users",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Users"}),n.jsx("a",{href:"/admin/analytics",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Analytics"}),n.jsx("a",{href:"/admin/refunds",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Refunds"}),n.jsx("a",{href:"/admin/settings",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Settings"})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("button",{type:"button",className:"lg:hidden -m-2.5 p-2.5 text-gray-700",onClick:()=>p(!0),children:n.jsx(Js,{className:"h-6 w-6"})})}),n.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage customer orders and track fulfillment"})]}),n.jsx("div",{className:"mt-4 sm:mt-0",children:n.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Vs,{className:"h-6 w-6 text-gray-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:N})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(vr,{className:"h-6 w-6 text-yellow-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Orders"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:S})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Ke,{className:"h-6 w-6 text-green-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Delivered"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:C})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Pn,{className:"h-6 w-6 text-green-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),n.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["",b.toFixed(2)," INR"]})]})})]})})})]}),n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search orders by customer name, email, or order ID...",value:a,onChange:P=>o(P.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(l0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsxs("select",{value:l,onChange:P=>c(P.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]})]}),n.jsx("div",{className:"mt-8 flex flex-col",children:n.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:n.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:n.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"relative px-6 py-3",children:n.jsx("span",{className:"sr-only",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(P=>{var M,B;return n.jsxs("tr",{children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",P.id.slice(-8)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:n.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:n.jsx(u0,{className:"h-4 w-4 text-gray-600"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((M=P.user)==null?void 0:M.name)||"Unknown"}),n.jsx("div",{className:"text-sm text-gray-500",children:((B=P.user)==null?void 0:B.email)||"No email"})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",P.total.toFixed(2)," ",P.currency||"INR"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(P.status)}`,children:[g(P.status),n.jsx("span",{className:"ml-1 capitalize",children:P.status})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.payment_status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P.payment_status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{console.log(" Eye button clicked for order:",P),u(P),m(!0)},className:"text-blue-600 hover:text-blue-900",children:n.jsx(Bu,{className:"h-4 w-4"})}),P.status!=="delivered"&&P.status!=="cancelled"&&n.jsxs("select",{value:P.status,onChange:O=>_(P.id,O.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})})]},P.id)})})]})})})})}),h&&d&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>m(!1)}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[n.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[n.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["Order Details - #",d.id.slice(-8)]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Customer Information"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",((j=d.user)==null?void 0:j.name)||"Unknown"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",((k=d.user)==null?void 0:k.email)||"No email"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Order Information"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Total:"})," $",d.total.toFixed(2)," ",d.currency||"USD"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{className:`px-2 py-1 rounded text-xs ${y(d.status)}`,children:d.status})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," ",d.payment_status]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",new Date(d.created_at).toLocaleString()]}),d.refund_id&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Refund ID:"})," ",d.refund_id]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Refund Amount:"})," $",(()=>{const P=d.refund_amount||0;return(P>100?P/83:P).toFixed(2)})()," ",d.currency||"USD"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Refund Status:"})," ",n.jsx("span",{className:`px-2 py-1 rounded text-xs ${d.refund_status==="processed"?"bg-green-100 text-green-800":d.refund_status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:d.refund_status})]}),d.refunded_at&&n.jsxs("p",{children:[n.jsx("strong",{children:"Refunded At:"})," ",new Date(d.refunded_at).toLocaleString()]}),d.refund_reason&&n.jsxs("p",{children:[n.jsx("strong",{children:"Refund Reason:"})," ",d.refund_reason]})]})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Order Items"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:(A=d.order_items)==null?void 0:A.map(P=>{var M,B,O;return n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 last:border-b-0",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("img",{src:((M=P.product)==null?void 0:M.image_url)||"/src/assets/shop/First page Flipkart.png",alt:(B=P.product)==null?void 0:B.name,className:"h-10 w-10 rounded-lg object-cover mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(O=P.product)==null?void 0:O.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",P.quantity]})]})]}),n.jsxs("p",{className:"font-medium",children:["",P.total_price.toFixed(2)," ",d.currency||"INR"]})]},P.id)})})]})]}),n.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:n.jsx("button",{type:"button",onClick:()=>m(!1),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})})]})]})})]})},jE=()=>{const[e,t]=w.useState([]),[s,r]=w.useState(!0),[i,a]=w.useState(!1),[o,l]=w.useState(null),[c,d]=w.useState(null),{user:u}=ut(),{showSuccess:h,showError:m}=Zt();console.log("PromoCodes - User:",u),console.log("PromoCodes - User ID:",u==null?void 0:u.id),console.log("PromoCodes - User Email:",u==null?void 0:u.email);const[f,p]=w.useState({code:"",description:"",discount_type:"percentage",discount_value:0,min_order_amount:0,max_discount_amount:"",usage_limit:"",is_active:!0,valid_from:new Date().toISOString().split("T")[0],valid_until:""});w.useEffect(()=>{v()},[]);const v=async()=>{try{r(!0);const{data:j,error:k}=await D.from("promo_codes").select("*").order("created_at",{ascending:!1});if(k)throw k;t(j||[])}catch(j){console.error("Error fetching promo codes:",j),m("Error","Failed to fetch promo codes")}finally{r(!1)}},_=async j=>{j.preventDefault();try{const k={...f,max_discount_amount:f.max_discount_amount?parseFloat(f.max_discount_amount):null,usage_limit:f.usage_limit?parseInt(f.usage_limit):null,valid_until:f.valid_until||null,created_by:u==null?void 0:u.id};if(o){const{error:A}=await D.from("promo_codes").update(k).eq("id",o.id);if(A)throw A;h("Success","Promo code updated successfully")}else{const{error:A}=await D.from("promo_codes").insert([k]);if(A)throw A;h("Success","Promo code created successfully")}a(!1),l(null),x(),v()}catch(k){console.error("Error saving promo code:",k),m("Error","Failed to save promo code")}},g=j=>{var k,A,P;l(j),p({code:j.code,description:j.description,discount_type:j.discount_type,discount_value:j.discount_value,min_order_amount:j.min_order_amount,max_discount_amount:((k=j.max_discount_amount)==null?void 0:k.toString())||"",usage_limit:((A=j.usage_limit)==null?void 0:A.toString())||"",is_active:j.is_active,valid_from:j.valid_from.split("T")[0],valid_until:((P=j.valid_until)==null?void 0:P.split("T")[0])||""}),a(!0)},y=async j=>{try{console.log("Deleting promo code with ID:",j);const{data:k,error:A}=await D.from("promo_codes").select("*").eq("id",j).single();if(A)throw console.error("Error fetching promo code:",A),new Error(`Failed to fetch promo code: ${A.message}`);console.log("Found promo code to delete:",k);const{error:P,count:M}=await D.from("promo_codes").delete({count:"exact"}).eq("id",j);if(P)throw console.error("Delete error:",P),new Error(`Delete failed: ${P.message}`);if(console.log("Delete result - error:",P,"count:",M),M===0)throw new Error("No rows were deleted. The promo code may not exist or you may not have permission to delete it.");console.log("Delete successful, refreshing list..."),h("Success","Promo code deleted successfully"),t(B=>B.filter(O=>O.id!==j)),await v()}catch(k){console.error("Error deleting promo code:",k),m("Error",`Failed to delete promo code: ${k.message}`)}finally{d(null)}},x=()=>{p({code:"",description:"",discount_type:"percentage",discount_value:0,min_order_amount:0,max_discount_amount:"",usage_limit:"",is_active:!0,valid_from:new Date().toISOString().split("T")[0],valid_until:""})},b=j=>{switch(j){case"percentage":return n.jsx(Xm,{className:"w-4 h-4"});case"fixed":return n.jsx(Pn,{className:"w-4 h-4"});case"shipping":return n.jsx(hn,{className:"w-4 h-4"});default:return n.jsx(Xm,{className:"w-4 h-4"})}},N=j=>{switch(j.discount_type){case"percentage":return`${j.discount_value}% off`;case"fixed":return`${j.discount_value} off`;case"shipping":return"Free shipping";default:return`${j.discount_value}% off`}},S=j=>j?new Date(j)<new Date:!1,C=j=>new Date(j)>new Date;return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4A5C3D]"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-[#4A5C3D]",children:"Promo Codes"}),n.jsx("p",{className:"text-gray-600",children:"Manage promotional codes and discounts"})]}),n.jsxs("button",{onClick:()=>{x(),l(null),a(!0)},className:"bg-[#4A5C3D] text-white px-4 py-2 rounded-lg hover:bg-[#3a4a2f] transition-colors flex items-center space-x-2",children:[n.jsx(Ji,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Promo Code"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(j=>n.jsxs("div",{className:`bg-white rounded-lg shadow-lg p-6 border-l-4 ${j.is_active?S(j.valid_until)?"border-red-500":C(j.valid_from)?"border-yellow-500":"border-green-500":"border-gray-400"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[b(j.discount_type),n.jsx("h3",{className:"font-bold text-lg text-[#4A5C3D]",children:j.code})]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("button",{onClick:()=>g(j),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",children:n.jsx(Jo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>d(j.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:n.jsx(Xo,{className:"w-4 h-4"})})]})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:j.description}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Discount:"}),n.jsx("span",{className:"font-semibold",children:N(j)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Min Order:"}),n.jsxs("span",{children:["",j.min_order_amount]})]}),j.max_discount_amount&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Max Discount:"}),n.jsxs("span",{children:["",j.max_discount_amount]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Usage:"}),n.jsxs("span",{children:[j.used_count,j.usage_limit?` / ${j.usage_limit}`:" / "]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(o0,{className:"w-3 h-3"}),n.jsx("span",{children:S(j.valid_until)?"Expired":C(j.valid_from)?"Upcoming":"Active"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[j.is_active?n.jsx(Ke,{className:"w-3 h-3 text-green-500"}):n.jsx(Ht,{className:"w-3 h-3 text-gray-400"}),n.jsx("span",{children:j.is_active?"Active":"Inactive"})]})]})]},j.id))}),e.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ar,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Promo Codes"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first promo code to get started"}),n.jsx("button",{onClick:()=>{x(),l(null),a(!0)},className:"bg-[#4A5C3D] text-white px-6 py-2 rounded-lg hover:bg-[#3a4a2f] transition-colors",children:"Create Promo Code"})]}),i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-[#4A5C3D]",children:o?"Edit Promo Code":"Create Promo Code"}),n.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("form",{onSubmit:_,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code *"}),n.jsx("input",{type:"text",value:f.code,onChange:j=>p({...f,code:j.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"WELCOME10",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type *"}),n.jsxs("select",{value:f.discount_type,onChange:j=>p({...f,discount_type:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",children:[n.jsx("option",{value:"percentage",children:"Percentage"}),n.jsx("option",{value:"fixed",children:"Fixed Amount"}),n.jsx("option",{value:"shipping",children:"Free Shipping"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("input",{type:"text",value:f.description,onChange:j=>p({...f,description:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"10% off on your first order",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Value *"}),n.jsx("input",{type:"number",value:f.discount_value,onChange:j=>p({...f,discount_value:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"10",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order Amount"}),n.jsx("input",{type:"number",value:f.min_order_amount,onChange:j=>p({...f,min_order_amount:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount Amount"}),n.jsx("input",{type:"number",value:f.max_discount_amount,onChange:j=>p({...f,max_discount_amount:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"100",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit"}),n.jsx("input",{type:"number",value:f.usage_limit,onChange:j=>p({...f,usage_limit:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",placeholder:"1000",min:"1"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From *"}),n.jsx("input",{type:"date",value:f.valid_from,onChange:j=>p({...f,valid_from:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until"}),n.jsx("input",{type:"date",value:f.valid_until,onChange:j=>p({...f,valid_until:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4A5C3D] focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"is_active",checked:f.is_active,onChange:j=>p({...f,is_active:j.target.checked}),className:"w-4 h-4 text-[#4A5C3D] border-gray-300 rounded focus:ring-[#4A5C3D]"}),n.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Active"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#4A5C3D] text-white rounded-lg hover:bg-[#3a4a2f] transition-colors",children:o?"Update":"Create"})]})]})]})})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Ar,{className:"w-8 h-8 text-red-500 mr-3"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Promo Code"})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this promo code? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>y(c),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})})]})},NE=()=>{var C,j;Xt();const[e,t]=w.useState([]),[s,r]=w.useState(!0),[i,a]=w.useState(""),[o,l]=w.useState("all"),[c,d]=w.useState(null),[u,h]=w.useState(!1),[m,f]=w.useState(!1);w.useEffect(()=>{p()},[]);const p=async()=>{try{r(!0),console.log(" Fetching refunds from database...");try{console.log(" Using authenticated Supabase client to fetch refunds...");const{data:k,error:A}=await D.from("orders").select(`
            *,
            user:users(name,email)
          `).or("refund_id.not.is.null,status.eq.cancelled").order("refunded_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(A)throw console.error(" Error fetching refunds:",A),A;console.log(" Refunds loaded (real data from Supabase client):",(k==null?void 0:k.length)||0,"refunds"),k&&k.length>0?(console.log(" Refunds details:"),k.forEach((P,M)=>{var B,O;console.log(`  ${M+1}. Order ${P.id}:`,{status:P.status,payment_status:P.payment_status,refund_id:P.refund_id,refund_status:P.refund_status,refund_amount:P.refund_amount,user:((B=P.user)==null?void 0:B.name)||((O=P.user)==null?void 0:O.email)||"Unknown",created_at:P.created_at})})):(console.log(" No refunds found in database"),console.log(" This could mean:"),console.log("   - No orders have been cancelled yet"),console.log("   - No orders have refund_id set"),console.log("   - The refunds query is not working correctly")),t(k||[])}catch(k){console.warn(" Supabase client failed, trying REST API fallback:",k);try{console.log(" Using REST API as fallback...");const A=await gt.getRefunds();console.log(" Refunds loaded from REST API fallback:",A.length,"refunds"),t(A)}catch(A){console.warn(" REST API also failed, using mock data:",A),console.log(" Using mock data as final fallback"),await Th(300),t(ur.refunds.data)}}}catch(k){console.error("Error fetching refunds:",k),t([])}finally{r(!1)}},v=k=>{switch(k){case"processed":return n.jsx(Ke,{className:"h-4 w-4 text-green-500"});case"failed":return n.jsx(Ht,{className:"h-4 w-4 text-red-500"});case"pending":return n.jsx(Ot,{className:"h-4 w-4 text-yellow-500"});default:return n.jsx(Ar,{className:"h-4 w-4 text-gray-500"})}},_=k=>{switch(k){case"processed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(k),y=e.filter(k=>{var M,B,O,J,ee,K;const A=((M=k.refund_id)==null?void 0:M.toLowerCase().includes(i.toLowerCase()))||!1||((O=(B=k.user)==null?void 0:B.name)==null?void 0:O.toLowerCase().includes(i.toLowerCase()))||!1||((ee=(J=k.user)==null?void 0:J.email)==null?void 0:ee.toLowerCase().includes(i.toLowerCase()))||!1||((K=k.payment_id)==null?void 0:K.toLowerCase().includes(i.toLowerCase()))||!1,P=o==="all"||k.refund_status===o;return A&&P}),x=e.reduce((k,A)=>{const P=A.refund_amount||0;return k+P},0),b=e.filter(k=>k.refund_status==="processed").length,N=e.filter(k=>k.refund_status==="pending").length,S=e.filter(k=>k.refund_status==="failed").length;return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${m?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>f(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[n.jsx("a",{href:"/",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-200 mb-2",children:" Return to Home"}),n.jsx("a",{href:"/admin",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Dashboard"}),n.jsx("a",{href:"/admin/products",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Products"}),n.jsx("a",{href:"/admin/orders",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Orders"}),n.jsx("a",{href:"/admin/users",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Users"}),n.jsx("a",{href:"/admin/analytics",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Analytics"}),n.jsx("a",{href:"/admin/refunds",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md bg-blue-100 text-blue-900",children:" Refunds"}),n.jsx("a",{href:"/admin/settings",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Settings"})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("button",{type:"button",className:"lg:hidden -m-2.5 p-2.5 text-gray-700",onClick:()=>f(!0),children:n.jsx(Js,{className:"h-6 w-6"})})}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Refund Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage and track order refunds and their status"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Pn,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Refunded"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(x)})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Ke,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Processed"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Ot,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(Ht,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S})]})]})})]}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search refunds by ID, customer, or payment ID...",value:i,onChange:k=>a(k.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),n.jsx("div",{className:"sm:w-48",children:n.jsxs("select",{value:o,onChange:k=>l(k.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processed",children:"Processed"}),n.jsx("option",{value:"failed",children:"Failed"})]})})]})}),n.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Refund ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Refunded At"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(k=>{var A,P;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:k.refund_id?`${k.refund_id.slice(0,12)}...`:"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:n.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:n.jsx(u0,{className:"h-4 w-4 text-gray-600"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((A=k.user)==null?void 0:A.name)||"Unknown"}),n.jsx("div",{className:"text-sm text-gray-500",children:((P=k.user)==null?void 0:P.email)||"No email"})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g(k.refund_amount||0)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(k.refund_status)}`,children:[v(k.refund_status),n.jsx("span",{className:"ml-1 capitalize",children:k.refund_status||"unknown"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.refunded_at?new Date(k.refunded_at).toLocaleDateString():"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("button",{onClick:()=>{d(k),h(!0)},className:"text-blue-600 hover:text-blue-900 flex items-center",children:[n.jsx(Bu,{className:"h-4 w-4 mr-1"}),"View Details"]})})]},k.id)})})]})})}),u&&c&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>h(!1)}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[n.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[n.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["Refund Details -"," ",c.refund_id?`${c.refund_id.slice(0,12)}...`:"N/A"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Customer Information"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",((C=c.user)==null?void 0:C.name)||"Unknown"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",((j=c.user)==null?void 0:j.email)||"No email"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Refund Information"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Refund ID:"})," ",c.refund_id||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Amount:"})," ",g(c.refund_amount||0)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{className:`px-2 py-1 rounded text-xs ${_(c.refund_status)}`,children:c.refund_status})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Reason:"})," ",c.refund_reason||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Refunded At:"})," ",c.refunded_at?new Date(c.refunded_at).toLocaleString():"N/A"]})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Order Information"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Order ID:"})," ",c.id]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Payment ID:"})," ",c.payment_id]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Original Amount:"})," ",g(c.total||0)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Order Status:"})," ",c.status]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Payment Status:"})," ",c.payment_status]})]})]})]}),n.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:n.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>h(!1),children:"Close"})})]})]})})]})},_E=()=>{const{logAdminAction:e,isSuperAdmin:t}=Xt(),[s,r]=w.useState([]),[i,a]=w.useState(!0),[o,l]=w.useState(""),[c,d]=w.useState("all"),[u,h]=w.useState("all"),[m,f]=w.useState(null),[p,v]=w.useState(!1),[_,g]=w.useState(!1),[y,x]=w.useState(null),[b,N]=w.useState(!1),[S,C]=w.useState({email:"",name:"",role:"user",is_active:!0});w.useEffect(()=>{j()},[]);const j=async()=>{try{a(!0),console.log(" Fetching users from database...");const{data:E,error:F}=await D.from("users").select("*").order("created_at",{ascending:!1});if(F)throw console.error(" Error fetching users:",F),console.error("Error details:",{code:F.code,message:F.message,details:F.details,hint:F.hint}),F;console.log(" Users fetched successfully:",(E==null?void 0:E.length)||0,"users"),r(E||[])}catch(E){console.error("Error fetching users:",E),r([])}finally{a(!1)}},k=async E=>{try{const F=s.find(W=>W.id===E);if(!F)return;const I=!F.is_active,{error:V}=await D.from("users").update({is_active:I,updated_at:new Date().toISOString()}).eq("id",E);if(V)throw V;await e({action_type:I?"activate":"deactivate",resource_type:"user",resource_id:E,old_values:{is_active:F.is_active},new_values:{is_active:I},ip_address:null,user_agent:navigator.userAgent}),r(s.map(W=>W.id===E?{...W,is_active:I,updated_at:new Date().toISOString()}:W))}catch(F){console.error("Error toggling user status:",F)}},A=async E=>{E.preventDefault();try{const{data:F,error:I}=await D.from("users").insert([{email:S.email,name:S.name,role:S.role,is_active:S.is_active,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(I)throw I;await e({action_type:"create",resource_type:"user",resource_id:F.id,old_values:null,new_values:S,ip_address:null,user_agent:navigator.userAgent}),r([F,...s]),g(!1),C({email:"",name:"",role:"user",is_active:!0})}catch(F){console.error("Error creating user:",F)}},P=E=>{switch(E){case"super_admin":return n.jsx(wr,{className:"h-4 w-4 text-red-500"});case"admin":return n.jsx(wr,{className:"h-4 w-4 text-blue-500"});default:return n.jsx(Wn,{className:"h-4 w-4 text-gray-500"})}},M=E=>{switch(E){case"super_admin":return"bg-red-100 text-red-800";case"admin":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},B=s.filter(E=>{var W,xe;const F=((W=E.name)==null?void 0:W.toLowerCase().includes(o.toLowerCase()))||((xe=E.email)==null?void 0:xe.toLowerCase().includes(o.toLowerCase())),I=c==="all"||E.role===c,V=u==="all"||u==="active"&&E.is_active||u==="inactive"&&!E.is_active;return F&&I&&V}),O=s.length,J=s.filter(E=>E.is_active).length,ee=s.filter(E=>E.role==="admin"||E.role==="super_admin").length,K=s.filter(E=>{const F=new Date(E.created_at),I=new Date;return I.setDate(I.getDate()-7),F>I}).length;return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${b?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>N(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[n.jsx("a",{href:"/",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-200 mb-2",children:" Return to Home"}),n.jsx("a",{href:"/admin",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Dashboard"}),n.jsx("a",{href:"/admin/products",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Products"}),n.jsx("a",{href:"/admin/orders",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Orders"}),n.jsx("a",{href:"/admin/users",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md bg-blue-100 text-blue-900",children:" Users"}),n.jsx("a",{href:"/admin/analytics",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Analytics"}),n.jsx("a",{href:"/admin/refunds",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Refunds"}),n.jsx("a",{href:"/admin/settings",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Settings"})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("button",{type:"button",className:"lg:hidden -m-2.5 p-2.5 text-gray-700",onClick:()=>N(!0),children:n.jsx(Js,{className:"h-6 w-6"})})}),n.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage user accounts and permissions"})]}),n.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[t&&n.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(Y1,{className:"h-4 w-4 mr-2"}),"Add User"]}),n.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Wn,{className:"h-6 w-6 text-gray-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:O})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Wn,{className:"h-6 w-6 text-green-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Users"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:J})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(wr,{className:"h-6 w-6 text-blue-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Admin Users"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:ee})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(o0,{className:"h-6 w-6 text-purple-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"New This Week"}),n.jsx("dd",{className:"text-lg font-medium text-gray-900",children:K})]})})]})})})]}),n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:o,onChange:E=>l(E.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(l0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"all",children:"All Roles"}),n.jsx("option",{value:"user",children:"Users"}),n.jsx("option",{value:"admin",children:"Admins"}),n.jsx("option",{value:"super_admin",children:"Super Admins"})]})]}),n.jsx("div",{className:"relative",children:n.jsxs("select",{value:u,onChange:E=>h(E.target.value),className:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),n.jsx("div",{className:"mt-8 flex flex-col",children:n.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:n.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:n.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"relative px-6 py-3",children:n.jsx("span",{className:"sr-only",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(E=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex-shrink-0 h-10 w-10",children:[E.avatar_url?n.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:E.avatar_url,alt:E.name,onError:F=>{var I;F.currentTarget.style.display="none",(I=F.currentTarget.nextElementSibling)==null||I.classList.remove("hidden")}}):null,n.jsx("div",{className:`h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center ${E.avatar_url?"hidden":""}`,children:n.jsx("span",{className:"text-sm font-bold text-gray-600",children:(E.name||E.email||"U").charAt(0).toUpperCase()})})]}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name||"No name"}),n.jsx("div",{className:"text-sm text-gray-500",children:E.email})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M(E.role)}`,children:[P(E.role),n.jsx("span",{className:"ml-1 capitalize",children:E.role.replace("_"," ")})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_active?n.jsxs(n.Fragment,{children:[n.jsx(Wn,{className:"h-3 w-3 mr-1"}),"Active"]}):n.jsxs(n.Fragment,{children:[n.jsx(Zm,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.last_login?new Date(E.last_login).toLocaleDateString():"Never"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{f(E),v(!0)},className:"text-blue-600 hover:text-blue-900",children:n.jsx(Bu,{className:"h-4 w-4"})}),t&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{x(E),v(!0)},className:"text-green-600 hover:text-green-900",children:n.jsx(Jo,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>k(E.id),className:`${E.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,children:E.is_active?n.jsx(Zm,{className:"h-4 w-4"}):n.jsx(Wn,{className:"h-4 w-4"})})]})]})})]},E.id))})]})})})})}),p&&m&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>v(!1)}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[n.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"User Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[m.avatar_url?n.jsx("img",{className:"h-16 w-16 rounded-full object-cover",src:m.avatar_url,alt:m.name,onError:E=>{var F;E.currentTarget.style.display="none",(F=E.currentTarget.nextElementSibling)==null||F.classList.remove("hidden")}}):null,n.jsx("div",{className:`h-16 w-16 rounded-full bg-gray-300 flex items-center justify-center ${m.avatar_url?"hidden":""}`,children:n.jsx("span",{className:"text-2xl font-bold text-gray-600",children:(m.name||m.email||"U").charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900",children:m.name||"No name"}),n.jsx("p",{className:"text-sm text-gray-500",children:m.email})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),n.jsx("p",{className:"text-sm text-gray-900 capitalize",children:m.role.replace("_"," ")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),n.jsx("p",{className:`text-sm ${m.is_active?"text-green-600":"text-red-600"}`,children:m.is_active?"Active":"Inactive"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Login"}),n.jsx("p",{className:"text-sm text-gray-900",children:m.last_login?new Date(m.last_login).toLocaleString():"Never"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created"}),n.jsx("p",{className:"text-sm text-gray-900",children:new Date(m.created_at).toLocaleString()})]})]})]})]}),n.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:n.jsx("button",{type:"button",onClick:()=>v(!1),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})})]})]})}),_&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>g(!1)}),n.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:n.jsxs("form",{onSubmit:A,children:[n.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Create New User"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsx("input",{type:"email",required:!0,value:S.email,onChange:E=>C({...S,email:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("input",{type:"text",required:!0,value:S.name,onChange:E=>C({...S,name:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),n.jsxs("select",{value:S.role,onChange:E=>C({...S,role:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"is_active",checked:S.is_active,onChange:E=>C({...S,is_active:E.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active user"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[n.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Create User"}),n.jsx("button",{type:"button",onClick:()=>g(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},kE=()=>{Xt();const[e,t]=w.useState(null),[s,r]=w.useState(!0),[i,a]=w.useState("30");w.useState("revenue");const[o,l]=w.useState(!1);w.useEffect(()=>{c()},[i]);const c=async()=>{try{r(!0);const h=parseInt(i),m=new Date;m.setDate(m.getDate()-h);const{data:f,error:p}=await D.from("orders").select(`
          id,
          total,
          status,
          created_at,
          user:users(name, email)
        `).gte("created_at",m.toISOString()).order("created_at",{ascending:!1});if(p)throw p;const{data:v,error:_}=await D.from("users").select("id, created_at").gte("created_at",m.toISOString());if(_)throw _;const{data:g,error:y}=await D.from("products").select("id, name");if(y)throw y;const{data:x,error:b}=await D.from("order_items").select(`
          product_id,
          quantity,
          price,
          order_id,
          product:products(name)
        `).in("order_id",(f==null?void 0:f.map(I=>I.id))||[]);if(b)throw b;const N=(f==null?void 0:f.filter(I=>I.status==="delivered").reduce((I,V)=>I+V.total,0))||0,S=(f==null?void 0:f.length)||0,C=(v==null?void 0:v.length)||0,j=(g==null?void 0:g.length)||0,k=new Date(m);k.setDate(k.getDate()-h);const{data:A}=await D.from("orders").select("total, status, created_at").gte("created_at",k.toISOString()).lt("created_at",m.toISOString()),P=(A==null?void 0:A.filter(I=>I.status==="delivered").reduce((I,V)=>I+V.total,0))||0,M=(A==null?void 0:A.length)||0,B=P>0?(N-P)/P*100:0,O=M>0?(S-M)/M*100:0,J=new Map;x==null||x.forEach(I=>{var xe;const V=I.product_id;J.has(V)||J.set(V,{product_id:V,name:((xe=I.product)==null?void 0:xe.name)||"Unknown",total_quantity:0,total_revenue:0});const W=J.get(V);W.total_quantity+=I.quantity,W.total_revenue+=I.total_price});const ee=Array.from(J.values()).sort((I,V)=>V.total_revenue-I.total_revenue).slice(0,5),K=[];for(let I=11;I>=0;I--){const V=new Date;V.setMonth(V.getMonth()-I);const W=new Date(V.getFullYear(),V.getMonth(),1),xe=new Date(V.getFullYear(),V.getMonth()+1,0),T=((f==null?void 0:f.filter(U=>{const re=new Date(U.created_at);return re>=W&&re<=xe&&U.status==="delivered"}))||[]).reduce((U,re)=>U+re.total,0);K.push({month:V.toLocaleDateString("en-US",{month:"short",year:"numeric"}),revenue:T})}const E=new Map;f==null||f.forEach(I=>{const V=I.status;E.set(V,(E.get(V)||0)+1)});const F=Array.from(E.entries()).map(([I,V])=>({status:I,count:V}));t({totalRevenue:N,totalOrders:S,totalUsers:C,totalProducts:j,revenueGrowth:B,ordersGrowth:O,usersGrowth:0,recentOrders:(f==null?void 0:f.slice(0,10))||[],topProducts:ee,monthlyRevenue:K,orderStatusDistribution:F})}catch(h){console.error("Error fetching analytics:",h)}finally{r(!1)}},d=h=>h>=0?n.jsx(G1,{className:"h-4 w-4 text-green-500"}):n.jsx(K1,{className:"h-4 w-4 text-red-500"}),u=h=>h>=0?"text-green-600":"text-red-600";return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e?n.jsxs("div",{children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${o?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>l(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[n.jsx("a",{href:"/",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-200 mb-2",children:" Return to Home"}),n.jsx("a",{href:"/admin",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Dashboard"}),n.jsx("a",{href:"/admin/products",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Products"}),n.jsx("a",{href:"/admin/orders",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Orders"}),n.jsx("a",{href:"/admin/users",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Users"}),n.jsx("a",{href:"/admin/analytics",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md bg-blue-100 text-blue-900",children:" Analytics"}),n.jsx("a",{href:"/admin/refunds",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Refunds"}),n.jsx("a",{href:"/admin/settings",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Settings"})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("button",{type:"button",className:"lg:hidden -m-2.5 p-2.5 text-gray-700",onClick:()=>l(!0),children:n.jsx(Js,{className:"h-6 w-6"})})}),n.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Business insights and performance metrics"})]}),n.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[n.jsxs("select",{value:i,onChange:h=>a(h.target.value),className:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"7",children:"Last 7 days"}),n.jsx("option",{value:"30",children:"Last 30 days"}),n.jsx("option",{value:"90",children:"Last 90 days"}),n.jsx("option",{value:"365",children:"Last year"})]}),n.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Pn,{className:"h-6 w-6 text-green-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),n.jsxs("dd",{className:"flex items-baseline",children:[n.jsxs("div",{className:"text-2xl font-semibold text-gray-900",children:["",e.totalRevenue.toFixed(2)," INR"]}),n.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${u(e.revenueGrowth)}`,children:[d(e.revenueGrowth),n.jsxs("span",{className:"ml-1",children:[Math.abs(e.revenueGrowth).toFixed(1),"%"]})]})]})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(zs,{className:"h-6 w-6 text-blue-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),n.jsxs("dd",{className:"flex items-baseline",children:[n.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:e.totalOrders}),n.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${u(e.ordersGrowth)}`,children:[d(e.ordersGrowth),n.jsxs("span",{className:"ml-1",children:[Math.abs(e.ordersGrowth).toFixed(1),"%"]})]})]})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(di,{className:"h-6 w-6 text-purple-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),n.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:e.totalUsers})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Vs,{className:"h-6 w-6 text-orange-400"})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Products"}),n.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:e.totalProducts})]})})]})})})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Revenue"}),n.jsx("div",{className:"space-y-3",children:e.monthlyRevenue.map((h,m)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:h.month}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(100,h.revenue/Math.max(...e.monthlyRevenue.map(f=>f.revenue))*100)}%`}})}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",h.revenue.toFixed(0)]})]})]},m))})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Status Distribution"}),n.jsx("div",{className:"space-y-3",children:e.orderStatusDistribution.map((h,m)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 capitalize",children:h.status}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${h.count/e.totalOrders*100}%`}})}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:h.count})]})]},m))})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white shadow rounded-lg",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top Products"})}),n.jsx("div",{className:"divide-y divide-gray-200",children:e.topProducts.map((h,m)=>n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:n.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["#",m+1]})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[h.total_quantity," units sold"]})]})]}),n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",h.total_revenue.toFixed(2)," INR"]})]})},h.product_id))})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Orders"})}),n.jsx("div",{className:"divide-y divide-gray-200",children:e.recentOrders.map(h=>{var m;return n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((m=h.user)==null?void 0:m.name)||"Unknown Customer"}),n.jsx("div",{className:"text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",h.total.toFixed(2)," INR"]})]})},h.id)})})]})]})]}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No analytics data available"})})},SE=()=>{const{logAdminAction:e,isSuperAdmin:t}=Xt(),[s,r]=w.useState({site_name:"Devanagari Health Mix",site_description:"Premium blend of 21 natural grains, millets, and pulses",site_url:"https://devanagari.com",admin_email:"admin@devanagari.com",support_email:"support@devanagari.com",currency:"INR",currency_symbol:"",timezone:"Asia/Kolkata",maintenance_mode:!1,registration_enabled:!0,email_notifications:!0,order_notifications:!0,low_stock_threshold:10,free_shipping_threshold:500,tax_rate:18,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),[i,a]=w.useState(!0),[o,l]=w.useState(!1),[c,d]=w.useState(null),[u,h]=w.useState(!1);w.useEffect(()=>{m()},[]);const m=async()=>{try{a(!0),a(!1)}catch(v){console.error("Error fetching settings:",v),a(!1)}},f=async()=>{try{l(!0),await new Promise(v=>setTimeout(v,1e3)),await e({action_type:"update",resource_type:"settings",resource_id:"global",old_values:null,new_values:s,ip_address:null,user_agent:navigator.userAgent}),d({type:"success",text:"Settings saved successfully!"}),setTimeout(()=>d(null),3e3)}catch(v){console.error("Error saving settings:",v),d({type:"error",text:"Failed to save settings. Please try again."})}finally{l(!1)}},p=(v,_)=>{r(g=>({...g,[v]:_,updated_at:new Date().toISOString()}))};return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${u?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>h(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),n.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[n.jsx("a",{href:"/",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-200 mb-2",children:" Return to Home"}),n.jsx("a",{href:"/admin",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Dashboard"}),n.jsx("a",{href:"/admin/products",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Products"}),n.jsx("a",{href:"/admin/orders",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Orders"}),n.jsx("a",{href:"/admin/users",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Users"}),n.jsx("a",{href:"/admin/analytics",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Analytics"}),n.jsx("a",{href:"/admin/refunds",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:" Refunds"}),n.jsx("a",{href:"/admin/settings",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md bg-blue-100 text-blue-900",children:" Settings"})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("button",{type:"button",className:"lg:hidden -m-2.5 p-2.5 text-gray-700",onClick:()=>h(!0),children:n.jsx(Js,{className:"h-6 w-6"})})}),n.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage system configuration and preferences"})]}),n.jsx("div",{className:"mt-4 sm:mt-0",children:n.jsx("button",{onClick:f,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(B1,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})})]}),c&&n.jsx("div",{className:`mt-4 p-4 rounded-md ${c.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:c.type==="success"?n.jsx(Ke,{className:"h-5 w-5 text-green-400"}):n.jsx(Ar,{className:"h-5 w-5 text-red-400"})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:`text-sm font-medium ${c.type==="success"?"text-green-800":"text-red-800"}`,children:c.text})})]})}),n.jsxs("div",{className:"mt-6 space-y-8",children:[n.jsxs("div",{className:"bg-white shadow rounded-lg",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(d0,{className:"h-5 w-5 mr-2"}),"General Settings"]})}),n.jsxs("div",{className:"px-6 py-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Site Name"}),n.jsx("input",{type:"text",value:s.site_name,onChange:v=>p("site_name",v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Site URL"}),n.jsx("input",{type:"url",value:s.site_url,onChange:v=>p("site_url",v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Site Description"}),n.jsx("textarea",{rows:3,value:s.site_description,onChange:v=>p("site_description",v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Timezone"}),n.jsxs("select",{value:s.timezone,onChange:v=>p("timezone",v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"Asia/Kolkata",children:"Asia/Kolkata (IST)"}),n.jsx("option",{value:"UTC",children:"UTC"}),n.jsx("option",{value:"America/New_York",children:"America/New_York (EST)"}),n.jsx("option",{value:"Europe/London",children:"Europe/London (GMT)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),n.jsxs("select",{value:s.currency,onChange:v=>p("currency",v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"INR",children:"Indian Rupee ()"}),n.jsx("option",{value:"USD",children:"US Dollar ($)"}),n.jsx("option",{value:"EUR",children:"Euro ()"}),n.jsx("option",{value:"GBP",children:"British Pound ()"})]})]})]})]})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(qu,{className:"h-5 w-5 mr-2"}),"Email Settings"]})}),n.jsxs("div",{className:"px-6 py-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Email"}),n.jsx("input",{type:"email",value:s.admin_email,onChange:v=>p("admin_email",v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Support Email"}),n.jsx("input",{type:"email",value:s.support_email,onChange:v=>p("support_email",v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"email_notifications",checked:s.email_notifications,onChange:v=>p("email_notifications",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"email_notifications",className:"ml-2 block text-sm text-gray-900",children:"Enable email notifications"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"order_notifications",checked:s.order_notifications,onChange:v=>p("order_notifications",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"order_notifications",className:"ml-2 block text-sm text-gray-900",children:"Send order notifications to admin"})]})]})]})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(Pn,{className:"h-5 w-5 mr-2"}),"Business Settings"]})}),n.jsx("div",{className:"px-6 py-4 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tax Rate (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:s.tax_rate,onChange:v=>p("tax_rate",parseFloat(v.target.value)),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Free Shipping Threshold ($)"}),n.jsx("input",{type:"number",min:"0",value:s.free_shipping_threshold,onChange:v=>p("free_shipping_threshold",parseFloat(v.target.value)),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Low Stock Threshold"}),n.jsx("input",{type:"number",min:"0",value:s.low_stock_threshold,onChange:v=>p("low_stock_threshold",parseInt(v.target.value)),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(wr,{className:"h-5 w-5 mr-2"}),"System Settings"]})}),n.jsx("div",{className:"px-6 py-4 space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"maintenance_mode",checked:s.maintenance_mode,onChange:v=>p("maintenance_mode",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"maintenance_mode",className:"ml-2 block text-sm text-gray-900",children:"Enable maintenance mode"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"registration_enabled",checked:s.registration_enabled,onChange:v=>p("registration_enabled",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"registration_enabled",className:"ml-2 block text-sm text-gray-900",children:"Allow user registration"})]})]})})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(O1,{className:"h-5 w-5 mr-2"}),"Database Information"]})}),n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Last Updated"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(s.updated_at).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(s.created_at).toLocaleString()})]})]})})]})]})]})},CE=()=>{const[e,t]=w.useState(!0),[s,r]=w.useState(null),i=Qs();return w.useEffect(()=>{(async()=>{try{t(!0),console.log("Current URL:",window.location.href),console.log("URL Hash:",window.location.hash),console.log("URL Search:",window.location.search);const o=new URLSearchParams(window.location.search),l=o.get("error"),c=o.get("error_description");if(l==="server_error"&&(c!=null&&c.includes("Database error granting user"))){console.log("Database error detected, redirecting to home page..."),i("/",{replace:!0});return}const{data:d,error:u}=await D.auth.getSession();if(console.log("Session data:",d),console.log("Session error:",u),u){console.error("Auth callback error:",u),r(u.message);return}if(d.session)console.log(" Auth callback successful, user signed in:",d.session.user.email),i("/",{replace:!0});else{const h=new URLSearchParams(window.location.hash.substring(1)),m=h.get("access_token"),f=h.get("refresh_token");if(console.log("Hash params:",Object.fromEntries(h.entries())),m&&f){console.log("Found tokens in URL, setting session...");const{data:p,error:v}=await D.auth.setSession({access_token:m,refresh_token:f});if(v){console.error("Error setting session:",v),r(v.message);return}if(p.session){console.log(" Session set successfully, user signed in:",p.session.user.email),i("/",{replace:!0});return}}console.log(" No session found in callback"),r("Authentication failed. Please try again.")}}catch(o){console.error("Error in auth callback:",o),r("An unexpected error occurred. Please try again.")}finally{t(!1)}})()},[i]),e?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#FDFBF8]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4A5C3D] mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Completing sign in..."})]})}):s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#FDFBF8]",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[n.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign In Failed"}),n.jsx("p",{className:"text-gray-600 mb-6",children:s}),n.jsx("button",{onClick:()=>i("/"),className:"px-4 py-2 bg-[#4A5C3D] text-white rounded-lg hover:bg-[#3a4a2d] transition-colors",children:"Go to Home"})]})}):null},EE=async()=>{console.log(" Debug Admin Connection"),console.log("========================"),console.log("0. Checking Supabase configuration..."),console.log("   URL:",D.supabaseUrl),console.log("   Has Key:",!!D.supabaseKey),console.log(`
1. Checking current user...`);try{const e=D.auth.getUser(),t=new Promise((o,l)=>setTimeout(()=>l(new Error("Auth timeout")),3e3)),s=await Promise.race([e,t]),{data:{user:r},error:i}=s;if(i){console.error(" Auth error:",i);return}if(!r){console.log(" No user logged in");return}console.log(" User:",r.email),console.log("   ID:",r.id),console.log(`
2. Checking admin status...`);const a=r.email==="adityapiyush71@gmail.com";console.log("   Is admin (by email):",a),console.log(`
3. Testing database connection...`);try{const o=D.from("products").select("count").limit(1),l=new Promise((u,h)=>setTimeout(()=>h(new Error("DB timeout")),3e3)),{data:c,error:d}=await Promise.race([o,l]);d?(console.warn(" Database error:",d.message),console.log("   This might be why admin panel is not working")):console.log(" Database connection working")}catch(o){console.error(" Database connection failed:",o)}console.log(`
4. Checking user in database...`);try{const o=D.from("users").select("is_admin, role, full_name").eq("id",r.id).single(),l=new Promise((u,h)=>setTimeout(()=>h(new Error("User DB timeout")),3e3)),{data:c,error:d}=await Promise.race([o,l]);d?(console.warn(" User not in database:",d.message),console.log("   This is expected if database setup is incomplete")):console.log(" User found in database:",c)}catch(o){console.error(" User database query failed:",o)}console.log(`
 Debug complete!`),console.log("If you see database errors, the admin panel will use fallback mode.")}catch(e){console.error(" Debug failed:",e),console.log("This suggests a fundamental issue with Supabase connection")}},AE=()=>{console.log(" Basic Debug Info"),console.log("==================="),console.log("Supabase URL:",D.supabaseUrl),console.log("Has Supabase Key:",!!D.supabaseKey),console.log("Current URL:",window.location.href),console.log("User Agent:",navigator.userAgent),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?console.log(" Running on localhost"):console.log(" Not running on localhost:",window.location.hostname)};window.debugAdmin=EE;window.debugBasic=AE;const PE=()=>{console.log(" Testing Supabase Client"),console.log("==========================");try{const{supabase:e}=require("../lib/supabaseClient");console.log(" Supabase client imported successfully"),console.log("   URL:",e.supabaseUrl),console.log("   Key exists:",!!e.supabaseKey);const t=e.from("test").select("*");console.log(" Query object created:",typeof t);const s=e.auth;return console.log(" Auth object exists:",typeof s),console.log(" Supabase client appears to be working!"),!0}catch(e){return console.error(" Supabase client test failed:",e),!1}};window.testSupabaseClient=PE;const TE=()=>{console.log(" Testing Admin Panel"),console.log("=====================");const e=window.location.pathname.includes("/admin");console.log(" On admin page:",e);const t=localStorage.getItem("authUser");if(t)try{const r=JSON.parse(t);console.log(" User found in localStorage:",r.email);const i=r.email==="adityapiyush71@gmail.com";console.log(" Is admin (by email):",i),i?(console.log(" Admin panel should work!"),console.log("   - Dashboard should load"),console.log("   - Orders should load"),console.log("   - Refunds should load"),console.log("   - Profile settings should work")):console.log(" User is not admin, admin panel will be restricted")}catch(r){console.error(" Error parsing user data:",r)}else console.log(" No user found in localStorage");window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&console.log(" React DevTools available"),console.log(`
 Next steps:`),console.log("1. Refresh the page"),console.log("2. Check if admin panel loads"),console.log("3. Try changing profile settings"),console.log("4. Check console for any errors")};window.testAdminPanel=TE;const DE=async()=>{console.log(" Checking Supabase Project Status"),console.log("===================================");const e="https://pechixnsvyzcuprgtkga.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBlY2hpeG5zdnl6Y3Vwcmd0a2dhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyNzQ2ODgsImV4cCI6MjA3Mzg1MDY4OH0.VWYG17Q5dOcyALCEKTx-tbhE3felirejGjqXpF5PidE";try{console.log("1. Testing Supabase URL connectivity...");const s=await fetch(`${e}/rest/v1/`,{method:"HEAD",headers:{apikey:t,"Content-Type":"application/json"}});s.ok?console.log(" Supabase URL is reachable"):console.log(" Supabase URL returned:",s.status,s.statusText),console.log(`
2. Checking project status...`);const r=await fetch(`${e}/rest/v1/`,{method:"GET",headers:{apikey:t,"Content-Type":"application/json"}});console.log("Project response status:",r.status),console.log(`
3. Checking if tables exist...`);const i=await fetch(`${e}/rest/v1/products?select=count`,{method:"GET",headers:{apikey:t,"Content-Type":"application/json"}});if(i.ok){const a=await i.json();console.log(" Products table accessible, count:",a.length)}else console.log(" Products table error:",i.status,i.statusText);console.log(`
 Next steps:`),console.log(`1. Check your Supabase dashboard at: ${e.replace("/rest/v1","")}`),console.log("2. Verify your project is active and not paused"),console.log("3. Check if your database schema is set up correctly"),console.log("4. Verify your API keys are correct")}catch(s){console.error(" Supabase status check failed:",s),console.log(`
 Possible issues:`),console.log("- Project might be paused or deleted"),console.log("- Network connectivity issues"),console.log("- API keys might be incorrect"),console.log("- Database might not be set up")}};window.checkSupabaseStatus=DE;const RE=()=>{console.log(" Restoring Real Database Functionality"),console.log("========================================"),console.log("To restore your real data, you need to:"),console.log(""),console.log("1.  Check Supabase Project Status:"),console.log("   Run: checkSupabaseStatus()"),console.log(""),console.log("2.  Fix Database Connection:"),console.log("   - Go to: https://supabase.com/dashboard/project/xjkogcsghvpegwpuxkrc"),console.log("   - Check if project is active"),console.log("   - Verify database is running"),console.log("   - Check if tables exist"),console.log(""),console.log("3.  Verify Your Data:"),console.log("   - Check if your products exist"),console.log("   - Check if your orders exist"),console.log("   - Check if your users exist"),console.log(""),console.log("4.  Once Database is Fixed:"),console.log("   - The admin panel will automatically use real data"),console.log("   - Mock data will be replaced with your actual data"),console.log("   - Profile settings will work with real database"),console.log(""),console.log("5.  Common Issues:"),console.log("   - Project might be paused (check billing)"),console.log("   - Database might be down for maintenance"),console.log("   - API keys might be incorrect"),console.log("   - Network connectivity issues"),console.log(""),console.log(" The mock data is just a temporary fix to keep the admin panel working!"),console.log("   Your real data is still in Supabase, we just can't access it right now.")};window.restoreDatabase=RE;function OE(){return w.useEffect(()=>{(()=>{if(!document.querySelector('script[src="https://checkout.razorpay.com/v1/checkout.js"]')){const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.async=!0,t.onload=()=>{console.log(" Razorpay SDK loaded successfully")},t.onerror=()=>{console.error(" Failed to load Razorpay SDK")},document.head.appendChild(t)}})()},[]),n.jsx(v1,{children:n.jsx(h2,{children:n.jsx(m2,{children:n.jsx(f2,{children:n.jsx(j2,{children:n.jsx("div",{className:"min-h-screen flex flex-col font-['Inter']",children:n.jsxs(Yj,{children:[n.jsx(be,{path:"/",element:n.jsxs(n.Fragment,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(w2,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/shop",element:n.jsxs(n.Fragment,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(S2,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/cart",element:n.jsxs(n.Fragment,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(A2,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/checkout",element:n.jsxs(n.Fragment,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(P2,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/about",element:n.jsxs(n.Fragment,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(cE,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/contact",element:n.jsxs(n.Fragment,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(dE,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/terms",element:n.jsxs(n.Fragment,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(uE,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/profile",element:n.jsxs(Hl,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(hE,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/settings",element:n.jsxs(Hl,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(mE,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/order/:orderId",element:n.jsxs(Hl,{children:[n.jsx(Ut,{}),n.jsx("main",{className:"flex-1",children:n.jsx(fE,{})}),n.jsx(Vt,{})]})}),n.jsx(be,{path:"/admin",element:n.jsx(ws,{children:n.jsx(bs,{children:n.jsx(vE,{})})})}),n.jsx(be,{path:"/admin/products",element:n.jsx(ws,{children:n.jsx(bs,{children:n.jsx(wE,{})})})}),n.jsx(be,{path:"/admin/orders",element:n.jsx(ws,{children:n.jsx(bs,{children:n.jsx(bE,{})})})}),n.jsx(be,{path:"/admin/promo-codes",element:n.jsx(ws,{children:n.jsx(bs,{children:n.jsx(jE,{})})})}),n.jsx(be,{path:"/admin/refunds",element:n.jsx(ws,{children:n.jsx(bs,{children:n.jsx(NE,{})})})}),n.jsx(be,{path:"/admin/users",element:n.jsx(ws,{children:n.jsx(bs,{children:n.jsx(_E,{})})})}),n.jsx(be,{path:"/admin/analytics",element:n.jsx(ws,{children:n.jsx(bs,{children:n.jsx(kE,{})})})}),n.jsx(be,{path:"/admin/settings",element:n.jsx(ws,{children:n.jsx(bs,{children:n.jsx(SE,{})})})}),n.jsx(be,{path:"/auth/callback",element:n.jsx(CE,{})})]})})})})})})})}class IE extends Hv.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("ErrorBoundary caught an error:",t,s)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#FDFBF8]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-[#4A5C3D] mb-4",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Please refresh the page to try again."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#4A5C3D] text-white rounded-lg hover:bg-[#3a4a2f] transition-colors",children:"Refresh Page"}),this.state.error&&n.jsxs("details",{className:"mt-4 text-left",children:[n.jsx("summary",{className:"cursor-pointer text-sm text-gray-500",children:"Error Details"}),n.jsx("pre",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded overflow-auto",children:this.state.error.toString()})]})]})}):this.props.children}}Wx(document.getElementById("root")).render(n.jsx(w.StrictMode,{children:n.jsx(IE,{children:n.jsx(OE,{})})}));
